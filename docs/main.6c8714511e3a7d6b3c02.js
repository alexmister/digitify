(self.webpackChunkdigitify=self.webpackChunkdigitify||[]).push([[179],{8255:Ve=>{function pe(M){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+M+"'");throw _.code="MODULE_NOT_FOUND",_})}pe.keys=()=>[],pe.resolve=pe,pe.id=8255,Ve.exports=pe},3018:(Ve,pe,M)=>{"use strict";M.d(pe,{deG:()=>cf,tb:()=>l1,AFp:()=>Eh,ip1:()=>gt,CZH:()=>Xt,hGG:()=>ZS,z2F:()=>uy,sBO:()=>$d,Sil:()=>ay,_Vd:()=>Zo,EJc:()=>d1,SBq:()=>rr,qLn:()=>Aa,vpe:()=>Ei,gxx:()=>Uo,tBr:()=>Ea,XFs:()=>He,OlP:()=>Yt,zs3:()=>St,ZZ4:()=>jd,aQg:()=>ml,soG:()=>cw,YKP:()=>qd,v3s:()=>RS,h0i:()=>_o,PXZ:()=>DS,R0b:()=>Di,FiY:()=>xi,Lbi:()=>c1,g9A:()=>u1,Qsj:()=>q_,FYo:()=>gl,JOm:()=>Pi,Tiy:()=>gn,q3G:()=>$t,tp0:()=>Oo,EAV:()=>OS,Rgc:()=>qi,dDg:()=>m1,DyG:()=>lf,q4F:()=>_m,GfV:()=>z_,s_b:()=>zd,ifc:()=>zt,eFA:()=>w1,G48:()=>mS,X6Q:()=>mI,_c5:()=>$S,VLi:()=>gS,c2e:()=>f1,zSh:()=>As,wAp:()=>Be,vHH:()=>we,EiD:()=>mp,mCW:()=>hc,qzn:()=>fr,JVY:()=>dv,pB0:()=>pv,eBb:()=>gE,L6k:()=>hv,LAX:()=>Ca,cg1:()=>Sd,Tjo:()=>BS,kL8:()=>al,yhl:()=>Da,dqk:()=>L,sIi:()=>jc,CqO:()=>nu,QGY:()=>yd,F4k:()=>tu,RDi:()=>Gu,AaK:()=>P,z3N:()=>ci,TTD:()=>Cy,xp6:()=>Yv,uIk:()=>pd,Suo:()=>Ll,Xpm:()=>Mh,lG2:()=>yy,Yz7:()=>en,cJS:()=>Io,oAB:()=>Wl,Yjl:()=>vy,Y36:()=>Xa,_UZ:()=>Ag,qZA:()=>md,TgZ:()=>Qc,Ikx:()=>Td,LFG:()=>dn,$8M:()=>Ai,NdJ:()=>ru,CRH:()=>$b,Q6J:()=>Kc,iGM:()=>Bb,LSH:()=>Ni,kYT:()=>Vu,_uU:()=>pt});var _=M(9765),te=M(5319),he=M(7574),re=M(6682),ae=M(2441);var ue=M(1307);function G(){return new _.xQ}function k(o){for(let s in o)if(o[s]===k)return s;throw Error("Could not find renamed property on target object.")}function P(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(P).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function H(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ie=k({__forward_ref__:k});function se(o){return o.__forward_ref__=se,o.toString=function(){return P(this())},o}function oe(o){return function(o){return"function"==typeof o&&o.hasOwnProperty(ie)&&o.__forward_ref__===se}(o)?o():o}class we extends Error{constructor(s,u){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,u)),this.code=s}}function Re(o){return"string"==typeof o?o:null==o?"":String(o)}function Ot(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Re(o)}function J(o,s){const u=s?` in ${s}`:"";throw new we("201",`No provider for ${Ot(o)} found${u}`)}function Ct(o,s){null==o&&function(o,s,u,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${u} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function en(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Io(o){return{providers:o.providers||[],imports:o.imports||[]}}function st(o){return yt(o,Lt)||yt(o,wr)}function yt(o,s){return o.hasOwnProperty(s)?o[s]:null}function mn(o){return o&&(o.hasOwnProperty(tn)||o.hasOwnProperty(is))?o[tn]:null}const Lt=k({\u0275prov:k}),tn=k({\u0275inj:k}),wr=k({ngInjectableDef:k}),is=k({ngInjectorDef:k});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let zl;function Ji(o){const s=zl;return zl=o,s}function nn(o,s,u){const l=st(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&He.Optional?null:void 0!==s?s:void J(P(o),"Injector")}function qe(o){return{toString:o}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),zt=(()=>((zt=zt||{})[zt.Emulated=0]="Emulated",zt[zt.None=2]="None",zt[zt.ShadowDom=3]="ShadowDom",zt))();const Er="undefined"!=typeof globalThis&&globalThis,Rh="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,L=Er||V||Rh||F,Ee={},Ce=[],vt=k({\u0275cmp:k}),It=k({\u0275dir:k}),Et=k({\u0275pipe:k}),En=k({\u0275mod:k}),Qn=k({\u0275loc:k}),cn=k({\u0275fac:k}),ti=k({__NG_ELEMENT_ID__:k});let xh=0;function Mh(o){return qe(()=>{const u={},l={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ce,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||zt.Emulated,id:"c",styles:o.styles||Ce,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,h=o.features,g=o.pipes;return l.id+=xh++,l.inputs=ia(o.inputs,u),l.outputs=ia(o.outputs),h&&h.forEach(y=>y(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(gy):null,l.pipeDefs=g?()=>("function"==typeof g?g():g).map(Nh):null,l})}function gy(o){return Sn(o)||function(o){return o[It]||null}(o)}function Nh(o){return function(o){return o[Et]||null}(o)}const my={};function Wl(o){return qe(()=>{const s={type:o.type,bootstrap:o.bootstrap||Ce,declarations:o.declarations||Ce,imports:o.imports||Ce,exports:o.exports||Ce,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(my[o.id]=o.type),s})}function Vu(o,s){return qe(()=>{const u=sr(o,!0);u.declarations=s.declarations||Ce,u.imports=s.imports||Ce,u.exports=s.exports||Ce})}function ia(o,s){if(null==o)return Ee;const u={};for(const l in o)if(o.hasOwnProperty(l)){let f=o[l],h=f;Array.isArray(f)&&(h=f[1],f=f[0]),u[f]=l,s&&(s[f]=h)}return u}const yy=Mh;function vy(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Sn(o){return o[vt]||null}function sr(o,s){const u=o[En]||null;if(!u&&!0===s)throw new Error(`Type ${P(o)} does not have '\u0275mod' property.`);return u}function to(o){return Array.isArray(o)&&"object"==typeof o[1]}function rn(o){return Array.isArray(o)&&!0===o[1]}function Lh(o){return 0!=(8&o.flags)}function Yl(o){return 2==(2&o.flags)}function Jl(o){return 1==(1&o.flags)}function ri(o){return null!==o.template}function Dw(o){return 0!=(512&o[2])}function us(o,s){return o.hasOwnProperty(cn)?o[cn]:null}class Dy{constructor(s,u,l){this.previousValue=s,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Cy(){return Vh}function Vh(o){return o.type.prototype.ngOnChanges&&(o.setInput=JI),YI}function YI(){const o=Uh(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===Ee)o.previous=s;else for(let l in s)u[l]=s[l];o.current=null,this.ngOnChanges(s)}}function JI(o,s,u,l){const f=Uh(o)||function(o,s){return o[Aw]=s}(o,{previous:Ee,current:null}),h=f.current||(f.current={}),g=f.previous,y=this.declaredInputs[u],v=g[y];h[y]=new Dy(v&&v.currentValue,s,g===Ee),o[l]=s}Cy.ngInherit=!0;const Aw="__ngSimpleChanges__";function Uh(o){return o[Aw]||null}let $u;function Gu(o){$u=o}function Kt(o){return!!o.listen}const Sy={createRenderer:(o,s)=>void 0!==$u?$u:"undefined"!=typeof document?document:void 0};function Qt(o){for(;Array.isArray(o);)o=o[0];return o}function oi(o,s){return Qt(s[o.index])}function ua(o,s){return o.data[s]}function Cr(o,s){const u=s[o];return to(u)?u:u[0]}function Ay(o){return 4==(4&o[2])}function Hh(o){return 128==(128&o[2])}function To(o,s){return null==s?null:o[s]}function xy(o){o[18]=0}function $h(o,s){o[5]+=s;let u=o,l=o[3];for(;null!==l&&(1===s&&1===u[5]||-1===s&&0===u[5]);)l[5]+=s,u=l,l=l[3]}const tt={lFrame:Uy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qh(){return tt.bindingsEnabled}function de(){return tt.lFrame.lView}function lt(){return tt.lFrame.tView}function fn(){let o=Oy();for(;null!==o&&64===o.type;)o=o.parent;return o}function Oy(){return tt.lFrame.currentTNode}function Ii(o,s){const u=tt.lFrame;u.currentTNode=o,u.isParent=s}function zh(){return tt.lFrame.isParent}function la(){return tt.isInCheckNoChangesMode}function fa(o){tt.isInCheckNoChangesMode=o}function da(){return tt.lFrame.bindingIndex++}function Kh(o,s){const u=tt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Qh(s)}function Qh(o){tt.lFrame.currentDirectiveIndex=o}function ky(){return tt.lFrame.currentQueryIndex}function Ly(o){tt.lFrame.currentQueryIndex=o}function kw(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Lw(o,s,u){if(u&He.SkipSelf){let f=s,h=o;for(;!(f=f.parent,null!==f||u&He.Host||(f=kw(h),null===f||(h=h[15],10&f.type))););if(null===f)return!1;s=f,o=h}const l=tt.lFrame=Vy();return l.currentTNode=s,l.lView=o,!0}function Qu(o){const s=Vy(),u=o[1];tt.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Vy(){const o=tt.lFrame,s=null===o?null:o.child;return null===s?Uy(o):s}function Uy(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Yh(){const o=tt.lFrame;return tt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Vw=Yh;function Jh(){const o=Yh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Yn(){return tt.lFrame.selectedIndex}function So(o){tt.lFrame.selectedIndex=o}function Zt(){const o=tt.lFrame;return ua(o.tView,o.selectedIndex)}function nf(o,s){for(let u=s.directiveStart,l=s.directiveEnd;u<l;u++){const h=o.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:D}=h;g&&(o.contentHooks||(o.contentHooks=[])).push(-u,g),y&&((o.contentHooks||(o.contentHooks=[])).push(u,y),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,y)),v&&(o.viewHooks||(o.viewHooks=[])).push(-u,v),w&&((o.viewHooks||(o.viewHooks=[])).push(u,w),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,w)),null!=D&&(o.destroyHooks||(o.destroyHooks=[])).push(u,D)}}function rf(o,s,u){By(o,s,3,u)}function tp(o,s,u,l){(3&o[2])===u&&By(o,s,u,l)}function jy(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function By(o,s,u,l){const h=null!=l?l:-1,g=s.length-1;let y=0;for(let v=void 0!==l?65535&o[18]:0;v<g;v++)if("number"==typeof s[v+1]){if(y=s[v],null!=l&&y>=l)break}else s[v]<0&&(o[18]+=65536),(y<h||-1==h)&&($w(o,u,s,v),o[18]=(4294901760&o[18])+v+2),v++}function $w(o,s,u,l){const f=u[l]<0,h=u[l+1],y=o[f?-u[l]:u[l]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class Zu{constructor(s,u,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function ha(o,s,u){const l=Kt(o);let f=0;for(;f<u.length;){const h=u[f];if("number"==typeof h){if(0!==h)break;f++;const g=u[f++],y=u[f++],v=u[f++];l?o.setAttribute(s,y,v,g):s.setAttributeNS(g,y,v)}else{const g=h,y=u[++f];$y(g)?l&&o.setProperty(s,g,y):l?o.setAttribute(s,g,y):s.setAttribute(g,y),f++}}return f}function np(o){return 3===o||4===o||6===o}function $y(o){return 64===o.charCodeAt(0)}function rp(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?u=f:0===u||zw(o,u,f,null,-1===u||2===u?s[++l]:null)}}return o}function zw(o,s,u,l,f){let h=0,g=o.length;if(-1===s)g=-1;else for(;h<o.length;){const y=o[h++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=h-1;break}}}for(;h<o.length;){const y=o[h];if("number"==typeof y)break;if(y===u){if(null===l)return void(null!==f&&(o[h+1]=f));if(l===o[h+1])return void(o[h+2]=f)}h++,null!==l&&h++,null!==f&&h++}-1!==g&&(o.splice(g,0,s),h=g+1),o.splice(h++,0,u),null!==l&&o.splice(h++,0,l),null!==f&&o.splice(h++,0,f)}function Gy(o){return-1!==o}function Yu(o){return 32767&o}function Ju(o,s){let u=function(o){return o>>16}(o),l=s;for(;u>0;)l=l[15],u--;return l}let qy=!0;function ip(o){const s=qy;return qy=o,s}let Qe=0;function pa(o,s){const u=sf(o,s);if(-1!==u)return u;const l=s[1];l.firstCreatePass&&(o.injectorIndex=s.length,Ir(l.data,o),Ir(s,null),Ir(l.blueprint,null));const f=af(o,s),h=o.injectorIndex;if(Gy(f)){const g=Yu(f),y=Ju(f,s),v=y[1].data;for(let w=0;w<8;w++)s[h+w]=y[g+w]|v[g+w]}return s[h+8]=f,h}function Ir(o,s){o.push(0,0,0,0,0,0,0,0,s)}function sf(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function af(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,l=null,f=s;for(;null!==f;){const h=f[1],g=h.type;if(l=2===g?h.declTNode:1===g?f[6]:null,null===l)return-1;if(u++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function ur(o,s,u){!function(o,s,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(ti)&&(l=u[ti]),null==l&&(l=u[ti]=Qe++);const f=255&l;s.data[o+(f>>5)]|=1<<f}(o,s,u)}function zy(o,s,u){if(u&He.Optional)return o;J(s,"NodeInjector")}function Wy(o,s,u,l){if(u&He.Optional&&void 0===l&&(l=null),0==(u&(He.Self|He.Host))){const f=o[9],h=Ji(void 0);try{return f?f.get(s,l,u&He.Optional):nn(s,l,u&He.Optional)}finally{Ji(h)}}return zy(l,s,u)}function Si(o,s,u,l=He.Default,f){if(null!==o){const h=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(ti)?o[ti]:void 0;return"number"==typeof s?s>=0?255&s:Zw:s}(u);if("function"==typeof h){if(!Lw(s,o,l))return l&He.Host?zy(f,u,l):Wy(s,u,l,f);try{const g=h(l);if(null!=g||l&He.Optional)return g;J(u)}finally{Vw()}}else if("number"==typeof h){let g=null,y=sf(o,s),v=-1,w=l&He.Host?s[16][6]:null;for((-1===y||l&He.SkipSelf)&&(v=-1===y?af(o,s):s[y+8],-1!==v&&ec(l,!1)?(g=s[1],y=Yu(v),s=Ju(v,s)):y=-1);-1!==y;){const D=s[1];if(Jw(h,y,D.data)){const T=Qy(y,s,u,g,l,w);if(T!==Ky)return T}v=s[y+8],-1!==v&&ec(l,s[1].data[y+8]===w)&&Jw(h,y,s)?(g=D,y=Yu(v),s=Ju(v,s)):y=-1}}}return Wy(s,u,l,f)}const Ky={};function Zw(){return new ro(fn(),de())}function Qy(o,s,u,l,f,h){const g=s[1],y=g.data[o+8],D=uf(y,g,u,null==l?Yl(y)&&qy:l!=g&&0!=(3&y.type),f&He.Host&&h===y);return null!==D?Xu(s,g,D,y):Ky}function uf(o,s,u,l,f){const h=o.providerIndexes,g=s.data,y=1048575&h,v=o.directiveStart,D=h>>20,S=f?y+D:o.directiveEnd;for(let N=l?y:y+D;N<S;N++){const U=g[N];if(N<v&&u===U||N>=v&&U.type===u)return N}if(f){const N=g[v];if(N&&ri(N)&&N.type===u)return v}return null}function Xu(o,s,u,l){let f=o[u];const h=s.data;if(function(o){return o instanceof Zu}(f)){const g=f;g.resolving&&function(o,s){throw new we("200",`Circular dependency in DI detected for ${o}`)}(Ot(h[u]));const y=ip(g.canSeeViewProviders);g.resolving=!0;const v=g.injectImpl?Ji(g.injectImpl):null;Lw(o,l,He.Default);try{f=o[u]=g.factory(void 0,h,o,l),s.firstCreatePass&&u>=l.directiveStart&&function(o,s,u){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:h}=s.type.prototype;if(l){const g=Vh(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),h&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,h),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,h))}(u,h[u],s)}finally{null!==v&&Ji(v),ip(y),g.resolving=!1,Vw()}}return f}function Jw(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function ec(o,s){return!(o&He.Self||o&He.Host&&s)}class ro{constructor(s,u){this._tNode=s,this._lView=u}get(s,u){return Si(this._tNode,this._lView,s,void 0,u)}}function Ai(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const l=u.length;let f=0;for(;f<l;){const h=u[f];if(np(h))break;if(0===h)f+=2;else if("number"==typeof h)for(f++;f<l&&"string"==typeof u[f];)f++;else{if(h===s)return u[f+1];f+=2}}}return null}(fn(),o)}const ga="__parameters__";function ls(o,s,u){return qe(()=>{const l=function(o){return function(...u){if(o){const l=o(...u);for(const f in l)this[f]=l[f]}}}(s);function f(...h){if(this instanceof f)return l.apply(this,h),this;const g=new f(...h);return y.annotation=g,y;function y(v,w,D){const T=v.hasOwnProperty(ga)?v[ga]:Object.defineProperty(v,ga,{value:[]})[ga];for(;T.length<=D;)T.push(null);return(T[D]=T[D]||[]).push(g),v}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Yt{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=en({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cf=new Yt("AnalyzeForEntryComponents"),lf=Function;function Lr(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let l=o[u];Array.isArray(l)?(s===o&&(s=o.slice(0,u)),Lr(l,s)):s!==o&&s.push(l)}return s}function si(o,s){o.forEach(u=>Array.isArray(u)?si(u,s):s(u))}function ff(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function fs(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}const oc={},ap="__NG_DI_FLAG__",_a="ngTempTokenPath",rv=/\n/gm,up="__source",df=k({provide:String,useValue:k});let hs;function ba(o){const s=hs;return hs=o,s}function cE(o,s=He.Default){if(void 0===hs)throw new Error("inject() must be called from an injection context");return null===hs?nn(o,void 0,s):hs.get(o,s&He.Optional?null:void 0,s)}function dn(o,s=He.Default){return(zl||cE)(oe(o),s)}function No(o){const s=[];for(let u=0;u<o.length;u++){const l=oe(o[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let f,h=He.Default;for(let g=0;g<l.length;g++){const y=l[g],v=vT(y);"number"==typeof v?-1===v?f=y.token:h|=v:f=y}s.push(dn(f,h))}else s.push(dn(l))}return s}function wa(o,s){return o[ap]=s,o.prototype[ap]=s,o}function vT(o){return o[ap]}function Cn(o,s,u,l){const f=o[_a];throw s[up]&&f.unshift(s[up]),o.message=function(o,s,u,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=P(s);if(Array.isArray(s))f=s.map(P).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];h.push(g+":"+("string"==typeof y?JSON.stringify(y):P(y)))}f=`{${h.join(", ")}}`}return`${u}${l?"("+l+")":""}[${f}]: ${o.replace(rv,"\n  ")}`}("\n"+o.message,f,u,l),o.ngTokenPath=f,o[_a]=null,o}const Ea=wa(ls("Inject",o=>({token:o})),-1),xi=wa(ls("Optional"),8),Oo=wa(ls("SkipSelf"),4);let ms;function Po(o){var s;return(null===(s=function(){if(void 0===ms&&(ms=null,L.trustedTypes))try{ms=L.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ms}())||void 0===s?void 0:s.createHTML(o))||o}class ys{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dE extends ys{getTypeName(){return"HTML"}}class hE extends ys{getTypeName(){return"Style"}}class pE extends ys{getTypeName(){return"Script"}}class fv extends ys{getTypeName(){return"URL"}}class fp extends ys{getTypeName(){return"ResourceURL"}}function ci(o){return o instanceof ys?o.changingThisBreaksApplicationSecurity:o}function fr(o,s){const u=Da(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function Da(o){return o instanceof ys&&o.getTypeName()||null}function dv(o){return new dE(o)}function hv(o){return new hE(o)}function gE(o){return new pE(o)}function Ca(o){return new fv(o)}function pv(o){return new fp(o)}class vf{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Po(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class mv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Po(s),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Po(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const u=s.attributes;for(let f=u.length-1;0<f;f--){const g=u.item(f).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const yv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hc(o){return(o=String(o)).match(yv)||o.match(hp)?o:"unsafe:"+o}function li(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function gc(...o){const s={};for(const u of o)for(const l in u)u.hasOwnProperty(l)&&(s[l]=!0);return s}const _v=li("area,br,col,hr,img,wbr"),bv=li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mc=li("rp,rt"),bf=gc(_v,gc(bv,li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gc(mc,li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gc(mc,bv)),pp=li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yc=li("srcset"),Ev=gc(pp,yc,li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dv=li("script,style,template");class wf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!bf.hasOwnProperty(u))return this.sanitizedSomething=!0,!Dv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=s.attributes;for(let f=0;f<l.length;f++){const h=l.item(f),g=h.name,y=g.toLowerCase();if(!Ev.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let v=h.value;pp[y]&&(v=hc(v)),yc[y]&&(o=v,v=(o=String(o)).split(",").map(s=>hc(s.trim())).join(", ")),this.buf.push(" ",g,'="',Cv(v),'"')}var o;return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();bf.hasOwnProperty(u)&&!_v.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(Cv(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const yE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gp=/([^\#-~ |!])/g;function Cv(o){return o.replace(/&/g,"&amp;").replace(yE,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(gp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vc;function mp(o,s){let u=null;try{vc=vc||function(o){const s=new mv(o);return function(){try{return!!(new window.DOMParser).parseFromString(Po(""),"text/html")}catch(o){return!1}}()?new vf(s):s}(o);let l=s?String(s):"";u=vc.getInertBodyElement(l);let f=5,h=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=h,h=u.innerHTML,u=vc.getInertBodyElement(l)}while(l!==h);return Po((new wf).sanitizeChildren(yp(u)||u))}finally{if(u){const l=yp(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function yp(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var $t=(()=>(($t=$t||{})[$t.NONE=0]="NONE",$t[$t.HTML=1]="HTML",$t[$t.STYLE=2]="STYLE",$t[$t.SCRIPT=3]="SCRIPT",$t[$t.URL=4]="URL",$t[$t.RESOURCE_URL=5]="RESOURCE_URL",$t))();function Ni(o){const s=function(){const o=de();return o&&o[12]}();return s?s.sanitize($t.URL,o)||"":fr(o,"URL")?ci(o):hc(Re(o))}const Cf="__ngContext__";function Mt(o,s){o[Cf]=s}function If(o){const s=function(o){return o[Cf]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Af(o){return o.ngOriginalError}function Ep(o,...s){o.error(...s)}class Aa{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),l=this._findContext(s),f=(o=s)&&o.ngErrorLogger||Ep;var o;f(this._console,"ERROR",s),u&&f(this._console,"ORIGINAL ERROR",u),l&&f(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Af(s)):null}_findOriginalError(s){let u=s&&Af(s);for(;u&&Af(u);)u=Af(u);return u||null}}const Fv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Oi(o){return o instanceof Function?o():o}var Pi=(()=>((Pi=Pi||{})[Pi.Important=1]="Important",Pi[Pi.DashCase=2]="DashCase",Pi))();function Cp(o,s){return undefined(o,s)}function xa(o){const s=o[3];return rn(s)?s[3]:s}function Nf(o){return Vv(o[13])}function Sp(o){return Vv(o[4])}function Vv(o){for(;null!==o&&!rn(o);)o=o[4];return o}function Ma(o,s,u,l,f){if(null!=l){let h,g=!1;rn(l)?h=l:to(l)&&(g=!0,l=l[0]);const y=Qt(l);0===o&&null!==u?null==f?Ec(s,u,y):Fi(s,u,y,f||null,!0):1===o&&null!==u?Fi(s,u,y,f||null,!0):2===o?function(o,s,u){const l=kf(o,s);l&&function(o,s,u,l){Kt(o)?o.removeChild(s,u,l):s.removeChild(u)}(o,l,s,u)}(s,y,g):3===o&&s.destroyNode(y),null!=h&&function(o,s,u,l,f){const h=u[7];h!==Qt(u)&&Ma(s,o,l,h,f);for(let y=10;y<u.length;y++){const v=u[y];Cc(v[1],v,o,s,l,h)}}(s,o,h,u,f)}}function Rp(o,s,u){return Kt(o)?o.createElement(s,u):null===u?o.createElement(s):o.createElementNS(u,s)}function jv(o,s){const u=o[9],l=u.indexOf(s),f=s[3];1024&s[2]&&(s[2]&=-1025,$h(f,-1)),u.splice(l,1)}function Mp(o,s){if(o.length<=10)return;const u=10+s,l=o[u];if(l){const f=l[17];null!==f&&f!==o&&jv(f,l),s>0&&(o[u-1][4]=l[4]);const h=fs(o,10+s);!function(o,s){Cc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const g=h[19];null!==g&&g.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Bv(o,s){if(!(256&s[2])){const u=s[11];Kt(u)&&u.destroyNode&&Cc(o,s,u,3,null,null),function(o){let s=o[13];if(!s)return Pf(o[1],o);for(;s;){let u=null;if(to(s))u=s[13];else{const l=s[10];l&&(u=l)}if(!u){for(;s&&!s[4]&&s!==o;)to(s)&&Pf(s[1],s),s=s[3];null===s&&(s=o),to(s)&&Pf(s[1],s),u=s&&s[4]}s=u}}(s)}}function Pf(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let l=0;l<u.length;l+=2){const f=s[u[l]];if(!(f instanceof Zu)){const h=u[l+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const y=f[h[g]],v=h[g+1];try{v.call(y)}finally{}}else try{h.call(f)}finally{}}}}(o,s),function(o,s){const u=o.cleanup,l=s[7];let f=-1;if(null!==u)for(let h=0;h<u.length-1;h+=2)if("string"==typeof u[h]){const g=u[h+1],y="function"==typeof g?g(s):Qt(s[g]),v=l[f=u[h+2]],w=u[h+3];"boolean"==typeof w?y.removeEventListener(u[h],v,w):w>=0?l[f=w]():l[f=-w].unsubscribe(),h+=2}else{const g=l[f=u[h+1]];u[h].call(g)}if(null!==l){for(let h=f+1;h<l.length;h++)l[h]();s[7]=null}}(o,s),1===s[1].type&&Kt(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&rn(s[3])){u!==s[3]&&jv(u,s);const l=s[19];null!==l&&l.detachView(o)}}}function Jn(o,s,u){return function(o,s,u){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return u[0];if(2&l.flags){const f=o.data[l.directiveStart].encapsulation;if(f===zt.None||f===zt.Emulated)return null}return oi(l,u)}(o,s.parent,u)}function Fi(o,s,u,l,f){Kt(o)?o.insertBefore(s,u,l,f):s.insertBefore(u,l,f)}function Ec(o,s,u){Kt(o)?o.appendChild(s,u):s.appendChild(u)}function Ff(o,s,u,l,f){null!==l?Fi(o,s,u,l,f):Ec(o,s,u)}function kf(o,s){return Kt(o)?o.parentNode(s):s.parentNode}let Np=function(o,s,u){return 40&o.type?oi(o,u):null};function Dc(o,s,u,l){const f=Jn(o,l,s),h=s[11],y=function(o,s,u){return Np(o,s,u)}(l.parent||s[6],l,s);if(null!=f)if(Array.isArray(u))for(let v=0;v<u.length;v++)Ff(h,f,u[v],y,!1);else Ff(h,f,u,y,!1)}function Pa(o,s){if(null!==s){const u=s.type;if(3&u)return oi(s,o);if(4&u)return so(-1,o[s.index]);if(8&u){const l=s.child;if(null!==l)return Pa(o,l);{const f=o[s.index];return rn(f)?so(-1,f):Qt(f)}}if(32&u)return Cp(s,o)()||Qt(o[s.index]);{const l=$E(o,s);return null!==l?Array.isArray(l)?l[0]:Pa(xa(o[16]),l):Pa(o,s.next)}}return null}function $E(o,s){return null!==s?o[16][6].projection[s.projection]:null}function so(o,s){const u=10+o+1;if(u<s.length){const l=s[u],f=l[1].firstChild;if(null!==f)return Pa(l,f)}return s[7]}function kp(o,s,u,l,f,h,g){for(;null!=u;){const y=l[u.index],v=u.type;if(g&&0===s&&(y&&Mt(Qt(y),l),u.flags|=4),64!=(64&u.flags))if(8&v)kp(o,s,u.child,l,f,h,!1),Ma(s,o,f,y,h);else if(32&v){const w=Cp(u,l);let D;for(;D=w();)Ma(s,o,f,D,h);Ma(s,o,f,y,h)}else 16&v?Vf(o,s,l,u,f,h):Ma(s,o,f,y,h);u=g?u.projectionNext:u.next}}function Cc(o,s,u,l,f,h){kp(u,l,o.firstChild,s,f,h,!1)}function Vf(o,s,u,l,f,h){const g=u[16],v=g[6].projection[l.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)Ma(s,o,f,v[w],h);else kp(o,s,v,g[3],f,h,!0)}function Gv(o,s,u){Kt(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function Uf(o,s,u){Kt(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function qv(o,s,u){let l=o.length;for(;;){const f=o.indexOf(s,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const h=s.length;if(f+h===l||o.charCodeAt(f+h)<=32)return f}u=f+1}}const zv="ng-template";function Lp(o,s,u){let l=0;for(;l<o.length;){let f=o[l++];if(u&&"class"===f){if(f=o[l],-1!==qv(f.toLowerCase(),s,0))return!0}else if(1===f){for(;l<o.length&&"string"==typeof(f=o[l++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function Wv(o){return 4===o.type&&o.value!==zv}function WE(o,s,u){return s===(4!==o.type||u?o.value:zv)}function Kv(o,s,u){let l=4;const f=o.attrs||[],h=function(o){for(let s=0;s<o.length;s++)if(np(o[s]))return s;return o.length}(f);let g=!1;for(let y=0;y<s.length;y++){const v=s[y];if("number"!=typeof v){if(!g)if(4&l){if(l=2|1&l,""!==v&&!WE(o,v,u)||""===v&&1===s.length){if(fi(l))return!1;g=!0}}else{const w=8&l?v:s[++y];if(8&l&&null!==o.attrs){if(!Lp(o.attrs,w,u)){if(fi(l))return!1;g=!0}continue}const T=xT(8&l?"class":v,f,Wv(o),u);if(-1===T){if(fi(l))return!1;g=!0;continue}if(""!==w){let S;S=T>h?"":f[T+1].toLowerCase();const N=8&l?S:null;if(N&&-1!==qv(N,w,0)||2&l&&w!==S){if(fi(l))return!1;g=!0}}}}else{if(!g&&!fi(l)&&!fi(v))return!1;if(g&&fi(v))continue;g=!1,l=v|1&l}}return fi(l)||g}function fi(o){return 0==(1&o)}function xT(o,s,u,l){if(null===s)return-1;let f=0;if(l||!u){let h=!1;for(;f<s.length;){const g=s[f];if(g===o)return f;if(3===g||6===g)h=!0;else{if(1===g||2===g){let y=s[++f];for(;"string"==typeof y;)y=s[++f];continue}if(4===g)break;if(0===g){f+=4;continue}}f+=h?1:2}return-1}return function(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const l=o[u];if("number"==typeof l)return-1;if(l===s)return u;u++}return-1}(s,o)}function Qv(o,s,u=!1){for(let l=0;l<s.length;l++)if(Kv(o,s[l],u))return!0;return!1}function jf(o,s){return o?":not("+s.trim()+")":s}function YE(o){let s=o[0],u=1,l=2,f="",h=!1;for(;u<o.length;){let g=o[u];if("string"==typeof g)if(2&l){const y=o[++u];f+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?f+="."+g:4&l&&(f+=" "+g);else""!==f&&!fi(g)&&(s+=jf(h,f),f=""),l=g,h=h||!fi(l);u++}return""!==f&&(s+=jf(h,f)),s}const nt={};function Yv(o){ao(lt(),de(),Yn()+o,la())}function ao(o,s,u,l){if(!l)if(3==(3&s[2])){const h=o.preOrderCheckHooks;null!==h&&rf(s,h,u)}else{const h=o.preOrderHooks;null!==h&&tp(s,h,0,u)}So(u)}function Gp(o,s){const u=o.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const f=u[l],h=u[l+1];if(-1!==h){const g=o.data[h];Ly(f),g.contentQueries(2,s[h],h)}}}function Es(o,s,u,l,f,h,g,y,v,w){const D=s.blueprint.slice();return D[0]=f,D[2]=140|l,xy(D),D[3]=D[15]=o,D[8]=u,D[10]=g||o&&o[10],D[11]=y||o&&o[11],D[12]=v||o&&o[12]||null,D[9]=w||o&&o[9]||null,D[6]=h,D[16]=2==s.type?o[16]:D,D}function Lo(o,s,u,l,f){let h=o.data[s];if(null===h)h=function(o,s,u,l,f){const h=Oy(),g=zh(),v=o.data[s]=function(o,s,u,l,f,h){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,u,s,l,f);return null===o.firstChild&&(o.firstChild=v),null!==h&&(g?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v)),v}(o,s,u,l,f),tt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=u,h.value=l,h.attrs=f;const g=function(){const o=tt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Ii(h,!0),h}function ka(o,s,u,l){if(0===u)return-1;const f=s.length;for(let h=0;h<u;h++)s.push(l),o.blueprint.push(l),o.data.push(null);return f}function Ds(o,s,u){Qu(s);try{const l=o.viewQuery;null!==l&&Va(1,l,u);const f=o.template;null!==f&&s0(o,s,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Gp(o,s),o.staticViewQueries&&Va(2,o.viewQuery,u);const h=o.components;null!==h&&function(o,s){for(let u=0;u<s.length;u++)y0(o,s[u])}(s,h)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[2]&=-5,Jh()}}function Cs(o,s,u,l){const f=s[2];if(256==(256&f))return;Qu(s);const h=la();try{xy(s),function(o){tt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&s0(o,s,u,2,l);const g=3==(3&f);if(!h)if(g){const w=o.preOrderCheckHooks;null!==w&&rf(s,w,null)}else{const w=o.preOrderHooks;null!==w&&tp(s,w,0,null),jy(s,0)}if(function(o){for(let s=Nf(o);null!==s;s=Sp(s)){if(!s[2])continue;const u=s[9];for(let l=0;l<u.length;l++){const f=u[l],h=f[3];0==(1024&f[2])&&$h(h,1),f[2]|=1024}}}(s),function(o){for(let s=Nf(o);null!==s;s=Sp(s))for(let u=10;u<s.length;u++){const l=s[u],f=l[1];Hh(l)&&Cs(f,l,f.template,l[8])}}(s),null!==o.contentQueries&&Gp(o,s),!h)if(g){const w=o.contentCheckHooks;null!==w&&rf(s,w)}else{const w=o.contentHooks;null!==w&&tp(s,w,1),jy(s,1)}!function(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const f=u[l];if(f<0)So(~f);else{const h=f,g=u[++l],y=u[++l];Kh(g,h),y(2,s[h])}}}finally{So(-1)}}(o,s);const y=o.components;null!==y&&function(o,s){for(let u=0;u<s.length;u++)xc(o,s[u])}(s,y);const v=o.viewQuery;if(null!==v&&Va(2,v,l),!h)if(g){const w=o.viewCheckHooks;null!==w&&rf(s,w)}else{const w=o.viewHooks;null!==w&&tp(s,w,2),jy(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,$h(s[3],-1))}finally{Jh()}}function aD(o,s,u,l){const f=s[10],h=!la(),g=Ay(s);try{h&&!g&&f.begin&&f.begin(),g&&Ds(o,s,l),Cs(o,s,u,l)}finally{h&&!g&&f.end&&f.end()}}function s0(o,s,u,l,f){const h=Yn(),g=2&l;try{So(-1),g&&s.length>20&&ao(o,s,20,la()),u(l,f)}finally{So(h)}}function La(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=zf(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function zf(o,s,u,l,f,h,g,y,v,w){const D=20+l,T=D+f,S=function(o,s){const u=[];for(let l=0;l<s;l++)u.push(l<o?null:nt);return u}(D,T),N="function"==typeof w?w():w;return S[1]={type:o,blueprint:S,template:u,queries:null,viewQuery:y,declTNode:s,data:S.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:v,consts:N,incompleteFirstPass:!1}}function Kf(o,s,u,l){const f=tg(s);null===u?f.push(l):(f.push(u),o.firstCreatePass&&Hn(o).push(l,f.length-1))}function Qf(o,s,u){for(let l in o)if(o.hasOwnProperty(l)){const f=o[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(s,f):u[l]=[s,f]}return u}function Ar(o,s,u,l,f,h,g,y){const v=oi(s,u);let D,w=s.inputs;!y&&null!=w&&(D=w[l])?(Nc(o,u,D,l,f),Yl(s)&&function(o,s){const u=Cr(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(l=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),f=null!=g?g(f,s.value||"",l):f,Kt(h)?h.setProperty(v,l,f):$y(l)||(v.setProperty?v.setProperty(l,f):v[l]=f))}function vn(o,s,u,l,f,h){const g=h.hostBindings;if(g){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const v=~s.index;(function(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(y)!=v&&y.push(v),y.push(l,f,g)}}function p0(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Jp(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function dD(o,s,u){if(u){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)u[s.exportAs[l]]=o;ri(s)&&(u[""]=o)}}function Yf(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function Jf(o,s,u,l,f){o.data[l]=f;const h=f.factory||(f.factory=us(f.type)),g=new Zu(h,ri(f),null);o.blueprint[l]=g,u[l]=g,vn(o,s,0,l,ka(o,u,f.hostVars,nt),f)}function hD(o,s,u){const l=oi(s,o),f=La(u),h=o[10],g=Ts(o,Es(o,f,null,u.onPush?64:16,l,s,h,h.createRenderer(l,u),null,null));o[s.index]=g}function Vr(o,s,u,l,f,h){const g=oi(o,s);!function(o,s,u,l,f,h,g){if(null==h)Kt(o)?o.removeAttribute(s,f,u):s.removeAttribute(f);else{const y=null==g?Re(h):g(h,l||"",f);Kt(o)?o.setAttribute(s,f,y,u):u?s.setAttributeNS(u,f,y):s.setAttribute(f,y)}}(s[11],g,h,o.value,u,l,f)}function pD(o,s,u,l,f,h){const g=h[s];if(null!==g){const y=l.setInput;for(let v=0;v<g.length;){const w=g[v++],D=g[v++],T=g[v++];null!==y?l.setInput(u,T,w,D):u[D]=T}}}function ed(o,s){let u=null,l=0;for(;l<s.length;){const f=s[l];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],s[l+1])),l+=2}else l+=2;else l+=4}return u}function xc(o,s){const u=Cr(s,o);if(Hh(u)){const l=u[1];80&u[2]?Cs(l,u,l.template,u[8]):u[5]>0&&nd(u)}}function nd(o){for(let l=Nf(o);null!==l;l=Sp(l))for(let f=10;f<l.length;f++){const h=l[f];if(1024&h[2]){const g=h[1];Cs(g,h,g.template,h[8])}else h[5]>0&&nd(h)}const u=o[1].components;if(null!==u)for(let l=0;l<u.length;l++){const f=Cr(u[l],o);Hh(f)&&f[5]>0&&nd(f)}}function y0(o,s){const u=Cr(s,o),l=u[1];(function(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(l,u),Ds(l,u,u[8])}function Ts(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Xp(o){for(;o;){o[2]|=64;const s=xa(o);if(Dw(o)&&!s)return o;o=s}return null}function eg(o,s,u){const l=s[10];l.begin&&l.begin();try{Cs(o,s,o.template,u)}catch(f){throw Ua(s,f),f}finally{l.end&&l.end()}}function _0(o){!function(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],l=If(u),f=l[1];aD(f,l,f.template,u)}}(o[8])}function Va(o,s,u){Ly(0),s(o,u)}const Mc=(()=>Promise.resolve(null))();function tg(o){return o[7]||(o[7]=[])}function Hn(o){return o.cleanup||(o.cleanup=[])}function Ua(o,s){const u=o[9],l=u?u.get(Aa,null):null;l&&l.handleError(s)}function Nc(o,s,u,l,f){for(let h=0;h<u.length;){const g=u[h++],y=u[h++],v=s[g],w=o.data[g];null!==w.setInput?w.setInput(v,f,l,y):v[y]=f}}function ja(o,s,u){let l=u?o.styles:null,f=u?o.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?h=y:1==h?f=H(f,y):2==h&&(l=H(l,y+": "+s[++g]+";"))}u?o.styles=l:o.stylesWithoutHost=l,u?o.classes=f:o.classesWithoutHost=f}const Uo=new Yt("INJECTOR",-1);class id{get(s,u=oc){if(u===oc){const l=new Error(`NullInjectorError: No provider for ${P(s)}!`);throw l.name="NullInjectorError",l}return u}}const As=new Yt("Set Injector scope."),jo={},Oc={};let od;function D0(){return void 0===od&&(od=new id),od}function Pc(o,s=null,u=null,l){return new ig(o,u,s||D0(),l)}class ig{constructor(s,u,l,f=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];u&&si(u,y=>this.processProvider(y,s,u)),si([s],y=>this.processInjectorType(y,[],h)),this.records.set(Uo,Li(void 0,this));const g=this.records.get(As);this.scope=null!=g?g.value:null,this.source=f||("object"==typeof s?null:P(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=oc,l=He.Default){this.assertNotDestroyed();const f=ba(this),h=Ji(void 0);try{if(!(l&He.SkipSelf)){let y=this.records.get(s);if(void 0===y){const v=("function"==typeof(o=s)||"object"==typeof o&&o instanceof Yt)&&st(s);y=v&&this.injectableDefInScope(v)?Li(sd(s),jo):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&He.Self?D0():this.parent).get(s,u=l&He.Optional&&u===oc?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[_a]=g[_a]||[]).unshift(P(s)),f)throw g;return Cn(g,s,"R3InjectorError",this.source)}throw g}finally{Ji(h),ba(f)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,f)=>s.push(P(f))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,l){if(!(s=oe(s)))return!1;let f=mn(s);const h=null==f&&s.ngModule||void 0,g=void 0===h?s:h,y=-1!==l.indexOf(g);if(void 0!==h&&(f=mn(h)),null==f)return!1;if(null!=f.imports&&!y){let D;l.push(g);try{si(f.imports,T=>{this.processInjectorType(T,u,l)&&(void 0===D&&(D=[]),D.push(T))})}finally{}if(void 0!==D)for(let T=0;T<D.length;T++){const{ngModule:S,providers:N}=D[T];si(N,U=>this.processProvider(U,S,N||Ce))}}this.injectorDefTypes.add(g);const v=us(g)||(()=>new g);this.records.set(g,Li(v,jo));const w=f.providers;if(null!=w&&!y){const D=s;si(w,T=>this.processProvider(T,D,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,u,l){let f=Ur(s=oe(s))?s:oe(s&&s.provide);const h=og(o=s)?Li(void 0,o.useValue):Li(function(o,s,u){let l;if(Ur(o)){const f=oe(o);return us(f)||sd(f)}if(og(o))l=()=>oe(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...No(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))l=()=>dn(oe(o.useExisting));else{const f=oe(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return us(f)||sd(f);l=()=>new f(...No(o.deps))}return l}(o),jo);var o;if(Ur(s)||!0!==s.multi)this.records.get(f);else{let g=this.records.get(f);g||(g=Li(void 0,jo,!0),g.factory=()=>No(g.multi),this.records.set(f,g)),f=s,g.multi.push(s)}this.records.set(f,h)}hydrate(s,u){return u.value===jo&&(u.value=Oc,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const u=oe(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function sd(o){const s=st(o),u=null!==s?s.factory:us(o);if(null!==u)return u;if(o instanceof Yt)throw new Error(`Token ${P(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const l=function(o,s){const u=[];for(let l=0;l<o;l++)u.push(s);return u}(s,"?");throw new Error(`Can't resolve all parameters for ${P(o)}: (${l.join(", ")}).`)}const u=function(o){const s=o&&(o[Lt]||o[wr]);if(s){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function Li(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function og(o){return null!==o&&"object"==typeof o&&df in o}function Ur(o){return"function"==typeof o}const ug=function(o,s,u){return function(o,s=null,u=null,l){const f=Pc(o,s,u,l);return f._resolveInjectorDefTypes(),f}({name:u},s,o,u)};class St{static create(s,u){return Array.isArray(s)?ug(s,u,""):ug(s.providers,s.parent,s.name||"")}}function Uc(o,s){nf(If(o)[1],fn())}St.THROW_IF_NOT_FOUND=oc,St.NULL=new id,St.\u0275prov=en({token:St,providedIn:"any",factory:()=>dn(Uo)}),St.__NG_ELEMENT_ID__=-1;let xs=null;function Ms(){if(!xs){const o=L.Symbol;if(o&&o.iterator)xs=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const l=s[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(xs=l)}}}return xs}function jc(o){return!!hd(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ms()in o)}function hd(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function xn(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function pd(o,s,u,l){const f=de();return xn(f,da(),s)&&(lt(),Vr(Zt(),f,o,s,u,l)),pd}function Xa(o,s=He.Default){const u=de();return null===u?dn(o,s):Si(fn(),u,oe(o),s)}function Kc(o,s,u){const l=de();return xn(l,da(),s)&&Ar(lt(),Zt(),l,o,s,l[11],u,!1),Kc}function eu(o,s,u,l,f){const g=f?"class":"style";Nc(o,u,s.inputs[g],g,l)}function Qc(o,s,u,l){const f=de(),h=lt(),g=20+o,y=f[11],v=f[g]=Rp(y,s,tt.lFrame.currentNamespace),w=h.firstCreatePass?function(o,s,u,l,f,h,g){const y=s.consts,w=Lo(s,o,2,f,To(y,h));return function(o,s,u,l){let f=!1;if(qh()){const h=function(o,s,u){const l=o.directiveRegistry;let f=null;if(l)for(let h=0;h<l.length;h++){const g=l[h];Qv(u,g.selectors,!1)&&(f||(f=[]),ur(pa(u,s),o,g.type),ri(g)?(Jp(o,u),f.unshift(g)):f.push(g))}return f}(o,s,u),g=null===l?null:{"":-1};if(null!==h){f=!0,Yf(u,o.data.length,h.length);for(let D=0;D<h.length;D++){const T=h[D];T.providersResolver&&T.providersResolver(T)}let y=!1,v=!1,w=ka(o,s,h.length,null);for(let D=0;D<h.length;D++){const T=h[D];u.mergedAttrs=rp(u.mergedAttrs,T.hostAttrs),Jf(o,u,s,w,T),dD(w,T,g),null!==T.contentQueries&&(u.flags|=8),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(u.flags|=128);const S=T.type.prototype;!y&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),y=!0),!v&&(S.ngOnChanges||S.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),v=!0),w++}!function(o,s){const l=s.directiveEnd,f=o.data,h=s.attrs,g=[];let y=null,v=null;for(let w=s.directiveStart;w<l;w++){const D=f[w],T=D.inputs,S=null===h||Wv(s)?null:ed(T,h);g.push(S),y=Qf(T,w,y),v=Qf(D.outputs,w,v)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=v}(o,u)}g&&function(o,s,u){if(s){const l=o.localNames=[];for(let f=0;f<s.length;f+=2){const h=u[s[f+1]];if(null==h)throw new we("301",`Export of name '${s[f+1]}' not found!`);l.push(s[f],h)}}}(u,l,g)}u.mergedAttrs=rp(u.mergedAttrs,u.attrs)}(s,u,w,To(y,g)),null!==w.attrs&&ja(w,w.attrs,!1),null!==w.mergedAttrs&&ja(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(g,h,f,0,s,u,l):h.data[g];Ii(w,!0);const D=w.mergedAttrs;null!==D&&ha(y,v,D);const T=w.classes;null!==T&&Uf(y,v,T);const S=w.styles;null!==S&&Gv(y,v,S),64!=(64&w.flags)&&Dc(h,f,v,w),0===tt.lFrame.elementDepthCount&&Mt(v,f),tt.lFrame.elementDepthCount++,Jl(w)&&(function(o,s,u){!qh()||(function(o,s,u,l){const f=u.directiveStart,h=u.directiveEnd;o.firstCreatePass||pa(u,s),Mt(l,s);const g=u.initialInputs;for(let y=f;y<h;y++){const v=o.data[y],w=ri(v);w&&hD(s,u,v);const D=Xu(s,o,y,u);Mt(D,s),null!==g&&pD(0,y-f,D,v,0,g),w&&(Cr(u.index,s)[8]=D)}}(o,s,u,oi(u,s)),128==(128&u.flags)&&function(o,s,u){const l=u.directiveStart,f=u.directiveEnd,g=u.index,y=tt.lFrame.currentDirectiveIndex;try{So(g);for(let v=l;v<f;v++){const w=o.data[v],D=s[v];Qh(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&p0(w,D)}}finally{So(-1),Qh(y)}}(o,s,u))}(h,f,w),function(o,s,u){if(Lh(s)){const f=s.directiveEnd;for(let h=s.directiveStart;h<f;h++){const g=o.data[h];g.contentQueries&&g.contentQueries(1,u[h],h)}}}(h,w,f)),null!==l&&function(o,s,u=oi){const l=s.localNames;if(null!==l){let f=s.index+1;for(let h=0;h<l.length;h+=2){const g=l[h+1],y=-1===g?u(s,o):o[g];o[f++]=y}}}(f,w)}function md(){let o=fn();zh()?tt.lFrame.isParent=!1:(o=o.parent,Ii(o,!1));const s=o;tt.lFrame.elementDepthCount--;const u=lt();u.firstCreatePass&&(nf(u,o),Lh(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&eu(u,s,de(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&eu(u,s,de(),s.stylesWithoutHost,!1)}function Ag(o,s,u,l){Qc(o,s,u,l),md()}function yd(o){return!!o&&"function"==typeof o.then}function tu(o){return!!o&&"function"==typeof o.subscribe}const nu=tu;function ru(o,s,u,l){const f=de(),h=lt(),g=fn();return function(o,s,u,l,f,h,g,y){const v=Jl(l),D=o.firstCreatePass&&Hn(o),T=s[8],S=tg(s);let N=!0;if(3&l.type||y){const $=oi(l,s),ve=y?y($):$,ce=S.length,Le=y?Xe=>y(Qt(Xe[l.index])):l.index;if(Kt(u)){let Xe=null;if(!y&&v&&(Xe=function(o,s,u,l){const f=o.cleanup;if(null!=f)for(let h=0;h<f.length-1;h+=2){const g=f[h];if(g===u&&f[h+1]===l){const y=s[7],v=f[h+2];return y.length>v?y[v]:null}"string"==typeof g&&(h+=2)}return null}(o,s,f,l.index)),null!==Xe)(Xe.__ngLastListenerFn__||Xe).__ngNextListenerFn__=h,Xe.__ngLastListenerFn__=h,N=!1;else{h=vd(l,s,T,h,!1);const mt=u.listen(ve,f,h);S.push(h,mt),D&&D.push(f,Le,ce,ce+1)}}else h=vd(l,s,T,h,!0),ve.addEventListener(f,h,g),S.push(h),D&&D.push(f,Le,ce,g)}else h=vd(l,s,T,h,!1);const U=l.outputs;let X;if(N&&null!==U&&(X=U[f])){const $=X.length;if($)for(let ve=0;ve<$;ve+=2){const kn=s[X[ve]][X[ve+1]].subscribe(h),Yi=S.length;S.push(h,kn),D&&D.push(f,l.index,Yi,-(Yi+1))}}}(h,f,f[11],g,o,s,!!u,l),ru}function i_(o,s,u,l){try{return!1!==u(l)}catch(f){return Ua(o,f),!1}}function vd(o,s,u,l,f){return function h(g){if(g===Function)return l;const y=2&o.flags?Cr(o.index,s):s;0==(32&s[2])&&Xp(y);let v=i_(s,0,l,g),w=h.__ngNextListenerFn__;for(;w;)v=i_(s,0,w,g)&&v,w=w.__ngNextListenerFn__;return f&&!1===v&&(g.preventDefault(),g.returnValue=!1),v}}function pt(o,s=""){const u=de(),l=lt(),f=o+20,h=l.firstCreatePass?Lo(l,f,1,s,null):l.data[f],g=u[f]=function(o,s){return Kt(o)?o.createText(s):o.createTextNode(s)}(u[11],s);Dc(l,u,g,h),Ii(h,!1)}function Td(o,s,u){const l=de();return xn(l,da(),s)&&Ar(lt(),Zt(),l,o,s,l[11],u,!0),Td}const Gn=void 0;var I_=["en",[["a","p"],["AM","PM"],Gn],[["AM","PM"],Gn,Gn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gn,"{1} 'at' {0}",Gn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const s=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Bi={};function Sd(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Zg(s);if(u)return u;const l=s.split("-")[0];if(u=Zg(l),u)return u;if("en"===l)return I_;throw new Error(`Missing locale data for the locale "${o}".`)}function al(o){return Sd(o)[Be.PluralCase]}function Zg(o){return o in Bi||(Bi[o]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[o]),Bi[o]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const ul="en-US";let R_=ul;function Yg(o){Ct(o,"Expected localeId to be defined"),"string"==typeof o&&(R_=o.toLowerCase().replace(/_/g,"-"))}class hl{}const G_="ngComponent";class uC{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${P(o)}. Did you add it to @NgModule.entryComponents?`);return s[G_]=o,s}(s)}}class Zo{}function pl(...o){}function Ws(o,s){return new rr(oi(o,s))}Zo.NULL=new uC;const dC=function(){return Ws(fn(),de())};let rr=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=dC,o})();function Ks(o){return o instanceof rr?o.nativeElement:o}class gl{}let q_=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>pC(),o})();const pC=function(){const o=de(),u=Cr(fn().index,o);return function(o){return o[11]}(to(u)?u:o)};let gn=(()=>{class o{}return o.\u0275prov=en({token:o,providedIn:"root",factory:()=>null}),o})();class z_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const _m=new z_("12.2.2");class W_{constructor(){}supports(s){return jc(s)}create(s){return new yC(s)}}const mC=(o,s)=>s;class yC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||mC}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,l=this._removalsHead,f=0,h=null;for(;u||l;){const g=!l||u&&u.currentIndex<wm(l,f,h)?u:l,y=wm(g,f,h),v=g.currentIndex;if(g===l)f--,l=l._nextRemoved;else if(u=u._next,null==g.previousIndex)f++;else{h||(h=[]);const w=y-f,D=v-f;if(w!=D){for(let S=0;S<w;S++){const N=S<h.length?h[S]:h[S]=0,U=N+S;D<=U&&U<w&&(h[S]=N+1)}h[g.previousIndex]=D-w}}y!==v&&s(g,y,v)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!jc(s))throw new Error(`Error trying to diff '${P(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,h,g,u=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],g=this._trackByFn(y,h),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,h,g,y)),Object.is(u.item,h)||this._addIdentityChange(u,h)):(u=this._mismatch(u,h,g,y),l=!0),u=u._next}else f=0,function(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Ms()]();let l;for(;!(l=u.next()).done;)s(l.value)}}(s,y=>{g=this._trackByFn(f,y),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,y,g,f)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,f),l=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,l,f){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,h,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,h,f)):s=this._addAfter(new vC(u,l),h,f),s}_verifyReinsertion(s,u,l,f){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,h=s._nextRemoved;return null===f?this._removalsHead=h:f._nextRemoved=h,null===h?this._removalsTail=f:h._prevRemoved=f,this._insertAfter(s,u,l),this._addToMoves(s,l),s}_moveAfter(s,u,l){return this._unlink(s),this._insertAfter(s,u,l),this._addToMoves(s,l),s}_addAfter(s,u,l){return this._insertAfter(s,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,l){const f=null===u?this._itHead:u._next;return s._next=f,s._prev=u,null===f?this._itTail=s:f._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new bm),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,l=s._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class vC{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _r{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const u=s._prevDup,l=s._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class bm{constructor(){this.map=new Map}put(s){const u=s.trackById;let l=this.map.get(u);l||(l=new _r,this.map.set(u,l)),l.add(s)}get(s,u){const f=this.map.get(s);return f?f.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wm(o,s,u){const l=o.previousIndex;if(null===l)return l;let f=0;return u&&l<u.length&&(f=u[l]),l+s+f}class Ud{constructor(){}supports(s){return s instanceof Map||hd(s)}create(){return new K_}}class K_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||hd(s)))throw new Error(`Error trying to diff '${P(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const h=this._getOrCreateRecordForKey(f,l);u=this._insertBeforeOrAppend(u,h)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const l=s._prev;return u._next=s,u._prev=l,s._prev=u,l&&(l._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,u);const h=f._prev,g=f._next;return h&&(h._next=g),g&&(g._prev=h),f._next=null,f._prev=null,f}const l=new Em(s);return this._records.set(s,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(l=>u(s[l],l))}}class Em{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dm(){return new jd([new W_])}let jd=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(null!=l){const f=l.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Dm()),deps:[[o,new Oo,new xi]]}}find(u){const l=this.factories.find(f=>f.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=en({token:o,providedIn:"root",factory:Dm}),o})();function Bd(){return new ml([new Ud])}let ml=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(l){const f=l.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Bd()),deps:[[o,new Oo,new xi]]}}find(u){const l=this.factories.find(f=>f.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=en({token:o,providedIn:"root",factory:Bd}),o})();function Hd(o,s,u,l,f=!1){for(;null!==u;){const h=s[u.index];if(null!==h&&l.push(Qt(h)),rn(h))for(let y=10;y<h.length;y++){const v=h[y],w=v[1].firstChild;null!==w&&Hd(v[1],v,w,l)}const g=u.type;if(8&g)Hd(o,s,u.child,l);else if(32&g){const y=Cp(u,s);let v;for(;v=y();)l.push(v)}else if(16&g){const y=$E(s,u);if(Array.isArray(y))l.push(...y);else{const v=xa(s[16]);Hd(v[1],v,y,l,!0)}}u=f?u.projectionNext:u.next}return l}class Eu{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Hd(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(rn(s)){const u=s[8],l=u?u.indexOf(this):-1;l>-1&&(Mp(s,l),fs(u,l))}this._attachedToViewContainer=!1}Bv(this._lView[1],this._lView)}onDestroy(s){Kf(this._lView[1],this._lView,null,s)}markForCheck(){Xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){eg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,u){fa(!0);try{eg(o,s,u)}finally{fa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Cc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class _C extends Eu{constructor(s){super(s),this._view=s}detectChanges(){_0(this._view)}checkNoChanges(){!function(o){fa(!0);try{_0(o)}finally{fa(!1)}}(this._view)}get context(){return null}}const Q_=function(o){return function(o,s,u){if(Yl(o)&&!u){const l=Cr(o.index,s);return new Eu(l,l)}return 47&o.type?new Eu(s[16],s):null}(fn(),de(),16==(16&o))};let $d=(()=>{class o{}return o.__NG_ELEMENT_ID__=Q_,o})();const Z_=[new Ud],EC=new jd([new W_]),DC=new ml(Z_),vl=function(){return bl(fn(),de())};let qi=(()=>{class o{}return o.__NG_ELEMENT_ID__=vl,o})();const Gd=qi,_l=class extends Gd{constructor(s,u,l){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(s){const u=this._declarationTContainer.tViews,l=Es(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(u)),Ds(u,l,s),new Eu(l)}};function bl(o,s){return 4&o.type?new _l(s,o,Ws(o,s)):null}class _o{}class qd{}const TC=function(){return Am(fn(),de())};let zd=(()=>{class o{}return o.__NG_ELEMENT_ID__=TC,o})();const Wd=zd,Sm=class extends Wd{constructor(s,u,l){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=l}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const s=af(this._hostTNode,this._hostLView);if(Gy(s)){const u=Ju(s,this._hostLView),l=Yu(s);return new ro(u[1].data[l+8],u)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=Qs(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,l){const f=s.createEmbeddedView(u||{});return this.insert(f,l),f}createComponent(s,u,l,f,h){const g=l||this.parentInjector;if(!h&&null==s.ngModule&&g){const v=g.get(_o,null);v&&(h=v)}const y=s.create(g,f,void 0,h);return this.insert(y.hostView,u),y}insert(s,u){const l=s._lView,f=l[1];if(rn(l[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const T=l[3],S=new Sm(T,T[6],T[3]);S.detach(S.indexOf(s))}}const h=this._adjustIndex(u),g=this._lContainer;!function(o,s,u,l){const f=10+l,h=u.length;l>0&&(u[f-1][4]=s),l<h-10?(s[4]=u[f],ff(u,10+l,s)):(u.push(s),s[4]=null),s[3]=u;const g=s[17];null!==g&&u!==g&&function(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(o),s[2]|=128}(f,l,g,h);const y=so(h,g),v=l[11],w=kf(v,g[7]);return null!==w&&function(o,s,u,l,f,h){l[0]=f,l[6]=s,Cc(o,l,u,1,f,h)}(f,g[6],v,l,w,y),s.attachToViewContainerRef(),ff(Kd(g),h,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=Qs(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),l=Mp(this._lContainer,u);l&&(fs(Kd(this._lContainer),u),Bv(l[1],l))}detach(s){const u=this._adjustIndex(s,-1),l=Mp(this._lContainer,u);return l&&null!=fs(Kd(this._lContainer),u)?new Eu(l):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function Qs(o){return o[8]}function Kd(o){return o[8]||(o[8]=[])}function Am(o,s){let u;const l=s[o.index];if(rn(l))u=l;else{let f;if(8&o.type)f=Qt(l);else{const h=s[11];f=h.createComment("");const g=oi(o,s);Fi(h,kf(h,g),f,function(o,s){return Kt(o)?o.nextSibling(s):s.nextSibling}(h,g),!1)}s[o.index]=u=function(o,s,u,l){return new Array(o,!0,!1,s,null,0,l,u,null,null)}(l,s,f,o),Ts(s,u)}return new Sm(u,o,s)}const qt={};class xl extends Zo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Sn(s);return new Hm(u,this.ngModule)}}function Rb(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}const xb=new Yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fv});class Hm extends hl{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(YE).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Rb(this.componentDef.inputs)}get outputs(){return Rb(this.componentDef.outputs)}create(s,u,l,f){const h=(f=f||this.ngModule)?function(o,s){return{get:(u,l,f)=>{const h=o.get(u,qt,f);return h!==qt||l===qt?h:s.get(u,l,f)}}}(s,f.injector):s,g=h.get(gl,Sy),y=h.get(gn,null),v=g.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=l?function(o,s,u){if(Kt(o))return o.selectRootElement(s,u===zt.ShadowDom);let l="string"==typeof s?o.querySelector(s):s;return l.textContent="",l}(v,l,this.componentDef.encapsulation):Rp(g.createRenderer(null,this.componentDef),w,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(w)),T=this.componentDef.onPush?576:528,S=function(o,s){return{components:[],scheduler:o||Fv,clean:Mc,playerHandler:s||null,flags:0}}(),N=zf(0,null,null,1,0,null,null,null,null,null),U=Es(null,N,S,T,null,null,g,v,y,h);let X,$;Qu(U);try{const ve=function(o,s,u,l,f,h){const g=u[1];u[20]=o;const v=Lo(g,20,2,"#host",null),w=v.mergedAttrs=s.hostAttrs;null!==w&&(ja(v,w,!0),null!==o&&(ha(f,o,w),null!==v.classes&&Uf(f,o,v.classes),null!==v.styles&&Gv(f,o,v.styles)));const D=l.createRenderer(o,s),T=Es(u,La(s),null,s.onPush?64:16,u[20],v,l,D,h||null,null);return g.firstCreatePass&&(ur(pa(v,u),g,s.type),Jp(g,v),Yf(v,u.length,1)),Ts(u,T),u[20]=T}(D,this.componentDef,U,g,v);if(D)if(l)ha(v,D,["ng-version",_m.full]);else{const{attrs:ce,classes:Le}=function(o){const s=[],u=[];let l=1,f=2;for(;l<o.length;){let h=o[l];if("string"==typeof h)2===f?""!==h&&s.push(h,o[++l]):8===f&&u.push(h);else{if(!fi(f))break;f=h}l++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);ce&&ha(v,D,ce),Le&&Le.length>0&&Uf(v,D,Le.join(" "))}if($=ua(N,20),void 0!==u){const ce=$.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const Xe=u[Le];ce.push(null!=Xe?Array.from(Xe):null)}}X=function(o,s,u,l,f){const h=u[1],g=function(o,s,u){const l=fn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Jf(o,l,s,ka(o,s,1,null),u));const f=Xu(s,o,l.directiveStart,l);Mt(f,s);const h=oi(l,s);return h&&Mt(h,s),f}(h,u,s);if(l.components.push(g),o[8]=g,f&&f.forEach(v=>v(g,s)),s.contentQueries){const v=fn();s.contentQueries(1,g,v.directiveStart)}const y=fn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(So(y.index),vn(u[1],y,0,y.directiveStart,y.directiveEnd,s),p0(s,g)),g}(ve,this.componentDef,U,S,[Uc]),Ds(N,U,null)}finally{Jh()}return new uh(this.componentType,X,Ws($,U),U,$)}}class uh extends class{}{constructor(s,u,l,f,h){super(),this.location=l,this._rootLView=f,this._tNode=h,this.instance=u,this.hostView=this.changeDetectorRef=new _C(f),this.componentType=s}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Js=new Map;class Gm extends _o{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xl(this);const l=sr(s),f=s[Qn]||null;f&&Yg(f),this._bootstrapComponents=Oi(l.bootstrap),this._r3Injector=Pc(s,u,[{provide:_o,useValue:this},{provide:Zo,useValue:this.componentFactoryResolver}],P(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=St.THROW_IF_NOT_FOUND,l=He.Default){return s===St||s===_o||s===Uo?this:this._r3Injector.get(s,u,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class lh extends qd{constructor(s){super(),this.moduleType=s,null!==sr(s)&&function(o){const s=new Set;!function u(l){const f=sr(l,!0),h=f.id;null!==h&&(function(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${P(s)} vs ${P(s.name)}`)}(h,Js.get(h),l),Js.set(h,l));const g=Oi(f.imports);for(const y of g)s.has(y)||(s.add(y),u(y))}(o)}(s)}create(s){return new Gm(this.moduleType,s)}}function dh(o){return s=>{setTimeout(o,void 0,s)}}const Ei=class extends _.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,l){var f,h,g;let y=s,v=u||(()=>null),w=l;if(s&&"object"==typeof s){const T=s;y=null===(f=T.next)||void 0===f?void 0:f.bind(T),v=null===(h=T.error)||void 0===h?void 0:h.bind(T),w=null===(g=T.complete)||void 0===g?void 0:g.bind(T)}this.__isAsync&&(v=dh(v),y&&(y=dh(y)),w&&(w=dh(w)));const D=super.subscribe({next:y,error:v,complete:w});return s instanceof te.w&&s.add(D),D}};function Ub(){return this._results[Ms()]()}class Fl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ms(),l=Fl.prototype;l[u]||(l[u]=Ub)}get changes(){return this._changes||(this._changes=new Ei)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const l=this;l.dirty=!1;const f=Lr(s);(this._changesDetected=!function(o,s,u){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let f=o[l],h=s[l];if(u&&(f=u(f),h=u(h)),h!==f)return!1}return!0}(l._results,f,u))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Qm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qi{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const l=null!==s.contentQueries?s.contentQueries[0]:u.length,f=[];for(let h=0;h<l;h++){const g=u.getByIndex(h);f.push(this.queries[g.indexInDeclarationView].clone())}return new Qi(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==zn(s,u).matches&&this.queries[u].setDirty()}}class ns{constructor(s,u,l=null){this.predicate=s,this.flags=u,this.read=l}}class ph{constructor(s=[]){this.queries=s}elementStart(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let l=0;l<this.length;l++){const f=null!==u?u.length:0,h=this.getByIndex(l).embeddedTView(s,f);h&&(h.indexInDeclarationView=l,null!==u?u.push(h):u=[h])}return null!==u?new ph(u):null}template(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gh{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new gh(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const h=l[f];this.matchTNodeWithReadOption(s,u,kl(u,h)),this.matchTNodeWithReadOption(s,u,uf(u,s,h,!1,!1))}else l===qi?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,uf(u,s,l,!1,!1))}matchTNodeWithReadOption(s,u,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===rr||f===zd||f===qi&&4&u.type)this.addMatch(u.index,-2);else{const h=uf(u,s,f,!1,!1);null!==h&&this.addMatch(u.index,h)}else this.addMatch(u.index,l)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function kl(o,s){const u=o.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===s)return u[l+1];return null}function YC(o,s,u,l){return-1===u?function(o,s){return 11&o.type?Ws(o,s):4&o.type?bl(o,s):null}(s,o):-2===u?function(o,s,u){return u===rr?Ws(s,o):u===qi?bl(s,o):u===zd?Am(s,o):void 0}(o,s,l):Xu(o,o[1],u,s)}function Ym(o,s,u,l){const f=s[19].queries[l];if(null===f.matches){const h=o.data,g=u.matches,y=[];for(let v=0;v<g.length;v+=2){const w=g[v];y.push(w<0?null:YC(s,h[w],g[v+1],u.metadata.read))}f.matches=y}return f.matches}function mh(o,s,u,l){const f=o.queries.getByIndex(u),h=f.matches;if(null!==h){const g=Ym(o,s,f,u);for(let y=0;y<h.length;y+=2){const v=h[y];if(v>0)l.push(g[y/2]);else{const w=h[y+1],D=s[-v];for(let T=10;T<D.length;T++){const S=D[T];S[17]===S[3]&&mh(S[1],S,w,l)}if(null!==D[9]){const T=D[9];for(let S=0;S<T.length;S++){const N=T[S];mh(N[1],N,w,l)}}}}}return l}function Bb(o){const s=de(),u=lt(),l=ky();Ly(l+1);const f=zn(u,l);if(o.dirty&&Ay(s)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const h=f.crossesNgTemplate?mh(u,s,l,[]):Ym(u,s,f,l);o.reset(h,Ks),o.notifyOnChanges()}return!0}return!1}function Ll(o,s,u,l){const f=lt();if(f.firstCreatePass){const h=fn();(function(o,s,u){null===o.queries&&(o.queries=new ph),o.queries.track(new gh(s,u))})(f,new ns(s,u,l),h.index),function(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}!function(o,s,u){const l=new Fl(4==(4&u));Kf(o,s,l,l.destroy),null===s[19]&&(s[19]=new Qi),s[19].queries.push(new Qm(l))}(f,de(),u)}function $b(){return o=de(),s=ky(),o[19].queries[s].queryList;var o,s}function zn(o,s){return o.queries.getByIndex(s)}const gt=new Yt("Application Initializer");let Xt=(()=>{class o{constructor(u){this.appInits=u,this.resolve=pl,this.reject=pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const h=this.appInits[f]();if(yd(h))u.push(h);else if(nu(h)){const g=new Promise((y,v)=>{h.subscribe({complete:y,error:v})});u.push(g)}}Promise.all(u).then(()=>{l()}).catch(f=>{this.reject(f)}),0===u.length&&l(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(dn(gt,8))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const Eh=new Yt("AppId"),uw={provide:Eh,useFactory:function(){return`${Dh()}${Dh()}${Dh()}`},deps:[]};function Dh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const u1=new Yt("Platform Initializer"),c1=new Yt("Platform ID"),l1=new Yt("appBootstrapListener");let f1=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const cw=new Yt("LocaleId"),d1=new Yt("DefaultCurrencyCode");class tS{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const fI=function(o){return new lh(o)},nS=fI,rS=function(o){return Promise.resolve(fI(o))},h1=function(o){const s=fI(o),l=Oi(sr(o).declarations).reduce((f,h)=>{const g=Sn(h);return g&&f.push(new Hm(g)),f},[]);return new tS(s,l)},iS=h1,oS=function(o){return Promise.resolve(h1(o))};let ay=(()=>{class o{constructor(){this.compileModuleSync=nS,this.compileModuleAsync=rS,this.compileModuleAndAllComponentsSync=iS,this.compileModuleAndAllComponentsAsync=oS}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const uS=(()=>Promise.resolve(0))();function dI(o){"undefined"==typeof Zone?uS.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Di{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&u,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let o=L.requestAnimationFrame,s=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(L,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,pI(o),o.isCheckStableRunning=!0,hI(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),pI(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,f,h,g,y)=>{try{return p1(o),u.invokeTask(f,h,g,y)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||o.shouldCoalesceRunChangeDetection)&&s(),g1(o)}},onInvoke:(u,l,f,h,g,y,v)=>{try{return p1(o),u.invoke(f,h,g,y,v)}finally{o.shouldCoalesceRunChangeDetection&&s(),g1(o)}},onHasTask:(u,l,f,h)=>{u.hasTask(f,h),l===f&&("microTask"==h.change?(o._hasPendingMicrotasks=h.microTask,pI(o),hI(o)):"macroTask"==h.change&&(o.hasPendingMacrotasks=h.macroTask))},onHandleError:(u,l,f,h)=>(u.handleError(f,h),o.runOutsideAngular(()=>o.onError.emit(h)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,l){return this._inner.run(s,u,l)}runTask(s,u,l,f){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+f,s,lS,pl,pl);try{return h.runTask(g,u,l)}finally{h.cancelTask(g)}}runGuarded(s,u,l){return this._inner.runGuarded(s,u,l)}runOutsideAngular(s){return this._outer.run(s)}}const lS={};function hI(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function pI(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function p1(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function g1(o){o._nesting--,hI(o)}class hS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei,this.onMicrotaskEmpty=new Ei,this.onStable=new Ei,this.onError=new Ei}run(s,u,l){return s.apply(u,l)}runGuarded(s,u,l){return s.apply(u,l)}runOutsideAngular(s){return s()}runTask(s,u,l,f){return s.apply(u,l)}}let m1=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),dI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dI(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,f){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:h,updateCb:f})}whenStable(u,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(dn(Di))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})(),y1=(()=>{class o{constructor(){this._applications=new Map,gI.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return gI.findTestabilityInTree(this,u,l)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();class pS{addToWindow(s){}findTestabilityInTree(s,u,l){return null}}function gS(o){gI=o}let gI=new pS,v1=!0,_1=!1;function mI(){return _1=!0,v1}function mS(){if(_1)throw new Error("Cannot enable prod mode after platform setup.");v1=!1}let Eo;const b1=new Yt("AllowMultipleToken");class DS{constructor(s,u){this.name=s,this.token=u}}function w1(o,s,u=[]){const l=`Platform: ${s}`,f=new Yt(l);return(h=[])=>{let g=E1();if(!g||g.injector.get(b1,!1))if(o)o(u.concat(h).concat({provide:f,useValue:!0}));else{const y=u.concat(h).concat({provide:f,useValue:!0},{provide:As,useValue:"platform"});!function(o){if(Eo&&!Eo.destroyed&&!Eo.injector.get(b1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Eo=o.get(D1);const s=o.get(u1,null);s&&s.forEach(u=>u())}(St.create({providers:y,name:l}))}return function(o){const s=E1();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(f)}}function E1(){return Eo&&!Eo.destroyed?Eo:null}let D1=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const y=function(o,s){let u;return u="noop"===o?new hS:("zone.js"===o?void 0:o)||new Di({enableLongStackTrace:mI(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),v=[{provide:Di,useValue:y}];return y.run(()=>{const w=St.create({providers:v,parent:this.injector,name:u.moduleType.name}),D=u.create(w),T=D.injector.get(Aa,null);if(!T)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const S=y.onError.subscribe({next:N=>{T.handleError(N)}});D.onDestroy(()=>{yI(this._modules,D),S.unsubscribe()})}),function(o,s,u){try{const l=u();return yd(l)?l.catch(f=>{throw s.runOutsideAngular(()=>o.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(T,y,()=>{const S=D.injector.get(Xt);return S.runInitializers(),S.donePromise.then(()=>(Yg(D.injector.get(cw,ul)||ul),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,l=[]){const f=C1({},l);return function(o,s,u){const l=new lh(u);return Promise.resolve(l)}(0,0,u).then(h=>this.bootstrapModuleFactory(h,f))}_moduleDoBootstrap(u){const l=u.injector.get(uy);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${P(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(dn(St))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function C1(o,s){return Array.isArray(s)?s.reduce(C1,o):Object.assign(Object.assign({},o),s)}let uy=(()=>{class o{constructor(u,l,f,h,g){this._zone=u,this._injector=l,this._exceptionHandler=f,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new he.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new he.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),dI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(y,v.pipe(o=>(0,ue.x)()(function(o,s){return function(l){let f;f="function"==typeof o?o:function(){return o};const h=Object.create(l,ae.N);return h.source=l,h.subjectFactory=f,h}}(G)(o))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=u instanceof hl?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const h=function(o){return o.isBoundToModule}(f)?void 0:this._injector.get(_o),y=f.create(St.NULL,[],l||f.selector,h),v=y.location.nativeElement,w=y.injector.get(m1,null),D=w&&y.injector.get(y1);return w&&D&&D.registerApplication(v,w),y.onDestroy(()=>{this.detachView(y.hostView),yI(this.components,y),D&&D.unregisterApplication(v)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;yI(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(l1,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(dn(Di),dn(St),dn(Aa),dn(Zo),dn(Xt))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function yI(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}class RS{}class MS{}const NS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let OS=(()=>{class o{constructor(u,l){this._compiler=u,this._config=l||NS}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,f]=u.split("#");return void 0===f&&(f="default"),M(8255)(l).then(h=>h[f]).then(h=>A1(h,l,f)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(u){let[l,f]=u.split("#"),h="NgFactory";return void 0===f&&(f="default",h=""),M(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(g=>g[f+h]).then(g=>A1(g,l,f))}}return o.\u0275fac=function(u){return new(u||o)(dn(ay),dn(MS,8))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function A1(o,s,u){if(!o)throw new Error(`Cannot find '${u}' in '${s}'`);return o}const BS=function(o){return null},$S=w1(null,"core",[{provide:c1,useValue:"unknown"},{provide:D1,deps:[St]},{provide:y1,deps:[]},{provide:f1,deps:[]}]),KS=[{provide:uy,useClass:uy,deps:[Di,St,Aa,Zo,Xt]},{provide:xb,deps:[Di],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:Xt,useClass:Xt,deps:[[new xi,gt]]},{provide:ay,useClass:ay,deps:[]},uw,{provide:jd,useFactory:function(){return EC},deps:[]},{provide:ml,useFactory:function(){return DC},deps:[]},{provide:cw,useFactory:function(o){return Yg(o=o||"undefined"!=typeof $localize&&$localize.locale||ul),o},deps:[[new Ea(cw),new xi,new Oo]]},{provide:d1,useValue:"USD"}];let ZS=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(dn(uy))},o.\u0275mod=Wl({type:o}),o.\u0275inj=Io({providers:KS}),o})()},57:(Ve,pe,M)=>{"use strict";M.d(pe,{hO:()=>ei,xv:()=>oe,Dh:()=>se,HU:()=>k,GT:()=>ie,sI:()=>Ot,on:()=>we,ss:()=>B,pX:()=>H,yq:()=>ze});var _=M(7771),te=M(3637),he=M(3342),re=M(3101),ae=M(309),Y=M(3018),fe=M(2329);function ue(){}Ve=M.hmd(Ve);class G{constructor(J,z=_.N){this.zone=J,this.delegate=z}now(){return this.delegate.now()}schedule(J,z,Q){const ye=this.zone;return this.delegate.schedule(function(Pe){ye.runGuarded(()=>{J.apply(this,[Pe])})},z,Q)}}class x{constructor(J){this.zone=J,this.task=null}call(J,z){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),z.pipe((0,he.b)({next:Q,complete:Q,error:Q})).subscribe(J).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class k{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=J.run(()=>new G(Zone.current,te.z))}}function B(K){return function(z){return(z=z.lift(new x(K.ngZone))).pipe((0,re.R)(K.outsideAngular),(0,ae.QV)(K.insideAngular))}}const P=["ngOnDestroy"],H=(K,J,z,Q={})=>new Proxy(K,{get:(ye,Z)=>z.runOutsideAngular(()=>{var Pe;if(K[Z])return(null===(Pe=null==Q?void 0:Q.spy)||void 0===Pe?void 0:Pe.get)&&Q.spy.get(Z,K[Z]),K[Z];if(P.indexOf(Z)>-1)return()=>{};const Ke=J.toPromise().then(Ht=>{const Ue=Ht&&Ht[Z];return"function"==typeof Ue?Ue.bind(Ht):Ue&&Ue.then?Ue.then(Ft=>z.run(()=>Ft)):z.run(()=>Ue)});return new Proxy(()=>{},{get:(Ht,Ue)=>Ke[Ue],apply:(Ht,Ue,Ft)=>Ke.then(et=>{var xe;const rt=et&&et(...Ft);return(null===(xe=null==Q?void 0:Q.spy)||void 0===xe?void 0:xe.apply)&&Q.spy.apply(Z,Ft,rt),rt})})})}),ie=(K,J)=>{J.forEach(z=>{Object.getOwnPropertyNames(z.prototype||z).forEach(Q=>{Object.defineProperty(K.prototype,Q,Object.getOwnPropertyDescriptor(z.prototype||z,Q))})})},se=new Y.OlP("angularfire2.app.options"),oe=new Y.OlP("angularfire2.app.nameOrConfig"),Se=new Y.GfV("6.1.5");function we(K,J,z){const ye="object"==typeof z&&z||{};ye.name=ye.name||"string"==typeof z&&z||"[DEFAULT]";const Pe=fe.Z.apps.filter(Ke=>Ke&&Ke.name===ye.name)[0]||J.runOutsideAngular(()=>fe.Z.initializeApp(K,ye));try{JSON.stringify(K)!==JSON.stringify(Pe.options)&&Ne("error",`${Pe.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return Pe}const ze=()=>{Ne("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Ne=(K,...J)=>{(0,Y.X6Q)()&&"undefined"!=typeof console&&console[K](...J)};function Ot(K,J,z,Q,ye){const[Z,...Pe]=globalThis.\u0275AngularfireInstanceCache.get(K)||[];if(Z){try{ye.some((Ke,Ht)=>{const Ue=Pe[Ht];return Ke&&"object"==typeof Ke?JSON.stringify(Ke)!==JSON.stringify(Ue):Ke!==Ue})&&Ne("error",`${J} was already initialized on the ${z.name} Firebase App instance with different settings.${Ve.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ke){}return Z}{const Ke=Q();return globalThis.\u0275AngularfireInstanceCache.set(K,[Ke,...ye]),Ke}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Pt={provide:class{},useFactory:we,deps:[se,Y.R0b,[new Y.FiY,oe]]};let ei=(()=>{class K{constructor(z){fe.Z.registerVersion("angularfire",Se.full,z.toString()),fe.Z.registerVersion("angular",Y.q4F.full)}static initializeApp(z,Q){return{ngModule:K,providers:[{provide:se,useValue:z},{provide:oe,useValue:Q}]}}}return K.\u0275fac=function(z){return new(z||K)(Y.LFG(Y.Lbi))},K.\u0275mod=Y.oAB({type:K}),K.\u0275inj=Y.cJS({providers:[Pt]}),K})()},9759:(Ve,pe,M)=>{"use strict";M.d(pe,{Z:()=>Ft});var ae,Ne,_=M(4762),te=M(4685),he=M(6034),re=M(300),Y=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),fe=new te.LL("app","Firebase",Y),ue="@firebase/app",Re="[DEFAULT]",Ot=((Ne={})[ue]="fire-core",Ne["@firebase/analytics"]="fire-analytics",Ne["@firebase/app-check"]="fire-app-check",Ne["@firebase/auth"]="fire-auth",Ne["@firebase/database"]="fire-rtdb",Ne["@firebase/functions"]="fire-fn",Ne["@firebase/installations"]="fire-iid",Ne["@firebase/messaging"]="fire-fcm",Ne["@firebase/performance"]="fire-perf",Ne["@firebase/remote-config"]="fire-rc",Ne["@firebase/storage"]="fire-gcs",Ne["@firebase/firestore"]="fire-fst",Ne["fire-js"]="fire-js",Ne["firebase-wrapper"]="fire-js-all",Ne),Pt=new re.Yd("@firebase/app"),ei=function(){function et(xe,rt,kt){var Ct=this;this.firebase_=kt,this.isDeleted_=!1,this.name_=rt.name,this.automaticDataCollectionEnabled_=rt.automaticDataCollectionEnabled||!1,this.options_=(0,te.p$)(xe),this.container=new he.H0(rt.name),this._addComponent(new he.wA("app",function(){return Ct},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(dt){return Ct._addComponent(dt)})}return Object.defineProperty(et.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(xe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=xe},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(et.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),et.prototype.delete=function(){var xe=this;return new Promise(function(rt){xe.checkDestroyed_(),rt()}).then(function(){return xe.firebase_.INTERNAL.removeApp(xe.name_),Promise.all(xe.container.getProviders().map(function(rt){return rt.delete()}))}).then(function(){xe.isDeleted_=!0})},et.prototype._getService=function(xe,rt){var kt;void 0===rt&&(rt=Re),this.checkDestroyed_();var Ct=this.container.getProvider(xe);return!Ct.isInitialized()&&"EXPLICIT"===(null===(kt=Ct.getComponent())||void 0===kt?void 0:kt.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:rt})},et.prototype._removeServiceInstance=function(xe,rt){void 0===rt&&(rt=Re),this.container.getProvider(xe).clearInstance(rt)},et.prototype._addComponent=function(xe){try{this.container.addComponent(xe)}catch(rt){Pt.debug("Component "+xe.name+" failed to register with FirebaseApp "+this.name,rt)}},et.prototype._addOrOverwriteComponent=function(xe){this.container.addOrOverwriteComponent(xe)},et.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},et.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},et}();ei.prototype.name&&ei.prototype.options||ei.prototype.delete||console.log("dc");var Q=function z(){var et=function(et){var xe={},rt=new Map,kt={__esModule:!0,initializeApp:function(st,yt){void 0===yt&&(yt={}),("object"!=typeof yt||null===yt)&&(yt={name:yt});var Ln=yt;void 0===Ln.name&&(Ln.name=Re);var mn=Ln.name;if("string"!=typeof mn||!mn)throw fe.create("bad-app-name",{appName:String(mn)});if((0,te.r3)(xe,mn))throw fe.create("duplicate-app",{appName:mn});var Lt=new et(st,Ln,kt);return xe[mn]=Lt,Lt},app:dt,registerVersion:function(st,yt,br){var Ln,mn=null!==(Ln=Ot[st])&&void 0!==Ln?Ln:st;br&&(mn+="-"+br);var Lt=mn.match(/\s|\//),tn=yt.match(/\s|\//);if(Lt||tn){var wr=['Unable to register library "'+mn+'" with version "'+yt+'":'];return Lt&&wr.push('library name "'+mn+'" contains illegal characters (whitespace or "/")'),Lt&&tn&&wr.push("and"),tn&&wr.push('version name "'+yt+'" contains illegal characters (whitespace or "/")'),void Pt.warn(wr.join(" "))}ql(new he.wA(mn+"-version",function(){return{library:mn,version:yt}},"VERSION"))},setLogLevel:re.Ub,onLog:function(st,yt){if(null!==st&&"function"!=typeof st)throw fe.create("invalid-log-argument");(0,re.Am)(st,yt)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:ql,removeApp:function(st){delete xe[st]},components:rt,useAsService:function(st,yt){return"serverAuth"===yt?null:yt}}};function dt(st){if(!(0,te.r3)(xe,st=st||Re))throw fe.create("no-app",{appName:st});return xe[st]}function ql(st){var yt=st.name;if(rt.has(yt))return Pt.debug("There were multiple attempts to register component "+yt+"."),"PUBLIC"===st.type?kt[yt]:null;if(rt.set(yt,st),"PUBLIC"===st.type){var br=function(tn){if(void 0===tn&&(tn=dt()),"function"!=typeof tn[yt])throw fe.create("invalid-app-argument",{appName:yt});return tn[yt]()};void 0!==st.serviceProps&&(0,te.ZB)(br,st.serviceProps),kt[yt]=br,et.prototype[yt]=function(){for(var tn=[],wr=0;wr<arguments.length;wr++)tn[wr]=arguments[wr];return this._getService.bind(this,yt).apply(this,st.multipleInstances?tn:[])}}for(var Ln=0,mn=Object.keys(xe);Ln<mn.length;Ln++)xe[mn[Ln]]._addComponent(st);return"PUBLIC"===st.type?kt[yt]:null}return kt.default=kt,Object.defineProperty(kt,"apps",{get:function(){return Object.keys(xe).map(function(st){return xe[st]})}}),dt.App=et,kt}(ei);return et.INTERNAL=(0,_.pi)((0,_.pi)({},et.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(rt){(0,te.ZB)(et,rt)},createSubscribe:te.ne,ErrorFactory:te.LL,deepExtend:te.ZB}),et}(),ye=function(){function et(xe){this.container=xe}return et.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(rt){if(function(et){var xe=et.getComponent();return"VERSION"===(null==xe?void 0:xe.type)}(rt)){var kt=rt.getImmediate();return kt.library+"/"+kt.version}return null}).filter(function(rt){return rt}).join(" ")},et}();if((0,te.jU)()&&void 0!==self.firebase){Pt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ke=self.firebase.SDK_VERSION;Ke&&Ke.indexOf("LITE")>=0&&Pt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ht=Q.initializeApp;Q.initializeApp=function(){for(var et=[],xe=0;xe<arguments.length;xe++)et[xe]=arguments[xe];return(0,te.UG)()&&Pt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ht.apply(void 0,et)};var et,Ue=Q;(et=Ue).INTERNAL.registerComponent(new he.wA("platform-logger",function(rt){return new ye(rt)},"PRIVATE")),et.registerVersion(ue,"0.6.29",undefined),et.registerVersion("fire-js","");const Ft=Ue},6034:(Ve,pe,M)=>{"use strict";M.d(pe,{wA:()=>he,H0:()=>ue});var _=M(4762),te=M(4685),he=function(){function G(x,k,B){this.name=x,this.instanceFactory=k,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G.prototype.setInstantiationMode=function(x){return this.instantiationMode=x,this},G.prototype.setMultipleInstances=function(x){return this.multipleInstances=x,this},G.prototype.setServiceProps=function(x){return this.serviceProps=x,this},G.prototype.setInstanceCreatedCallback=function(x){return this.onInstanceCreated=x,this},G}(),re="[DEFAULT]",ae=function(){function G(x,k){this.name=x,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return G.prototype.get=function(x){var k=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(k)){var B=new te.BH;if(this.instancesDeferred.set(k,B),this.isInitialized(k)||this.shouldAutoInitialize())try{var P=this.getOrInitializeService({instanceIdentifier:k});P&&B.resolve(P)}catch(H){}}return this.instancesDeferred.get(k).promise},G.prototype.getImmediate=function(x){var k,B=this.normalizeInstanceIdentifier(null==x?void 0:x.identifier),P=null!==(k=null==x?void 0:x.optional)&&void 0!==k&&k;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(P)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(H){if(P)return null;throw H}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(x){var k,B;if(x.name!==this.name)throw Error("Mismatching Component "+x.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=x,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:re})}catch(we){}try{for(var P=(0,_.XA)(this.instancesDeferred.entries()),H=P.next();!H.done;H=P.next()){var ie=(0,_.CR)(H.value,2),oe=ie[1],$e=this.normalizeInstanceIdentifier(ie[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:$e});oe.resolve(Se)}catch(we){}}}catch(we){k={error:we}}finally{try{H&&!H.done&&(B=P.return)&&B.call(P)}finally{if(k)throw k.error}}}},G.prototype.clearInstance=function(x){void 0===x&&(x=re),this.instancesDeferred.delete(x),this.instances.delete(x)},G.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var x;return(0,_.Jh)(this,function(k){switch(k.label){case 0:return x=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(x.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,_.CR)(x.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return k.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(x){return void 0===x&&(x=re),this.instances.has(x)},G.prototype.initialize=function(x){var k,B;void 0===x&&(x={});var P=x.options,H=void 0===P?{}:P,ie=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(ie))throw Error(this.name+"("+ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var se=this.getOrInitializeService({instanceIdentifier:ie,options:H});try{for(var oe=(0,_.XA)(this.instancesDeferred.entries()),$e=oe.next();!$e.done;$e=oe.next()){var Se=(0,_.CR)($e.value,2),ze=Se[1];ie===this.normalizeInstanceIdentifier(Se[0])&&ze.resolve(se)}}catch(Re){k={error:Re}}finally{try{$e&&!$e.done&&(B=oe.return)&&B.call(oe)}finally{if(k)throw k.error}}return se},G.prototype.onInit=function(x,k){var B,P=this.normalizeInstanceIdentifier(k),H=null!==(B=this.onInitCallbacks.get(P))&&void 0!==B?B:new Set;H.add(x),this.onInitCallbacks.set(P,H);var ie=this.instances.get(P);return ie&&x(ie,P),function(){H.delete(x)}},G.prototype.invokeOnInitCallbacks=function(x,k){var B,P,H=this.onInitCallbacks.get(k);if(H)try{for(var ie=(0,_.XA)(H),se=ie.next();!se.done;se=ie.next()){var oe=se.value;try{oe(x,k)}catch($e){}}}catch($e){B={error:$e}}finally{try{se&&!se.done&&(P=ie.return)&&P.call(ie)}finally{if(B)throw B.error}}},G.prototype.getOrInitializeService=function(x){var k=x.instanceIdentifier,B=x.options,P=void 0===B?{}:B,H=this.instances.get(k);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:Y(k),options:P}),this.instances.set(k,H),this.invokeOnInitCallbacks(H,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,H)}catch(ie){}return H||null},G.prototype.normalizeInstanceIdentifier=function(x){return void 0===x&&(x=re),this.component?this.component.multipleInstances?x:re:x},G.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},G}();function Y(G){return G===re?void 0:G}var ue=function(){function G(x){this.name=x,this.providers=new Map}return G.prototype.addComponent=function(x){var k=this.getProvider(x.name);if(k.isComponentSet())throw new Error("Component "+x.name+" has already been registered with "+this.name);k.setComponent(x)},G.prototype.addOrOverwriteComponent=function(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)},G.prototype.getProvider=function(x){if(this.providers.has(x))return this.providers.get(x);var k=new ae(x,this);return this.providers.set(x,k),k},G.prototype.getProviders=function(){return Array.from(this.providers.values())},G}()},300:(Ve,pe,M)=>{"use strict";function _(){for(var B=0,P=0,H=arguments.length;P<H;P++)B+=arguments[P].length;var ie=Array(B),se=0;for(P=0;P<H;P++)for(var oe=arguments[P],$e=0,Se=oe.length;$e<Se;$e++,se++)ie[se]=oe[$e];return ie}M.d(pe,{in:()=>re,Yd:()=>G,Ub:()=>x,Am:()=>k});var te,he=[],re=(()=>{return(B=re||(re={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",re;var B})(),ae={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Y=re.INFO,fe=((te={})[re.DEBUG]="log",te[re.VERBOSE]="log",te[re.INFO]="info",te[re.WARN]="warn",te[re.ERROR]="error",te),ue=function(B,P){for(var H=[],ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];if(!(P<B.logLevel)){var se=(new Date).toISOString(),oe=fe[P];if(!oe)throw new Error("Attempted to log a message with an invalid logType (value: "+P+")");console[oe].apply(console,_(["["+se+"]  "+B.name+":"],H))}},G=function(){function B(P){this.name=P,this._logLevel=Y,this._logHandler=ue,this._userLogHandler=null,he.push(this)}return Object.defineProperty(B.prototype,"logLevel",{get:function(){return this._logLevel},set:function(P){if(!(P in re))throw new TypeError('Invalid value "'+P+'" assigned to `logLevel`');this._logLevel=P},enumerable:!1,configurable:!0}),B.prototype.setLogLevel=function(P){this._logLevel="string"==typeof P?ae[P]:P},Object.defineProperty(B.prototype,"logHandler",{get:function(){return this._logHandler},set:function(P){if("function"!=typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(P){this._userLogHandler=P},enumerable:!1,configurable:!0}),B.prototype.debug=function(){for(var P=[],H=0;H<arguments.length;H++)P[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,_([this,re.DEBUG],P)),this._logHandler.apply(this,_([this,re.DEBUG],P))},B.prototype.log=function(){for(var P=[],H=0;H<arguments.length;H++)P[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,_([this,re.VERBOSE],P)),this._logHandler.apply(this,_([this,re.VERBOSE],P))},B.prototype.info=function(){for(var P=[],H=0;H<arguments.length;H++)P[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,_([this,re.INFO],P)),this._logHandler.apply(this,_([this,re.INFO],P))},B.prototype.warn=function(){for(var P=[],H=0;H<arguments.length;H++)P[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,_([this,re.WARN],P)),this._logHandler.apply(this,_([this,re.WARN],P))},B.prototype.error=function(){for(var P=[],H=0;H<arguments.length;H++)P[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,_([this,re.ERROR],P)),this._logHandler.apply(this,_([this,re.ERROR],P))},B}();function x(B){he.forEach(function(P){P.setLogLevel(B)})}function k(B,P){for(var H=function($e){var Se=null;P&&P.level&&(Se=ae[P.level]),$e.userLogHandler=null===B?null:function(we,ze){for(var Ne=[],Re=2;Re<arguments.length;Re++)Ne[Re-2]=arguments[Re];var Ot=Ne.map(function(Pt){if(null==Pt)return null;if("string"==typeof Pt)return Pt;if("number"==typeof Pt||"boolean"==typeof Pt)return Pt.toString();if(Pt instanceof Error)return Pt.message;try{return JSON.stringify(Pt)}catch(ei){return null}}).filter(function(Pt){return Pt}).join(" ");ze>=(null!=Se?Se:we.logLevel)&&B({level:re[ze].toLowerCase(),message:Ot,args:Ne,type:we.name})}},ie=0,se=he;ie<se.length;ie++)H(se[ie])}},4685:(Ve,pe,M)=>{"use strict";M.d(pe,{BH:()=>P,LL:()=>Z,r3:()=>Ct,Sg:()=>H,ne:()=>br,p$:()=>x,ZB:()=>k,m9:()=>Rh,z$:()=>ie,jU:()=>$e,ru:()=>Se,d:()=>ze,w1:()=>Ne,uI:()=>se,UG:()=>oe,b$:()=>we,G6:()=>Pt,Mn:()=>Re});var _=M(4762),fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(F,V){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var L=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],q=0;q<F.length;q+=3){var Ee=F[q],Ce=q+1<F.length,vt=Ce?F[q+1]:0,It=q+2<F.length,Et=It?F[q+2]:0,cn=(15&vt)<<2|Et>>6,ti=63&Et;It||(ti=64,Ce||(cn=64)),ne.push(L[Ee>>2],L[(3&Ee)<<4|vt>>4],L[cn],L[ti])}return ne.join("")},encodeString:function(F,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(F):this.encodeByteArray(function(F){for(var V=[],L=0,ne=0;ne<F.length;ne++){var q=F.charCodeAt(ne);q<128?V[L++]=q:q<2048?(V[L++]=q>>6|192,V[L++]=63&q|128):55296==(64512&q)&&ne+1<F.length&&56320==(64512&F.charCodeAt(ne+1))?(q=65536+((1023&q)<<10)+(1023&F.charCodeAt(++ne)),V[L++]=q>>18|240,V[L++]=q>>12&63|128,V[L++]=q>>6&63|128,V[L++]=63&q|128):(V[L++]=q>>12|224,V[L++]=q>>6&63|128,V[L++]=63&q|128)}return V}(F),V)},decodeString:function(F,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(F):function(F){for(var V=[],L=0,ne=0;L<F.length;){var q=F[L++];if(q<128)V[ne++]=String.fromCharCode(q);else if(q>191&&q<224){var Ee=F[L++];V[ne++]=String.fromCharCode((31&q)<<6|63&Ee)}else if(q>239&&q<365){var It=((7&q)<<18|(63&(Ee=F[L++]))<<12|(63&(Ce=F[L++]))<<6|63&F[L++])-65536;V[ne++]=String.fromCharCode(55296+(It>>10)),V[ne++]=String.fromCharCode(56320+(1023&It))}else{Ee=F[L++];var Ce=F[L++];V[ne++]=String.fromCharCode((15&q)<<12|(63&Ee)<<6|63&Ce)}}return V.join("")}(this.decodeStringToByteArray(F,V))},decodeStringToByteArray:function(F,V){this.init_();for(var L=V?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],q=0;q<F.length;){var Ee=L[F.charAt(q++)],vt=q<F.length?L[F.charAt(q)]:0,Et=++q<F.length?L[F.charAt(q)]:64,Qn=++q<F.length?L[F.charAt(q)]:64;if(++q,null==Ee||null==vt||null==Et||null==Qn)throw Error();ne.push(Ee<<2|vt>>4),64!==Et&&(ne.push(vt<<4&240|Et>>2),64!==Qn&&ne.push(Et<<6&192|Qn))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};function x(F){return k(void 0,F)}function k(F,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return V}for(var ne in V)!V.hasOwnProperty(ne)||!B(ne)||(F[ne]=k(F[ne],V[ne]));return F}function B(F){return"__proto__"!==F}var P=function(){function F(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(L,ne){V.resolve=L,V.reject=ne})}return F.prototype.wrapCallback=function(V){var L=this;return function(ne,q){ne?L.reject(ne):L.resolve(q),"function"==typeof V&&(L.promise.catch(function(){}),1===V.length?V(ne):V(ne,q))}},F}();function H(F,V){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=V||"demo-project",q=F.iat||0,Ee=F.sub||F.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ce=(0,_.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:q,exp:q+3600,auth_time:q,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},F);return[fe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),fe.encodeString(JSON.stringify(Ce),!1),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function $e(){return"object"==typeof self&&self.self===self}function Se(){var F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){return ie().indexOf("Electron/")>=0}function Ne(){var F=ie();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Re(){return ie().indexOf("MSAppHost/")>=0}function Pt(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ye=function(F){function V(L,ne,q){var Ee=F.call(this,ne)||this;return Ee.code=L,Ee.customData=q,Ee.name="FirebaseError",Object.setPrototypeOf(Ee,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ee,Z.prototype.create),Ee}return(0,_.ZT)(V,F),V}(Error),Z=function(){function F(V,L,ne){this.service=V,this.serviceName=L,this.errors=ne}return F.prototype.create=function(V){for(var L=[],ne=1;ne<arguments.length;ne++)L[ne-1]=arguments[ne];var q=L[0]||{},Ee=this.service+"/"+V,Ce=this.errors[V],vt=Ce?Pe(Ce,q):"Error",It=this.serviceName+": "+vt+" ("+Ee+").",Et=new ye(Ee,It,q);return Et},F}();function Pe(F,V){return F.replace(Ke,function(L,ne){var q=V[ne];return null!=q?String(q):"<"+ne+"?>"})}var Ke=/\{\$([^}]+)}/g;function Ct(F,V){return Object.prototype.hasOwnProperty.call(F,V)}function br(F,V){var L=new Ln(F,V);return L.subscribe.bind(L)}!function(){function F(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}F.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},F.prototype.compress_=function(V,L){L||(L=0);var ne=this.W_;if("string"==typeof V)for(var q=0;q<16;q++)ne[q]=V.charCodeAt(L)<<24|V.charCodeAt(L+1)<<16|V.charCodeAt(L+2)<<8|V.charCodeAt(L+3),L+=4;else for(q=0;q<16;q++)ne[q]=V[L]<<24|V[L+1]<<16|V[L+2]<<8|V[L+3],L+=4;for(q=16;q<80;q++)ne[q]=4294967295&((Ee=ne[q-3]^ne[q-8]^ne[q-14]^ne[q-16])<<1|Ee>>>31);var Qn,cn,Ce=this.chain_[0],vt=this.chain_[1],It=this.chain_[2],Et=this.chain_[3],En=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(Qn=Et^vt&(It^Et),cn=1518500249):(Qn=vt^It^Et,cn=1859775393):q<60?(Qn=vt&It|Et&(vt|It),cn=2400959708):(Qn=vt^It^Et,cn=3395469782);var Ee=(Ce<<5|Ce>>>27)+Qn+En+cn+ne[q]&4294967295;En=Et,Et=It,It=4294967295&(vt<<30|vt>>>2),vt=Ce,Ce=Ee}this.chain_[0]=this.chain_[0]+Ce&4294967295,this.chain_[1]=this.chain_[1]+vt&4294967295,this.chain_[2]=this.chain_[2]+It&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+En&4294967295},F.prototype.update=function(V,L){if(null!=V){void 0===L&&(L=V.length);for(var ne=L-this.blockSize,q=0,Ee=this.buf_,Ce=this.inbuf_;q<L;){if(0===Ce)for(;q<=ne;)this.compress_(V,q),q+=this.blockSize;if("string"==typeof V){for(;q<L;)if(Ee[Ce]=V.charCodeAt(q),++q,++Ce===this.blockSize){this.compress_(Ee),Ce=0;break}}else for(;q<L;)if(Ee[Ce]=V[q],++q,++Ce===this.blockSize){this.compress_(Ee),Ce=0;break}}this.inbuf_=Ce,this.total_+=L}},F.prototype.digest=function(){var V=[],L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&L,L/=256;this.compress_(this.buf_);var q=0;for(ne=0;ne<5;ne++)for(var Ee=24;Ee>=0;Ee-=8)V[q]=this.chain_[ne]>>Ee&255,++q;return V}}();var Ln=function(){function F(V,L){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(function(){V(ne)}).catch(function(q){ne.error(q)})}return F.prototype.next=function(V){this.forEachObserver(function(L){L.next(V)})},F.prototype.error=function(V){this.forEachObserver(function(L){L.error(V)}),this.close(V)},F.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},F.prototype.subscribe=function(V,L,ne){var Ee,q=this;if(void 0===V&&void 0===L&&void 0===ne)throw new Error("Missing Observer.");void 0===(Ee=function(F,V){if("object"!=typeof F||null===F)return!1;for(var L=0,ne=["next","error","complete"];L<ne.length;L++){var q=ne[L];if(q in F&&"function"==typeof F[q])return!0}return!1}(V)?V:{next:V,error:L,complete:ne}).next&&(Ee.next=tn),void 0===Ee.error&&(Ee.error=tn),void 0===Ee.complete&&(Ee.complete=tn);var Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?Ee.error(q.finalError):Ee.complete()}catch(vt){}}),this.observers.push(Ee),Ce},F.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},F.prototype.forEachObserver=function(V){if(!this.finalized)for(var L=0;L<this.observers.length;L++)this.sendOne(L,V)},F.prototype.sendOne=function(V,L){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[V])try{L(ne.observers[V])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},F.prototype.close=function(V){var L=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){L.observers=void 0,L.onNoObservers=void 0}))},F}();function tn(){}function Rh(F){return F&&F._delegate?F._delegate:F}},2329:(Ve,pe,M)=>{"use strict";M.d(pe,{Z:()=>_.Z});var _=M(9759);_.Z.registerVersion("firebase","8.9.1","app"),_.Z.SDK_VERSION="8.9.1"},7574:(Ve,pe,M)=>{"use strict";M.d(pe,{y:()=>k});var _=M(7393),he=M(9181),re=M(6490),Y=M(6554),fe=M(4487);var x=M(2494);let k=(()=>{class P{constructor(ie){this._isScalar=!1,ie&&(this._subscribe=ie)}lift(ie){const se=new P;return se.source=this,se.operator=ie,se}subscribe(ie,se,oe){const{operator:$e}=this,Se=function(P,H,ie){if(P){if(P instanceof _.L)return P;if(P[he.b])return P[he.b]()}return P||H||ie?new _.L(P,H,ie):new _.L(re.c)}(ie,se,oe);if(Se.add($e?$e.call(Se,this.source):this.source||x.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),x.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(ie){try{return this._subscribe(ie)}catch(se){x.v.useDeprecatedSynchronousErrorHandling&&(ie.syncErrorThrown=!0,ie.syncErrorValue=se),function(P){for(;P;){const{closed:H,destination:ie,isStopped:se}=P;if(H||se)return!1;P=ie&&ie instanceof _.L?ie:null}return!0}(ie)?ie.error(se):console.warn(se)}}forEach(ie,se){return new(se=B(se))((oe,$e)=>{let Se;Se=this.subscribe(we=>{try{ie(we)}catch(ze){$e(ze),Se&&Se.unsubscribe()}},$e,oe)})}_subscribe(ie){const{source:se}=this;return se&&se.subscribe(ie)}[Y.L](){return this}pipe(...ie){return 0===ie.length?this:function(P){return 0===P.length?fe.y:1===P.length?P[0]:function(ie){return P.reduce((se,oe)=>oe(se),ie)}}(ie)(this)}toPromise(ie){return new(ie=B(ie))((se,oe)=>{let $e;this.subscribe(Se=>$e=Se,Se=>oe(Se),()=>se($e))})}}return P.create=H=>new P(H),P})();function B(P){if(P||(P=x.v.Promise||Promise),!P)throw new Error("no Promise impl found");return P}},6490:(Ve,pe,M)=>{"use strict";M.d(pe,{c:()=>he});var _=M(2494),te=M(4449);const he={closed:!0,next(re){},error(re){if(_.v.useDeprecatedSynchronousErrorHandling)throw re;(0,te.z)(re)},complete(){}}},9765:(Ve,pe,M)=>{"use strict";M.d(pe,{Yc:()=>fe,xQ:()=>ue});var _=M(7574),te=M(7393),he=M(5319),re=M(7971),ae=M(8858),Y=M(9181);class fe extends te.L{constructor(k){super(k),this.destination=k}}let ue=(()=>{class x extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new fe(this)}lift(B){const P=new G(this,this);return P.operator=B,P}next(B){if(this.closed)throw new re.N;if(!this.isStopped){const{observers:P}=this,H=P.length,ie=P.slice();for(let se=0;se<H;se++)ie[se].next(B)}}error(B){if(this.closed)throw new re.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:P}=this,H=P.length,ie=P.slice();for(let se=0;se<H;se++)ie[se].error(B);this.observers.length=0}complete(){if(this.closed)throw new re.N;this.isStopped=!0;const{observers:B}=this,P=B.length,H=B.slice();for(let ie=0;ie<P;ie++)H[ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new re.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new re.N;return this.hasError?(B.error(this.thrownError),he.w.EMPTY):this.isStopped?(B.complete(),he.w.EMPTY):(this.observers.push(B),new ae.W(this,B))}asObservable(){const B=new _.y;return B.source=this,B}}return x.create=(k,B)=>new G(k,B),x})();class G extends ue{constructor(k,B){super(),this.destination=k,this.source=B}next(k){const{destination:B}=this;B&&B.next&&B.next(k)}error(k){const{destination:B}=this;B&&B.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:B}=this;return B?this.source.subscribe(k):he.w.EMPTY}}},8858:(Ve,pe,M)=>{"use strict";M.d(pe,{W:()=>te});var _=M(5319);class te extends _.w{constructor(re,ae){super(),this.subject=re,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const re=this.subject,ae=re.observers;if(this.subject=null,!ae||0===ae.length||re.isStopped||re.closed)return;const Y=ae.indexOf(this.subscriber);-1!==Y&&ae.splice(Y,1)}}},7393:(Ve,pe,M)=>{"use strict";M.d(pe,{L:()=>fe});var _=M(9105),te=M(6490),he=M(5319),re=M(9181),ae=M(2494),Y=M(4449);class fe extends he.w{constructor(x,k,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!x){this.destination=te.c;break}if("object"==typeof x){x instanceof fe?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,x,k,B)}}[re.b](){return this}static create(x,k,B){const P=new fe(x,k,B);return P.syncErrorThrowable=!1,P}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class ue extends fe{constructor(x,k,B,P){super(),this._parentSubscriber=x;let H,ie=this;(0,_.m)(k)?H=k:k&&(H=k.next,B=k.error,P=k.complete,k!==te.c&&(ie=Object.create(k),(0,_.m)(ie.unsubscribe)&&this.add(ie.unsubscribe.bind(ie)),ie.unsubscribe=this.unsubscribe.bind(this))),this._context=ie,this._next=H,this._error=B,this._complete=P}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;ae.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:B}=ae.v;if(this._error)B&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if(k.syncErrorThrowable)B?(k.syncErrorValue=x,k.syncErrorThrown=!0):(0,Y.z)(x),this.unsubscribe();else{if(this.unsubscribe(),B)throw x;(0,Y.z)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const k=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,k){try{x.call(this._context,k)}catch(B){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw B;(0,Y.z)(B)}}__tryOrSetError(x,k,B){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,B)}catch(P){return ae.v.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=P,x.syncErrorThrown=!0,!0):((0,Y.z)(P),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},5319:(Ve,pe,M)=>{"use strict";M.d(pe,{w:()=>Y});var _=M(9796),te=M(1555),he=M(9105);const ae=(()=>{function ue(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((x,k)=>`${k+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return ue.prototype=Object.create(Error.prototype),ue})();class Y{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:k,_unsubscribe:B,_subscriptions:P}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof Y)x.remove(this);else if(null!==x)for(let H=0;H<x.length;++H)x[H].remove(this);if((0,he.m)(B)){k&&(this._unsubscribe=void 0);try{B.call(this)}catch(H){G=H instanceof ae?fe(H.errors):[H]}}if((0,_.k)(P)){let H=-1,ie=P.length;for(;++H<ie;){const se=P[H];if((0,te.K)(se))try{se.unsubscribe()}catch(oe){G=G||[],oe instanceof ae?G=G.concat(fe(oe.errors)):G.push(oe)}}}if(G)throw new ae(G)}add(G){let x=G;if(!G)return Y.EMPTY;switch(typeof G){case"function":x=new Y(G);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof Y)){const P=x;x=new Y,x._subscriptions=[P]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:k}=x;if(null===k)x._parentOrParents=this;else if(k instanceof Y){if(k===this)return x;x._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return x;k.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[x]:B.push(x),x}remove(G){const x=this._subscriptions;if(x){const k=x.indexOf(G);-1!==k&&x.splice(k,1)}}}var ue;function fe(ue){return ue.reduce((G,x)=>G.concat(x instanceof ae?x.errors:x),[])}Y.EMPTY=((ue=new Y).closed=!0,ue)},2494:(Ve,pe,M)=>{"use strict";M.d(pe,{v:()=>te});let _=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(he){if(he){const re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+re.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=he},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(Ve,pe,M)=>{"use strict";M.d(pe,{IY:()=>re,Ds:()=>Y,ft:()=>ue});var _=M(7393),te=M(7574),he=M(7444);class re extends _.L{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends _.L{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function ue(G,x){if(x.closed)return;if(G instanceof te.y)return G.subscribe(x);let k;try{k=(0,he.s)(G)(x)}catch(B){x.error(B)}return k}},2441:(Ve,pe,M)=>{"use strict";M.d(pe,{c:()=>ae,N:()=>Y});var _=M(9765),te=M(7574),he=M(5319),re=M(1307);class ae extends te.y{constructor(k,B){super(),this.source=k,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let k=this._connection;return k||(this._isComplete=!1,k=this._connection=new he.w,k.add(this.source.subscribe(new fe(this.getSubject(),this))),k.closed&&(this._connection=null,k=he.w.EMPTY)),k}refCount(){return(0,re.x)()(this)}}const Y=(()=>{const x=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:x._subscribe},_isComplete:{value:x._isComplete,writable:!0},getSubject:{value:x.getSubject},connect:{value:x.connect},refCount:{value:x.refCount}}})();class fe extends _.Yc{constructor(k,B){super(k),this.connectable=B}_error(k){this._unsubscribe(),super._error(k)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const k=this.connectable;if(k){this.connectable=null;const B=k._connection;k._refCount=0,k._subject=null,k._connection=null,B&&B.unsubscribe()}}}},9193:(Ve,pe,M)=>{"use strict";M.d(pe,{E:()=>te,c:()=>he});var _=M(7574);const te=new _.y(ae=>ae.complete());function he(ae){return ae?function(ae){return new _.y(Y=>ae.schedule(()=>Y.complete()))}(ae):te}},4402:(Ve,pe,M)=>{"use strict";M.d(pe,{D:()=>ie});var _=M(7574),te=M(7444),he=M(5319),re=M(6554),fe=M(4087),ue=M(377),k=M(4072),B=M(9489);function ie(se,oe){return oe?function(se,oe){if(null!=se){if(function(se){return se&&"function"==typeof se[re.L]}(se))return function(se,oe){return new _.y($e=>{const Se=new he.w;return Se.add(oe.schedule(()=>{const we=se[re.L]();Se.add(we.subscribe({next(ze){Se.add(oe.schedule(()=>$e.next(ze)))},error(ze){Se.add(oe.schedule(()=>$e.error(ze)))},complete(){Se.add(oe.schedule(()=>$e.complete()))}}))})),Se})}(se,oe);if((0,k.t)(se))return function(se,oe){return new _.y($e=>{const Se=new he.w;return Se.add(oe.schedule(()=>se.then(we=>{Se.add(oe.schedule(()=>{$e.next(we),Se.add(oe.schedule(()=>$e.complete()))}))},we=>{Se.add(oe.schedule(()=>$e.error(we)))}))),Se})}(se,oe);if((0,B.z)(se))return(0,fe.r)(se,oe);if(function(se){return se&&"function"==typeof se[ue.hZ]}(se)||"string"==typeof se)return function(se,oe){if(!se)throw new Error("Iterable cannot be null");return new _.y($e=>{const Se=new he.w;let we;return Se.add(()=>{we&&"function"==typeof we.return&&we.return()}),Se.add(oe.schedule(()=>{we=se[ue.hZ](),Se.add(oe.schedule(function(){if($e.closed)return;let ze,Ne;try{const Re=we.next();ze=Re.value,Ne=Re.done}catch(Re){return void $e.error(Re)}Ne?$e.complete():($e.next(ze),this.schedule())}))})),Se})}(se,oe)}throw new TypeError((null!==se&&typeof se||se)+" is not observable")}(se,oe):se instanceof _.y?se:new _.y((0,te.s)(se))}},6693:(Ve,pe,M)=>{"use strict";M.d(pe,{n:()=>re});var _=M(7574),te=M(5015),he=M(4087);function re(ae,Y){return Y?(0,he.r)(ae,Y):new _.y((0,te.V)(ae))}},6682:(Ve,pe,M)=>{"use strict";M.d(pe,{T:()=>ae});var _=M(7574),te=M(4869),he=M(3282),re=M(6693);function ae(...Y){let fe=Number.POSITIVE_INFINITY,ue=null,G=Y[Y.length-1];return(0,te.K)(G)?(ue=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(fe=Y.pop())):"number"==typeof G&&(fe=Y.pop()),null===ue&&1===Y.length&&Y[0]instanceof _.y?Y[0]:(0,he.J)(fe)((0,re.n)(Y,ue))}},5917:(Ve,pe,M)=>{"use strict";M.d(pe,{of:()=>re});var _=M(4869),te=M(6693),he=M(4087);function re(...ae){let Y=ae[ae.length-1];return(0,_.K)(Y)?(ae.pop(),(0,he.r)(ae,Y)):(0,te.n)(ae)}},8002:(Ve,pe,M)=>{"use strict";M.d(pe,{U:()=>te});var _=M(7393);function te(ae,Y){return function(ue){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new he(ae,Y))}}class he{constructor(Y,fe){this.project=Y,this.thisArg=fe}call(Y,fe){return fe.subscribe(new re(Y,this.project,this.thisArg))}}class re extends _.L{constructor(Y,fe,ue){super(Y),this.project=fe,this.count=0,this.thisArg=ue||this}_next(Y){let fe;try{fe=this.project.call(this.thisArg,Y,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(fe)}}},3282:(Ve,pe,M)=>{"use strict";M.d(pe,{J:()=>he});var _=M(9773),te=M(4487);function he(re=Number.POSITIVE_INFINITY){return(0,_.zg)(te.y,re)}},9773:(Ve,pe,M)=>{"use strict";M.d(pe,{zg:()=>re});var _=M(8002),te=M(4402),he=M(5345);function re(ue,G,x=Number.POSITIVE_INFINITY){return"function"==typeof G?k=>k.pipe(re((B,P)=>(0,te.D)(ue(B,P)).pipe((0,_.U)((H,ie)=>G(B,H,P,ie))),x)):("number"==typeof G&&(x=G),k=>k.lift(new ae(ue,x)))}class ae{constructor(G,x=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=x}call(G,x){return x.subscribe(new Y(G,this.project,this.concurrent))}}class Y extends he.Ds{constructor(G,x,k=Number.POSITIVE_INFINITY){super(G),this.project=x,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let x;const k=this.index++;try{x=this.project(G,k)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(x)}_innerSub(G){const x=new he.IY(this),k=this.destination;k.add(x);const B=(0,he.ft)(G,x);B!==x&&k.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ve,pe,M)=>{"use strict";M.d(pe,{ht:()=>k,QV:()=>G});var _=M(7393),te=M(9193),he=M(5917),re=M(7574);class ue{constructor(H,ie,se){this.kind=H,this.value=ie,this.error=se,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,ie,se){switch(this.kind){case"N":return H&&H(this.value);case"E":return ie&&ie(this.error);case"C":return se&&se()}}accept(H,ie,se){return H&&"function"==typeof H.next?this.observe(H):this.do(H,ie,se)}toObservable(){switch(this.kind){case"N":return(0,he.of)(this.value);case"E":return P=this.error,new re.y(ie=>ie.error(P));case"C":return(0,te.c)()}var P;throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new ue("N",H):ue.undefinedValueNotification}static createError(H){return new ue("E",void 0,H)}static createComplete(){return ue.completeNotification}}function G(P,H=0){return function(se){return se.lift(new x(P,H))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class x{constructor(H,ie=0){this.scheduler=H,this.delay=ie}call(H,ie){return ie.subscribe(new k(H,this.scheduler,this.delay))}}class k extends _.L{constructor(H,ie,se=0){super(H),this.scheduler=ie,this.delay=se}static dispatch(H){const{notification:ie,destination:se}=H;ie.observe(se),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(k.dispatch,this.delay,new B(H,this.destination)))}_next(H){this.scheduleMessage(ue.createNext(H))}_error(H){this.scheduleMessage(ue.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class B{constructor(H,ie){this.notification=H,this.destination=ie}}},1307:(Ve,pe,M)=>{"use strict";M.d(pe,{x:()=>te});var _=M(7393);function te(){return function(Y){return Y.lift(new he(Y))}}class he{constructor(Y){this.connectable=Y}call(Y,fe){const{connectable:ue}=this;ue._refCount++;const G=new re(Y,ue),x=fe.subscribe(G);return G.closed||(G.connection=ue.connect()),x}}class re extends _.L{constructor(Y,fe){super(Y),this.connectable=fe}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const fe=Y._refCount;if(fe<=0)return void(this.connection=null);if(Y._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:ue}=this,G=Y._connection;this.connection=null,G&&(!ue||G===ue)&&G.unsubscribe()}}},3101:(Ve,pe,M)=>{"use strict";M.d(pe,{R:()=>oe});var _=M(7574);let te=1;const he=Promise.resolve(),re={};function ae(Se){return Se in re&&(delete re[Se],!0)}const Y={setImmediate(Se){const we=te++;return re[we]=!0,he.then(()=>ae(we)&&Se()),we},clearImmediate(Se){ae(Se)}};var ue=M(6465),x=M(6102);const P=new class extends x.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let Ne,Re=-1,Ot=ze.length;we=we||ze.shift();do{if(Ne=we.execute(we.state,we.delay))break}while(++Re<Ot&&(we=ze.shift()));if(this.active=!1,Ne){for(;++Re<Ot&&(we=ze.shift());)we.unsubscribe();throw Ne}}}(class extends ue.o{constructor(we,ze){super(we,ze),this.scheduler=we,this.work=ze}requestAsyncId(we,ze,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(we,ze,Ne):(we.actions.push(this),we.scheduled||(we.scheduled=Y.setImmediate(we.flush.bind(we,null))))}recycleAsyncId(we,ze,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(we,ze,Ne);0===we.actions.length&&(Y.clearImmediate(ze),we.scheduled=void 0)}});var H=M(9796);class se extends _.y{constructor(we,ze=0,Ne=P){var Se;super(),this.source=we,this.delayTime=ze,this.scheduler=Ne,(!(!(0,H.k)(Se=ze)&&Se-parseFloat(Se)+1>=0)||ze<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=P)}static create(we,ze=0,Ne=P){return new se(we,ze,Ne)}static dispatch(we){const{source:ze,subscriber:Ne}=we;return this.add(ze.subscribe(Ne))}_subscribe(we){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:we})}}function oe(Se,we=0){return function(Ne){return Ne.lift(new $e(Se,we))}}class $e{constructor(we,ze){this.scheduler=we,this.delay=ze}call(we,ze){return new se(ze,this.delay,this.scheduler).subscribe(we)}}},3342:(Ve,pe,M)=>{"use strict";M.d(pe,{b:()=>re});var _=M(7393);function te(){}var he=M(9105);function re(fe,ue,G){return function(k){return k.lift(new ae(fe,ue,G))}}class ae{constructor(ue,G,x){this.nextOrObserver=ue,this.error=G,this.complete=x}call(ue,G){return G.subscribe(new Y(ue,this.nextOrObserver,this.error,this.complete))}}class Y extends _.L{constructor(ue,G,x,k){super(ue),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=x||te,this._tapComplete=k||te,(0,he.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||te,this._tapError=G.error||te,this._tapComplete=G.complete||te)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(G){return void this.destination.error(G)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(G){return void this.destination.error(G)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Ve,pe,M)=>{"use strict";M.d(pe,{r:()=>he});var _=M(7574),te=M(5319);function he(re,ae){return new _.y(Y=>{const fe=new te.w;let ue=0;return fe.add(ae.schedule(function(){ue!==re.length?(Y.next(re[ue++]),Y.closed||fe.add(this.schedule())):Y.complete()})),fe})}},6465:(Ve,pe,M)=>{"use strict";M.d(pe,{o:()=>he});var _=M(5319);class te extends _.w{constructor(ae,Y){super()}schedule(ae,Y=0){return this}}class he extends te{constructor(ae,Y){super(ae,Y),this.scheduler=ae,this.work=Y,this.pending=!1}schedule(ae,Y=0){if(this.closed)return this;this.state=ae;const fe=this.id,ue=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ue,fe,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(ue,this.id,Y),this}requestAsyncId(ae,Y,fe=0){return setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,Y,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return Y;clearInterval(Y)}execute(ae,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,Y);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,Y){let ue,fe=!1;try{this.work(ae)}catch(G){fe=!0,ue=!!G&&G||new Error(G)}if(fe)return this.unsubscribe(),ue}_unsubscribe(){const ae=this.id,Y=this.scheduler,fe=Y.actions,ue=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&fe.splice(ue,1),null!=ae&&(this.id=this.recycleAsyncId(Y,ae,null)),this.delay=null}}},6102:(Ve,pe,M)=>{"use strict";M.d(pe,{v:()=>te});let _=(()=>{class he{constructor(ae,Y=he.now){this.SchedulerAction=ae,this.now=Y}schedule(ae,Y=0,fe){return new this.SchedulerAction(this,ae).schedule(fe,Y)}}return he.now=()=>Date.now(),he})();class te extends _{constructor(re,ae=_.now){super(re,()=>te.delegate&&te.delegate!==this?te.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(re,ae=0,Y){return te.delegate&&te.delegate!==this?te.delegate.schedule(re,ae,Y):super.schedule(re,ae,Y)}flush(re){const{actions:ae}=this;if(this.active)return void ae.push(re);let Y;this.active=!0;do{if(Y=re.execute(re.state,re.delay))break}while(re=ae.shift());if(this.active=!1,Y){for(;re=ae.shift();)re.unsubscribe();throw Y}}}},3637:(Ve,pe,M)=>{"use strict";M.d(pe,{z:()=>he});var _=M(6465);const he=new(M(6102).v)(_.o)},7771:(Ve,pe,M)=>{"use strict";M.d(pe,{c:()=>Y,N:()=>ae});var _=M(6465),he=M(6102);const ae=new class extends he.v{}(class extends _.o{constructor(ue,G){super(ue,G),this.scheduler=ue,this.work=G}schedule(ue,G=0){return G>0?super.schedule(ue,G):(this.delay=G,this.state=ue,this.scheduler.flush(this),this)}execute(ue,G){return G>0||this.closed?super.execute(ue,G):this._execute(ue,G)}requestAsyncId(ue,G,x=0){return null!==x&&x>0||null===x&&this.delay>0?super.requestAsyncId(ue,G,x):ue.flush(this)}}),Y=ae},377:(Ve,pe,M)=>{"use strict";M.d(pe,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ve,pe,M)=>{"use strict";M.d(pe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ve,pe,M)=>{"use strict";M.d(pe,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ve,pe,M)=>{"use strict";M.d(pe,{N:()=>te});const te=(()=>{function he(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return he.prototype=Object.create(Error.prototype),he})()},4449:(Ve,pe,M)=>{"use strict";function _(te){setTimeout(()=>{throw te},0)}M.d(pe,{z:()=>_})},4487:(Ve,pe,M)=>{"use strict";function _(te){return te}M.d(pe,{y:()=>_})},9796:(Ve,pe,M)=>{"use strict";M.d(pe,{k:()=>_});const _=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Ve,pe,M)=>{"use strict";M.d(pe,{z:()=>_});const _=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Ve,pe,M)=>{"use strict";function _(te){return"function"==typeof te}M.d(pe,{m:()=>_})},1555:(Ve,pe,M)=>{"use strict";function _(te){return null!==te&&"object"==typeof te}M.d(pe,{K:()=>_})},4072:(Ve,pe,M)=>{"use strict";function _(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}M.d(pe,{t:()=>_})},4869:(Ve,pe,M)=>{"use strict";function _(te){return te&&"function"==typeof te.schedule}M.d(pe,{K:()=>_})},7444:(Ve,pe,M)=>{"use strict";M.d(pe,{s:()=>k});var _=M(5015),te=M(4449),re=M(377),Y=M(6554),ue=M(9489),G=M(4072),x=M(1555);const k=B=>{if(B&&"function"==typeof B[Y.L])return(B=>P=>{const H=B[Y.L]();if("function"!=typeof H.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return H.subscribe(P)})(B);if((0,ue.z)(B))return(0,_.V)(B);if((0,G.t)(B))return(B=>P=>(B.then(H=>{P.closed||(P.next(H),P.complete())},H=>P.error(H)).then(null,te.z),P))(B);if(B&&"function"==typeof B[re.hZ])return(B=>P=>{const H=B[re.hZ]();for(;;){let ie;try{ie=H.next()}catch(se){return P.error(se),P}if(ie.done){P.complete();break}if(P.next(ie.value),P.closed)break}return"function"==typeof H.return&&P.add(()=>{H.return&&H.return()}),P})(B);{const H=`You provided ${(0,x.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(H)}}},5015:(Ve,pe,M)=>{"use strict";M.d(pe,{V:()=>_});const _=te=>he=>{for(let re=0,ae=te.length;re<ae&&!he.closed;re++)he.next(te[re]);he.complete()}},1905:(Ve,pe,M)=>{"use strict";var _=M(3018);let te=null;function he(){return te}const fe=new _.OlP("DocumentToken");let ue=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,_.Yz7)({factory:G,token:t,providedIn:"platform"}),t})();function G(){return(0,_.LFG)(k)}const x=new _.OlP("Location Initialized");let k=(()=>{class t extends ue{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(i){const a=he().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){const a=he().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,a,c){B()?this._history.pushState(i,a,c):this.location.hash=c}replaceState(i,a,c){B()?this._history.replaceState(i,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(fe))},t.\u0275prov=(0,_.Yz7)({factory:P,token:t,providedIn:"platform"}),t})();function B(){return!!window.history.pushState}function P(){return new k((0,_.LFG)(fe))}function H(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function ie(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function se(t){return t&&"?"!==t[0]?"?"+t:t}let oe=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,_.Yz7)({factory:$e,token:t,providedIn:"root"}),t})();function $e(t){const e=(0,_.LFG)(fe).location;return new we((0,_.LFG)(ue),e&&e.origin||"")}const Se=new _.OlP("appBaseHref");let we=(()=>{class t extends oe{constructor(i,a){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return H(this._baseHref,i)}path(i=!1){const a=this._platformLocation.pathname+se(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,d){const p=this.prepareExternalUrl(c+se(d));this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,d){const p=this.prepareExternalUrl(c+se(d));this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ue),_.LFG(Se,8))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),ze=(()=>{class t extends oe{constructor(i,a){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(i){const a=H(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,c,d){let p=this.prepareExternalUrl(c+se(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,d){let p=this.prepareExternalUrl(c+se(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(ue),_.LFG(Se,8))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Ne=(()=>{class t{constructor(i,a){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=ie(Pt(c)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+se(a))}normalize(i){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Pt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._platformStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+se(a)),c)}replaceState(i,a="",c=null){this._platformStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+se(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(oe),_.LFG(ue))},t.normalizeQueryParams=se,t.joinWithSlash=H,t.stripTrailingSlash=ie,t.\u0275prov=(0,_.Yz7)({factory:Re,token:t,providedIn:"root"}),t})();function Re(){return new Ne((0,_.LFG)(oe),(0,_.LFG)(ue))}function Pt(t){return t.replace(/\/index.html$/,"")}var J=(()=>((J=J||{})[J.Zero=0]="Zero",J[J.One=1]="One",J[J.Two=2]="Two",J[J.Few=3]="Few",J[J.Many=4]="Many",J[J.Other=5]="Other",J))();const st=_.kL8;class Ci{}let Uu=(()=>{class t extends Ci{constructor(i){super(),this.locale=i}getPluralCategory(i,a){switch(st(a||this.locale)(i)){case J.Zero:return"zero";case J.One:return"one";case J.Two:return"two";case J.Few:return"few";case J.Many:return"many";default:return"other"}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.soG))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),QI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[{provide:Ci,useClass:Uu}]}),t})();let Uh=(()=>{class t{}return t.\u0275prov=(0,_.Yz7)({token:t,providedIn:"root",factory:()=>new Rw((0,_.LFG)(fe),window)}),t})();class Rw{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const a=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const d=c.shadowRoot;if(d){const p=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(p)return p}c=a.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),a=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(a-d[0],c-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xl(this.window.history)||Xl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Xl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $u extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new $u,te||(te=t)}onAndCancel(e,i,a){return e.addEventListener(i,a,!1),()=>{e.removeEventListener(i,a,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=(Gu=Gu||document.querySelector("base"),Gu?Gu.getAttribute("href"):null);return null==i?null:function(t){Bh=Bh||document.createElement("a"),Bh.setAttribute("href",t);const e=Bh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){Gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const a=i.indexOf("="),[c,d]=-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)];if(c.trim()===e)return decodeURIComponent(d)}return null}(document.cookie,e)}}let Bh,Gu=null;const Mw=new _.OlP("TRANSITION_ID"),Nw=[{provide:_.ip1,useFactory:function(t,e,i){return()=>{i.get(_.CZH).donePromise.then(()=>{const a=he(),c=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<c.length;d++)a.remove(c[d])})}},deps:[Mw,fe,_.zs3],multi:!0}];class Qt{static init(){(0,_.VLi)(new Qt)}addToWindow(e){_.dqk.getAngularTestability=(a,c=!0)=>{const d=e.findTestabilityInTree(a,c);if(null==d)throw new Error("Could not find testability for element.");return d},_.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(a=>{const c=_.dqk.getAllAngularTestabilities();let d=c.length,p=!1;const m=function(b){p=p||b,d--,0==d&&a(p)};c.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,i,a){if(null==i)return null;const c=e.getTestability(i);return null!=c?c:a?he().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let Ow=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const zu=new _.OlP("EventManagerPlugins");let tf=(()=>{class t{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}addGlobalEventListener(i,a,c){return this._findPluginFor(a).addGlobalEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){const a=this._eventNameToPlugin.get(i);if(a)return a;const c=this._plugins;for(let d=0;d<c.length;d++){const p=c[d];if(p.supports(i))return this._eventNameToPlugin.set(i,p),p}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(zu),_.LFG(_.R0b))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();class Gh{constructor(e){this._doc=e}addGlobalEventListener(e,i,a){const c=he().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,a)}}let qh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(i){const a=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t extends qh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,a,c){i.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,c.push(a.appendChild(p))})}addHost(i){const a=[];this._addStylesToHost(this._stylesSet,i,a),this._hostNodes.set(i,a)}removeHost(i){const a=this._hostNodes.get(i);a&&a.forEach(My),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(i,c,a)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(My))}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(fe))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function My(t){he().remove(t)}const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ca(t,e,i){for(let a=0;a<e.length;a++){let c=e[a];Array.isArray(c)?ca(t,c,i):(c=c.replace(lt,t),i.push(c))}return i}function Pw(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let la=(()=>{class t{constructor(i,a,c){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new fa(i)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;switch(a.encapsulation){case _.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new da(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(i),c}case 1:case _.ifc.ShadowDom:return new no(this.eventManager,this.sharedStylesHost,i,a);default:if(!this.rendererByCompId.has(a.id)){const c=ca(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(tf),_.LFG(Wu),_.LFG(_.AFp))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();class fa{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,i){return i?document.createElementNS(de[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,a){e&&e.insertBefore(i,a)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error(`The selector "${e}" did not match any elements`);return i||(a.textContent=""),a}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,a,c){if(c){i=c+":"+i;const d=de[c];d?e.setAttributeNS(d,i,a):e.setAttribute(i,a)}else e.setAttribute(i,a)}removeAttribute(e,i,a){if(a){const c=de[a];c?e.removeAttributeNS(c,i):e.removeAttribute(`${a}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,a,c){c&(_.JOm.DashCase|_.JOm.Important)?e.style.setProperty(i,a,c&_.JOm.Important?"important":""):e.style[i]=a}removeStyle(e,i,a){a&_.JOm.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,a){e[i]=a}setValue(e,i){e.nodeValue=i}listen(e,i,a){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,Pw(a)):this.eventManager.addEventListener(e,i,Pw(a))}}class da extends fa{constructor(e,i,a,c){super(e),this.component=a;const d=ca(c+"-"+a.id,a.styles,[]);i.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(lt,c+"-"+a.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(lt,t)}(c+"-"+a.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const a=super.createElement(e,i);return super.setAttribute(a,this.contentAttr,""),a}}class no extends fa{constructor(e,i,a,c){super(e),this.sharedStylesHost=i,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ca(c.id,c.styles,[]);for(let p=0;p<d.length;p++){const m=document.createElement("style");m.textContent=d[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,a){return super.insertBefore(this.nodeOrShadowRoot(e),i,a)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fw=(()=>{class t extends Gh{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(fe))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const Qu=["alt","control","meta","shift"],Uy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yn={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let So=(()=>{class t extends Gh{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,a,c){const d=t.parseEventName(a),p=t.eventCallback(d.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(i,d.domEventName,p))}static parseEventName(i){const a=i.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const d=t._normalizeKey(a.pop());let p="";if(Qu.forEach(b=>{const E=a.indexOf(b);E>-1&&(a.splice(E,1),p+=b+".")}),p+=d,0!=a.length||0===d.length)return null;const m={};return m.domEventName=c,m.fullKey=p,m}static getEventFullKey(i){let a="",c=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yh.hasOwnProperty(e)&&(e=Yh[e]))}return Uy[e]||e}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Qu.forEach(d=>{d!=c&&Yn[d](i)&&(a+=d+".")}),a+=c,a}static eventCallback(i,a,c){return d=>{t.getEventFullKey(d)===i&&c.runGuarded(()=>a(d))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(fe))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const $w=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function(){$u.makeCurrent(),Qt.init()},multi:!0},{provide:fe,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),Ao=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:zu,useClass:Fw,multi:!0,deps:[fe,_.R0b,_.Lbi]},{provide:zu,useClass:So,multi:!0,deps:[fe]},[],{provide:la,useClass:la,deps:[tf,Wu,_.AFp]},{provide:_.FYo,useExisting:la},{provide:qh,useExisting:Wu},{provide:Wu,useClass:Wu,deps:[fe]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:tf,useClass:tf,deps:[zu,_.R0b]},{provide:class{},useClass:Ow,deps:[]},[]];let Zu=(()=>{class t{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:t,providers:[{provide:_.AFp,useValue:i.appId},{provide:Mw,useExisting:_.AFp},Nw]}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(t,12))},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:Ao,imports:[QI,_.hGG]}),t})();"undefined"!=typeof window&&window;var on=M(4402),Qe=M(5917),xo=M(9765),pa=M(7971);class Ir extends xo.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return i&&!i.closed&&e.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pa.N;return this._value}next(e){super.next(this._value=e)}}var sf=M(4869),af=M(9796),ur=M(7393);class Qw extends ur.L{notifyNext(e,i,a,c,d){this.destination.next(i)}notifyError(e,i){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class zy extends ur.L{constructor(e,i,a){super(),this.parent=e,this.outerValue=i,this.outerIndex=a,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Wy=M(7444),Si=M(7574);function Ky(t,e,i,a,c=new zy(t,i,a)){if(!c.closed)return e instanceof Si.y?e.subscribe(c):(0,Wy.s)(e)(c)}var Zw=M(6693);const Qy={};class Xu{constructor(e){this.resultSelector=e}call(e,i){return i.subscribe(new Yw(e,this.resultSelector))}}class Yw extends Qw{constructor(e,i){super(e),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Qy),this.observables.push(e)}_complete(){const e=this.observables,i=e.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let a=0;a<i;a++)this.add(Ky(this,e[a],void 0,a))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,i,a){const c=this.values,p=this.toRespond?c[a]===Qy?--this.toRespond:this.toRespond:0;c[a]=i,0===p&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(e){let i;try{i=this.resultSelector.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(i)}}const ec=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ro=M(3282);function tc(...t){return(0,ro.J)(1)((0,Qe.of)(...t))}var Ai=M(9193);function cs(t){return new Si.y(e=>{let i;try{i=t()}catch(c){return void e.error(c)}return(i?(0,on.D)(i):(0,Ai.c)()).subscribe(e)})}var ga=M(2441),it=M(8002),Ri=M(5345);function Dn(t,e){return"function"==typeof e?i=>i.pipe(Dn((a,c)=>(0,on.D)(t(a,c)).pipe((0,it.U)((d,p)=>e(a,d,c,p))))):i=>i.lift(new ls(t))}class ls{constructor(e){this.project=e}call(e,i){return i.subscribe(new cT(e,this.project))}}class cT extends Ri.Ds{constructor(e,i){super(e),this.project=i,this.index=0}_next(e){let i;const a=this.index++;try{i=this.project(e,a)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(e){const i=this.innerSubscription;i&&i.unsubscribe();const a=new Ri.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,Ri.ft)(e,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Zy=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Yy(t){return e=>0===t?(0,Ai.c)():e.lift(new eE(t))}class eE{constructor(e){if(this.total=e,this.total<0)throw new Zy}call(e,i){return i.subscribe(new Yt(e,this.total))}}class Yt extends ur.L{constructor(e,i){super(e),this.total=i,this.count=0}_next(e){const i=this.total,a=++this.count;a<=i&&(this.destination.next(e),a===i&&(this.destination.complete(),this.unsubscribe()))}}function cf(...t){const e=t[t.length-1];return(0,sf.K)(e)?(t.pop(),i=>tc(t,i,e)):i=>tc(t,i)}function ma(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new lT(t,e,i))}}class lT{constructor(e,i,a=!1){this.accumulator=e,this.seed=i,this.hasSeed=a}call(e,i){return i.subscribe(new fT(e,this.accumulator,this.seed,this.hasSeed))}}class fT extends ur.L{constructor(e,i,a,c){super(e),this.accumulator=i,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const i=this.index++;let a;try{a=this.accumulator(this.seed,e,i)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function Mo(t,e){return function(a){return a.lift(new dT(t,e))}}class dT{constructor(e,i){this.predicate=e,this.thisArg=i}call(e,i){return i.subscribe(new hT(e,this.predicate,this.thisArg))}}class hT extends ur.L{constructor(e,i,a){super(e),this.predicate=i,this.thisArg=a,this.count=0}_next(e){let i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(a){return void this.destination.error(a)}i&&this.destination.next(e)}}function ya(t){return function(i){const a=new pT(t),c=i.lift(a);return a.caught=c}}class pT{constructor(e){this.selector=e}call(e,i){return i.subscribe(new gT(e,this.selector,this.caught))}}class gT extends Ri.Ds{constructor(e,i,a){super(e),this.selector=i,this.caught=a}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const a=new Ri.IY(this);this.add(a);const c=(0,Ri.ft)(i,a);c!==a&&this.add(c)}}}var cr=M(9773);function io(t,e){return(0,cr.zg)(t,e,1)}function Jy(t){return function(i){return 0===t?(0,Ai.c)():i.lift(new yn(t))}}class yn{constructor(e){if(this.total=e,this.total<0)throw new Zy}call(e,i){return i.subscribe(new lf(e,this.total))}}class lf extends ur.L{constructor(e,i){super(e),this.total=i,this.ring=new Array,this.count=0}_next(e){const i=this.ring,a=this.total,c=this.count++;i.length<a?i.push(e):i[c%a]=e}_complete(){const e=this.destination;let i=this.count;if(i>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let d=0;d<a;d++){const p=i++%a;e.next(c[p])}}e.complete()}}function nc(t=Lr){return e=>e.lift(new mT(t))}class mT{constructor(e){this.errorFactory=e}call(e,i){return i.subscribe(new tE(e,this.errorFactory))}}class tE extends ur.L{constructor(e,i){super(e),this.errorFactory=i,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(i){e=i}this.destination.error(e)}}}function Lr(){return new ec}function si(t=null){return e=>e.lift(new ff(t))}class ff{constructor(e){this.defaultValue=e}call(e,i){return i.subscribe(new fs(e,this.defaultValue))}}class fs extends ur.L{constructor(e,i){super(e),this.defaultValue=i,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var oo=M(4487);function ds(t,e){const i=arguments.length>=2;return a=>a.pipe(t?Mo((c,d)=>t(c,d,a)):oo.y,Yy(1),i?si(e):nc(()=>new ec))}var Tr=M(3342),yT=M(1307),nE=M(5319);class Sr{constructor(e){this.callback=e}call(e,i){return i.subscribe(new op(e,this.callback))}}class op extends ur.L{constructor(e,i){super(e),this.add(new nE.w(i))}}class lr{constructor(e,i){this.id=e,this.url=i}}class tv extends lr{constructor(e,i,a="imperative",c=null){super(e,i),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class va extends lr{constructor(e,i,a){super(e,i),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nv extends lr{constructor(e,i,a){super(e,i),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rE extends lr{constructor(e,i,a){super(e,i),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iE extends lr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oE extends lr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sE extends lr{constructor(e,i,a,c,d){super(e,i),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rc extends lr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sp extends lr{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ap{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _a{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rv{constructor(e,i,a){this.routerEvent=e,this.position=i,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ct="primary";class up{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function sc(t){return new up(t)}const df="ngNavigationCancelingError";function hs(t){const e=Error("NavigationCancelingError: "+t);return e[df]=!0,e}function cE(t,e,i){const a=i.path.split("/");if(a.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||a.length<t.length))return null;const c={};for(let d=0;d<a.length;d++){const p=a[d],m=t[d];if(p.startsWith(":"))c[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:t.slice(0,a.length),posParams:c}}function ai(t,e){const i=t?Object.keys(t):void 0,a=e?Object.keys(e):void 0;if(!i||!a||i.length!=a.length)return!1;let c;for(let d=0;d<i.length;d++)if(c=i[d],!lE(t[c],e[c]))return!1;return!0}function lE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),a=[...e].sort();return i.every((c,d)=>a[d]===c)}return t===e}function No(t){return Array.prototype.concat.apply([],t)}function wa(t){return t.length>0?t[t.length-1]:null}function Cn(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function ui(t){return(0,_.CqO)(t)?t:(0,_.QGY)(t)?(0,on.D)(Promise.resolve(t)):(0,Qe.of)(t)}const Ea={exact:function iv(t,e,i){if(!gs(t.segments,e.segments)||!cc(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const a in e.children)if(!t.children[a]||!iv(t.children[a],e.children[a],i))return!1;return!0},subset:hf},xi={exact:function(t,e){return ai(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>lE(t[i],e[i]))},ignored:()=>!0};function ac(t,e,i){return Ea[i.paths](t.root,e.root,i.matrixParams)&&xi[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function hf(t,e,i){return uc(t,e,e.segments,i)}function uc(t,e,i,a){if(t.segments.length>i.length){const c=t.segments.slice(0,i.length);return!(!gs(c,i)||e.hasChildren()||!cc(c,i,a))}if(t.segments.length===i.length){if(!gs(t.segments,i)||!cc(t.segments,i,a))return!1;for(const c in e.children)if(!t.children[c]||!hf(t.children[c],e.children[c],a))return!1;return!0}{const c=i.slice(0,t.segments.length),d=i.slice(t.segments.length);return!!(gs(t.segments,c)&&cc(t.segments,c,a)&&t.children[ct])&&uc(t.children[ct],e,d,a)}}function cc(t,e,i){return e.every((a,c)=>xi[i](t[c].parameters,a.parameters))}class ps{constructor(e,i,a){this.root=e,this.queryParams=i,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sc(this.queryParams)),this._queryParamMap}toString(){return wT.serialize(this)}}class ft{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Cn(i,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}}class Mi{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=sc(this.parameters)),this._parameterMap}toString(){return fE(this)}}function gs(t,e){return t.length===e.length&&t.every((i,a)=>i.path===e[a].path)}class pf{}class sv{parse(e){const i=new pE(e);return new ps(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){var t;return`${`/${fc(e.root,!0)}`}${function(t){const e=Object.keys(t).map(i=>{const a=t[i];return Array.isArray(a)?a.map(c=>`${ms(i)}=${ms(c)}`).join("&"):`${ms(i)}=${ms(a)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const wT=new sv;function gf(t){return t.segments.map(e=>fE(e)).join("/")}function fc(t,e){if(!t.hasChildren())return gf(t);if(e){const i=t.children[ct]?fc(t.children[ct],!1):"",a=[];return Cn(t.children,(c,d)=>{d!==ct&&a.push(`${d}:${fc(c,!1)}`)}),a.length>0?`${i}(${a.join("//")})`:i}{const i=function(t,e){let i=[];return Cn(t.children,(a,c)=>{c===ct&&(i=i.concat(e(a,c)))}),Cn(t.children,(a,c)=>{c!==ct&&(i=i.concat(e(a,c)))}),i}(t,(a,c)=>c===ct?[fc(t.children[ct],!1)]:[`${c}:${fc(a,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ct]?`${gf(t)}/${i[0]}`:`${gf(t)}/(${i.join("//")})`}}function av(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ms(t){return av(t).replace(/%3B/gi,";")}function Po(t){return av(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mf(t){return decodeURIComponent(t)}function uv(t){return mf(t.replace(/\+/g,"%20"))}function fE(t){return`${Po(t.path)}${function(t){return Object.keys(t).map(e=>`;${Po(e)}=${Po(t[e])}`).join("")}(t.parameters)}`}const cv=/^[^\/()?;=#]+/;function dc(t){const e=t.match(cv);return e?e[0]:""}const lv=/^[^=?&#]+/,dE=/^[^?&#]+/;class pE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(a[ct]=new ft(e,i)),a}parseSegment(){const e=dc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mi(mf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=dc(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const c=dc(this.remaining);c&&(a=c,this.capture(a))}e[mf(i)]=mf(a)}parseQueryParam(e){const i=function(t){const e=t.match(lv);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const p=function(t){const e=t.match(dE);return e?e[0]:""}(this.remaining);p&&(a=p,this.capture(a))}const c=uv(i),d=uv(a);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(d)}else e[c]=d}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=dc(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let d;a.indexOf(":")>-1?(d=a.substr(0,a.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=ct);const p=this.parseChildren();i[d]=1===Object.keys(p).length?p[ct]:new ft([],p),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class fv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=fp(e,this._root);return i?i.children.map(a=>a.value):[]}firstChild(e){const i=fp(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=ci(e,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return ci(e,this._root).map(i=>i.value)}}function fp(t,e){if(t===e.value)return e;for(const i of e.children){const a=fp(t,i);if(a)return a}return null}function ci(t,e){if(t===e.value)return[e];for(const i of e.children){const a=ci(t,i);if(a.length)return a.unshift(e),a}return[]}class fr{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function Da(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class dv extends fv{constructor(e,i){super(e),this.snapshot=i,dp(this,e)}toString(){return this.snapshot.toString()}}function hv(t,e){const i=function(t,e){const p=new vf([],{},{},"",{},ct,e,null,t.root,-1,{});return new mv("",new fr(p,[]))}(t,e),a=new Ir([new Mi("",{})]),c=new Ir({}),d=new Ir({}),p=new Ir({}),m=new Ir(""),b=new Ca(a,c,p,m,d,ct,e,i.root);return b.snapshot=i.root,new dv(new fr(b,[]),i)}class Ca{constructor(e,i,a,c,d,p,m,b){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=d,this.outlet=p,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>sc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>sc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pv(t,e="emptyOnly"){const i=t.pathFromRoot;let a=0;if("always"!==e)for(a=i.length-1;a>=1;){const c=i[a],d=i[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(d.component)break;a--}}return function(t){return t.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(a))}class vf{constructor(e,i,a,c,d,p,m,b,E,C,I){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=d,this.outlet=p,this.component=m,this.routeConfig=b,this._urlSegment=E,this._lastPathIndex=C,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mv extends fv{constructor(e,i){super(i),this.url=e,dp(this,i)}toString(){return yv(this._root)}}function dp(t,e){e.value._routerState=t,e.children.forEach(i=>dp(t,i))}function yv(t){const e=t.children.length>0?` { ${t.children.map(yv).join(", ")} } `:"";return`${t.value}${e}`}function vv(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,ai(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),ai(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!ai(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),ai(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hp(t,e){return ai(t.params,e.params)&&function(t,e){return gs(t,e)&&t.every((i,a)=>ai(i.parameters,e[a].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hp(t.parent,e.parent))}function pc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const a=i.value;a._futureSnapshot=e.value;const c=function(t,e,i){return e.children.map(a=>{for(const c of i.children)if(t.shouldReuseRoute(a.value,c.value.snapshot))return pc(t,a,c);return pc(t,a)})}(t,e,i);return new fr(a,c)}{if(t.shouldAttach(e.value)){const d=t.retrieve(e.value);if(null!==d){const p=d.route;return li(e,p),p}}const a=function(t){return new Ca(new Ir(t.url),new Ir(t.params),new Ir(t.queryParams),new Ir(t.fragment),new Ir(t.data),t.outlet,t.component,t)}(e.value),c=e.children.map(d=>pc(t,d));return new fr(a,c)}}function li(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)li(t.children[i],e.children[i])}function mc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _f(t){return"object"==typeof t&&null!=t&&t.outlets}function wv(t,e,i,a,c){let d={};return a&&Cn(a,(p,m)=>{d[m]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),new ps(i.root===t?e:mE(i.root,t,e),d,c)}function mE(t,e,i){const a={};return Cn(t.children,(c,d)=>{a[d]=c===e?i:mE(c,e,i)}),new ft(t.segments,a)}class bf{constructor(e,i,a){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=a,e&&a.length>0&&mc(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(_f);if(c&&c!==wa(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yc{constructor(e,i,a){this.segmentGroup=e,this.processChildren=i,this.index=a}}function Dv(t,e,i){if(t||(t=new ft([],{})),0===t.segments.length&&t.hasChildren())return wf(t,e,i);const a=function(t,e,i){let a=0,c=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;c<t.segments.length;){if(a>=i.length)return d;const p=t.segments[c],m=i[a];if(_f(m))break;const b=`${m}`,E=a<i.length-1?i[a+1]:null;if(c>0&&void 0===b)break;if(b&&E&&"object"==typeof E&&void 0===E.outlets){if(!mp(b,E,p))return d;a+=2}else{if(!mp(b,{},p))return d;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(t,e,i),c=i.slice(a.commandIndex);if(a.match&&a.pathIndex<t.segments.length){const d=new ft(t.segments.slice(0,a.pathIndex),{});return d.children[ct]=new ft(t.segments.slice(a.pathIndex),t.children),wf(d,0,c)}return a.match&&0===c.length?new ft(t.segments,{}):a.match&&!t.hasChildren()?gp(t,e,i):a.match?wf(t,0,c):gp(t,e,i)}function wf(t,e,i){if(0===i.length)return new ft(t.segments,{});{const a=function(t){return _f(t[0])?t[0].outlets:{[ct]:t}}(i),c={};return Cn(a,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(c[p]=Dv(t.children[p],e,d))}),Cn(t.children,(d,p)=>{void 0===a[p]&&(c[p]=d)}),new ft(t.segments,c)}}function gp(t,e,i){const a=t.segments.slice(0,e);let c=0;for(;c<i.length;){const d=i[c];if(_f(d)){const b=Cv(d.outlets);return new ft(a,b)}if(0===c&&mc(i[0])){a.push(new Mi(t.segments[e].path,vc(i[0]))),c++;continue}const p=_f(d)?d.outlets[ct]:`${d}`,m=c<i.length-1?i[c+1]:null;p&&m&&mc(m)?(a.push(new Mi(p,vc(m))),c+=2):(a.push(new Mi(p,{})),c++)}return new ft(a,{})}function Cv(t){const e={};return Cn(t,(i,a)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[a]=gp(new ft([],{}),0,i))}),e}function vc(t){const e={};return Cn(t,(i,a)=>e[a]=`${i}`),e}function mp(t,e,i){return t==i.path&&ai(e,i.parameters)}class vE{constructor(e,i,a,c){this.routeReuseStrategy=e,this.futureState=i,this.currState=a,this.forwardEvent=c}activate(e){const i=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,a,e),vv(this.futureState.root),this.activateChildRoutes(i,a,e)}deactivateChildRoutes(e,i,a){const c=Da(i);e.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,c[p],a),delete c[p]}),Cn(c,(d,p)=>{this.deactivateRouteAndItsChildren(d,a)})}deactivateRoutes(e,i,a){const c=e.value,d=i?i.value:null;if(c===d)if(c.component){const p=a.getContext(c.outlet);p&&this.deactivateChildRoutes(e,i,p.children)}else this.deactivateChildRoutes(e,i,a);else d&&this.deactivateRouteAndItsChildren(i,a)}deactivateRouteAndItsChildren(e,i){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const a=i.getContext(e.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),d=a.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,i){const a=i.getContext(e.value.outlet),c=a&&e.value.component?a.children:i,d=Da(e);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(e,i,a){const c=Da(i);e.children.forEach(d=>{this.activateRoutes(d,c[d.value.outlet],a),this.forwardEvent(new uE(d.value.snapshot))}),e.children.length&&this.forwardEvent(new ap(e.value.snapshot))}activateRoutes(e,i,a){const c=e.value,d=i?i.value:null;if(vv(c),c===d)if(c.component){const p=a.getOrCreateContext(c.outlet);this.activateChildRoutes(e,i,p.children)}else this.activateChildRoutes(e,i,a);else if(c.component){const p=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const m=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),$t(m.route)}else{const m=function(t){for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),b=m?m.module.componentFactoryResolver:null;p.attachRef=null,p.route=c,p.resolver=b,p.outlet&&p.outlet.activateWith(c,b),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,a)}}function $t(t){vv(t.value),t.children.forEach($t)}class vp{constructor(e,i){this.routes=e,this.module=i}}function Ni(t){return"function"==typeof t}function vs(t){return t instanceof ps}const Ef=Symbol("INITIAL_VALUE");function Df(){return Dn(t=>function(...t){let e,i;return(0,sf.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,af.k)(t[0])&&(t=t[0]),(0,Zw.n)(t,i).lift(new Xu(e))}(t.map(e=>e.pipe(Yy(1),cf(Ef)))).pipe(ma((e,i)=>{let a=!1;return i.reduce((c,d,p)=>c!==Ef?c:(d===Ef&&(a=!0),a||!1!==d&&p!==i.length-1&&!vs(d)?c:d),e)},Ef),Mo(e=>e!==Ef),(0,it.U)(e=>vs(e)?e:!0===e),Yy(1)))}let Ia=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,a){1&i&&_._UZ(0,"router-outlet")},directives:function(){return[Lf]},encapsulation:2}),t})();function Un(t,e=""){for(let i=0;i<t.length;i++){const a=t[i];_p(a,Tv(e,a))}}function _p(t,e){t.children&&Un(t.children,e)}function Tv(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Cf(t){const e=t.children&&t.children.map(Cf),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ct&&(i.component=Ia),i}function Mt(t){return t.outlet||ct}function Ta(t,e){const i=t.filter(a=>Mt(a)===e);return i.push(...t.filter(a=>Mt(a)!==e)),i}const If={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tf(t,e,i){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},If):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||cE)(i,t,e);if(!d)return Object.assign({},If);const p={};Cn(d.posParams,(b,E)=>{p[E]=b.path});const m=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:m,positionalParamSegments:null!==(a=d.posParams)&&void 0!==a?a:{}}}function Sf(t,e,i,a,c="corrected"){if(i.length>0&&function(t,e,i){return i.some(a=>_c(t,e,a)&&Mt(a)!==ct)}(t,i,a)){const p=new ft(e,function(t,e,i,a){const c={};c[ct]=a,a._sourceSegment=t,a._segmentIndexShift=e.length;for(const d of i)if(""===d.path&&Mt(d)!==ct){const p=new ft([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,c[Mt(d)]=p}return c}(t,e,a,new ft(i,t.children)));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(a=>_c(t,e,a))}(t,i,a)){const p=new ft(t.segments,function(t,e,i,a,c,d){const p={};for(const m of a)if(_c(t,i,m)&&!c[Mt(m)]){const b=new ft([],{});b._sourceSegment=t,b._segmentIndexShift="legacy"===d?t.segments.length:e.length,p[Mt(m)]=b}return Object.assign(Object.assign({},c),p)}(t,e,i,a,t.children,c));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:i}}const d=new ft(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:i}}function _c(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function Rv(t,e,i,a){return!!(Mt(t)===a||a!==ct&&_c(e,i,t))&&("**"===t.path||Tf(e,t,i).matched)}function xv(t,e,i){return 0===e.length&&!t.children[i]}class bc{constructor(e){this.segmentGroup=e||null}}class bp{constructor(e){this.urlTree=e}}function Sa(t){return new Si.y(e=>e.error(new bc(t)))}function wp(t){return new Si.y(e=>e.error(new bp(t)))}function TE(t){return new Si.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Af{constructor(e,i,a,c,d){this.configLoader=i,this.urlSerializer=a,this.urlTree=c,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(_.h0i)}apply(){const e=Sf(this.urlTree.root,[],[],this.config).segmentGroup,i=new ft(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ct).pipe((0,it.U)(d=>this.createUrlTree(Ep(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ya(d=>{if(d instanceof bp)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof bc?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ct).pipe((0,it.U)(c=>this.createUrlTree(Ep(c),e.queryParams,e.fragment))).pipe(ya(c=>{throw c instanceof bc?this.noMatchError(c):c}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,a){const c=e.segments.length>0?new ft([],{[ct]:e}):e;return new ps(c,i,a)}expandSegmentGroup(e,i,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(e,i,a).pipe((0,it.U)(d=>new ft([],d))):this.expandSegment(e,a,i,a.segments,c,!0)}expandChildren(e,i,a){const c=[];for(const d of Object.keys(a.children))"primary"===d?c.unshift(d):c.push(d);return(0,on.D)(c).pipe(io(d=>{const p=a.children[d],m=Ta(i,d);return this.expandSegmentGroup(e,m,p,d).pipe((0,it.U)(b=>({segment:b,outlet:d})))}),ma((d,p)=>(d[p.outlet]=p.segment,d),{}),function(t,e){const i=arguments.length>=2;return a=>a.pipe(t?Mo((c,d)=>t(c,d,a)):oo.y,Jy(1),i?si(e):nc(()=>new ec))}())}expandSegment(e,i,a,c,d,p){return(0,on.D)(a).pipe(io(m=>this.expandSegmentAgainstRoute(e,i,a,m,c,d,p).pipe(ya(E=>{if(E instanceof bc)return(0,Qe.of)(null);throw E}))),ds(m=>!!m),ya((m,b)=>{if(m instanceof ec||"EmptyError"===m.name){if(xv(i,c,d))return(0,Qe.of)(new ft([],{}));throw new bc(i)}throw m}))}expandSegmentAgainstRoute(e,i,a,c,d,p,m){return Rv(c,i,d,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,i,c,d,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,a,c,d,p):Sa(i):Sa(i)}expandSegmentAgainstRouteUsingRedirect(e,i,a,c,d,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,a,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,c){const d=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?wp(d):this.lineralizeSegments(a,d).pipe((0,cr.zg)(p=>{const m=new ft(p,{});return this.expandSegment(e,m,i,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,d,p){const{matched:m,consumedSegments:b,lastChild:E,positionalParamSegments:C}=Tf(i,c,d);if(!m)return Sa(i);const I=this.applyRedirectCommands(b,c.redirectTo,C);return c.redirectTo.startsWith("/")?wp(I):this.lineralizeSegments(c,I).pipe((0,cr.zg)(R=>this.expandSegment(e,i,a,R.concat(d.slice(E)),p,!1)))}matchSegmentAgainstRoute(e,i,a,c,d){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,Qe.of)(a._loadedConfig):this.configLoader.load(e.injector,a)).pipe((0,it.U)(R=>(a._loadedConfig=R,new ft(c,{})))):(0,Qe.of)(new ft(c,{}));const{matched:p,consumedSegments:m,lastChild:b}=Tf(i,a,c);if(!p)return Sa(i);const E=c.slice(b);return this.getChildConfig(e,a,c).pipe((0,cr.zg)(I=>{const R=I.module,O=I.routes,{segmentGroup:j,slicedSegments:W}=Sf(i,m,E,O),le=new ft(j.segments,j.children);if(0===W.length&&le.hasChildren())return this.expandChildren(R,O,le).pipe((0,it.U)(We=>new ft(m,We)));if(0===O.length&&0===W.length)return(0,Qe.of)(new ft(m,{}));const me=Mt(a)===d;return this.expandSegment(R,le,O,W,me?ct:d,!0).pipe((0,it.U)(Te=>new ft(m.concat(Te.segments),Te.children)))}))}getChildConfig(e,i,a){return i.children?(0,Qe.of)(new vp(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?(0,Qe.of)(i._loadedConfig):this.runCanLoadGuards(e.injector,i,a).pipe((0,cr.zg)(c=>{return c?this.configLoader.load(e.injector,i).pipe((0,it.U)(d=>(i._loadedConfig=d,d))):(t=i,new Si.y(e=>e.error(hs(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,Qe.of)(new vp([],e))}runCanLoadGuards(e,i,a){const c=i.canLoad;if(!c||0===c.length)return(0,Qe.of)(!0);const d=c.map(p=>{const m=e.get(p);let b;if((t=m)&&Ni(t.canLoad))b=m.canLoad(i,a);else{if(!Ni(m))throw new Error("Invalid CanLoad guard");b=m(i,a)}var t;return ui(b)});return(0,Qe.of)(d).pipe(Df(),(0,Tr.b)(p=>{if(!vs(p))return;const m=hs(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw m.url=p,m}),(0,it.U)(p=>!0===p))}lineralizeSegments(e,i){let a=[],c=i.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,Qe.of)(a);if(c.numberOfChildren>1||!c.children[ct])return TE(e.redirectTo);c=c.children[ct]}}applyRedirectCommands(e,i,a){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,a)}applyRedirectCreatreUrlTree(e,i,a,c){const d=this.createSegmentGroup(e,i.root,a,c);return new ps(d,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const a={};return Cn(e,(c,d)=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);a[d]=i[m]}else a[d]=c}),a}createSegmentGroup(e,i,a,c){const d=this.createSegments(e,i.segments,a,c);let p={};return Cn(i.children,(m,b)=>{p[b]=this.createSegmentGroup(e,m,a,c)}),new ft(d,p)}createSegments(e,i,a,c){return i.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,c):this.findOrReturn(d,a))}findPosParam(e,i,a){const c=a[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return c}findOrReturn(e,i){let a=0;for(const c of i){if(c.path===e.path)return i.splice(a),c;a++}return e}}function Ep(t){const e={};for(const a of Object.keys(t.children)){const d=Ep(t.children[a]);(d.segments.length>0||d.hasChildren())&&(e[a]=d)}return function(t){if(1===t.numberOfChildren&&t.children[ct]){const e=t.children[ct];return new ft(t.segments.concat(e.segments),e.children)}return t}(new ft(t.segments,e))}class Nv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rf{constructor(e,i){this.component=e,this.route=i}}function AE(t,e,i){const a=t._root;return jn(a,e?e._root:null,i,[a.value])}function xf(t,e,i){const a=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(a?a.module.injector:i).get(t)}function jn(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=Da(e);return t.children.forEach(p=>{(function(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,p=e?e.value:null,m=i?i.getContext(t.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const b=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(t.url,e.url)||!ai(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hp(t,e)||!ai(t.queryParams,e.queryParams);case"paramsChange":default:return!hp(t,e)}}(p,d,d.routeConfig.runGuardsAndResolvers);b?c.canActivateChecks.push(new Nv(a)):(d.data=p.data,d._resolvedData=p._resolvedData),jn(t,e,d.component?m?m.children:null:i,a,c),b&&m&&m.outlet&&m.outlet.isActivated&&c.canDeactivateChecks.push(new Rf(m.outlet.component,p))}else p&&wc(e,m,c),c.canActivateChecks.push(new Nv(a)),jn(t,null,d.component?m?m.children:null:i,a,c)})(p,d[p.value.outlet],i,a.concat([p.value]),c),delete d[p.value.outlet]}),Cn(d,(p,m)=>wc(p,i.getContext(m),c)),c}function wc(t,e,i){const a=Da(t),c=t.value;Cn(a,(d,p)=>{wc(d,c.component?e?e.children.getContext(p):null:e,i)}),i.canDeactivateChecks.push(new Rf(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class TT{}function PE(t){return new Si.y(e=>e.error(t))}class ST{constructor(e,i,a,c,d,p){this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const e=Sf(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,ct);if(null===i)return null;const a=new vf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new fr(a,i),d=new mv(this.url,c);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const i=e.value,a=pv(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,a)}processChildren(e,i){const a=[];for(const d of Object.keys(i.children)){const p=i.children[d],m=Ta(e,d),b=this.processSegmentGroup(m,p,d);if(null===b)return null;a.push(...b)}const c=Lv(a);return c.sort((e,i)=>e.value.outlet===ct?-1:i.value.outlet===ct?1:e.value.outlet.localeCompare(i.value.outlet)),c}processSegment(e,i,a,c){for(const d of e){const p=this.processSegmentAgainstRoute(d,i,a,c);if(null!==p)return p}return xv(i,a,c)?[]:null}processSegmentAgainstRoute(e,i,a,c){if(e.redirectTo||!Rv(e,i,a,c))return null;let d,p=[],m=[];if("**"===e.path){const O=a.length>0?wa(a).parameters:{};d=new vf(a,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tp(e),Mt(e),e.component,e,xa(i),Ip(i)+a.length,Nf(e))}else{const O=Tf(i,e,a);if(!O.matched)return null;p=O.consumedSegments,m=a.slice(O.lastChild),d=new vf(p,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tp(e),Mt(e),e.component,e,xa(i),Ip(i)+p.length,Nf(e))}const b=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:C}=Sf(i,p,m,b.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var t;if(0===C.length&&E.hasChildren()){const O=this.processChildren(b,E);return null===O?null:[new fr(d,O)]}if(0===b.length&&0===C.length)return[new fr(d,[])];const I=Mt(e)===c,R=this.processSegment(b,E,C,I?ct:c);return null===R?null:[new fr(d,R)]}}function Cp(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lv(t){const e=[],i=new Set;for(const a of t){if(!Cp(a)){e.push(a);continue}const c=e.find(d=>a.value.routeConfig===d.value.routeConfig);void 0!==c?(c.children.push(...a.children),i.add(c)):e.push(a)}for(const a of i){const c=Lv(a.children);e.push(new fr(a.value,c))}return e.filter(a=>!i.has(a))}function xa(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ip(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function Tp(t){return t.data||{}}function Nf(t){return t.resolve||{}}function Of(t){return Dn(e=>{const i=t(e);return i?(0,on.D)(i).pipe((0,it.U)(()=>e)):(0,Qe.of)(e)})}class LE extends class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const xp=new _.OlP("ROUTES");class Uv{constructor(e,i,a,c){this.loader=e,this.compiler=i,this.onLoadStartListener=a,this.onLoadEndListener=c}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,it.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);const p=d.create(e);return new vp(No(p.injector.get(xp,void 0,_.XFs.Self|_.XFs.Optional)).map(Cf),p)}),ya(d=>{throw i._loader$=void 0,d}));return i._loader$=new ga.c(c,()=>new xo.xQ).pipe((0,yT.x)()),i._loader$}loadModuleFactory(e){return"string"==typeof e?(0,on.D)(this.loader.load(e)):ui(e()).pipe((0,cr.zg)(i=>i instanceof _.YKP?(0,Qe.of)(i):(0,on.D)(this.compiler.compileModuleAsync(i))))}}class VE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Na,this.attachRef=null}}class Na{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new VE,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}class jv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function Mp(t){throw t}function Bv(t,e,i){return e.parse("/")}function Pf(t,e){return(0,Qe.of)(null)}const jE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class t{constructor(i,a,c,d,p,m,b,E){this.rootComponentType=i,this.urlSerializer=a,this.rootContexts=c,this.location=d,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xo.xQ,this.errorHandler=Mp,this.malformedUriErrorHandler=Bv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pf,afterPreactivation:Pf},this.urlHandlingStrategy=new jv,this.routeReuseStrategy=new LE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(_.h0i),this.console=p.get(_.c2e);const R=p.get(_.R0b);this.isNgZoneEnabled=R instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new ps(new ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Uv(m,b,O=>this.triggerEvent(new ic(O)),O=>this.triggerEvent(new aE(O))),this.routerState=hv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const a=this.events;return i.pipe(Mo(c=>0!==c.id),(0,it.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Dn(c=>{let d=!1,p=!1;return(0,Qe.of)(c).pipe((0,Tr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(m=>{const b=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),E=("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(Fi(m.source)&&(this.browserUrlTree=m.rawUrl),E)return(0,Qe.of)(m).pipe(Dn(C=>{const I=this.transitions.getValue();return a.next(new tv(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),I!==this.transitions.getValue()?Ai.E:Promise.resolve(C)}),function(t,e,i,a){return Dn(c=>function(t,e,i,a,c){return new Af(t,e,i,a,c).apply()}(t,e,i,c.extractedUrl,a).pipe((0,it.U)(d=>Object.assign(Object.assign({},c),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tr.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(t,e,i,a,c){return(0,cr.zg)(d=>function(t,e,i,a,c="emptyOnly",d="legacy"){try{const p=new ST(t,e,i,a,c,d).recognize();return null===p?PE(new TT):(0,Qe.of)(p)}catch(p){return PE(p)}}(t,e,d.urlAfterRedirects,i(d.urlAfterRedirects),a,c).pipe((0,it.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tr.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const I=new iE(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);a.next(I)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:R,source:O,restoredState:j,extras:W}=m,le=new tv(I,this.serializeUrl(R),O,j);a.next(le);const me=hv(R,this.rootComponentType).snapshot;return(0,Qe.of)(Object.assign(Object.assign({},m),{targetSnapshot:me,urlAfterRedirects:R,extras:Object.assign(Object.assign({},W),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Ai.E}),Of(m=>{const{targetSnapshot:b,id:E,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:O}}=m;return this.hooks.beforePreactivation(b,{navigationId:E,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!O})}),(0,Tr.b)(m=>{const b=new oE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,it.U)(m=>Object.assign(Object.assign({},m),{guards:AE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(t,e){return(0,cr.zg)(i=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:d,canDeactivateChecks:p}}=i;return 0===p.length&&0===d.length?(0,Qe.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,a){return(0,on.D)(t).pipe((0,cr.zg)(c=>function(t,e,i,a,c){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Qe.of)(!0);const p=d.map(m=>{const b=xf(m,e,c);let E;if(function(t){return t&&Ni(t.canDeactivate)}(b))E=ui(b.canDeactivate(t,e,i,a));else{if(!Ni(b))throw new Error("Invalid CanDeactivate guard");E=ui(b(t,e,i,a))}return E.pipe(ds())});return(0,Qe.of)(p).pipe(Df())}(c.component,c.route,i,e,a)),ds(c=>!0!==c,!0))}(p,a,c,t).pipe((0,cr.zg)(m=>m&&function(t){return"boolean"==typeof t}(m)?function(t,e,i,a){return(0,on.D)(e).pipe(io(c=>tc(function(t,e){return null!==t&&e&&e(new oc(t)),(0,Qe.of)(!0)}(c.route.parent,a),function(t,e){return null!==t&&e&&e(new _a(t)),(0,Qe.of)(!0)}(c.route,a),function(t,e,i){const a=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(p=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(p)).filter(p=>null!==p).map(p=>cs(()=>{const m=p.guards.map(b=>{const E=xf(b,p.node,i);let C;if(function(t){return t&&Ni(t.canActivateChild)}(E))C=ui(E.canActivateChild(a,t));else{if(!Ni(E))throw new Error("Invalid CanActivateChild guard");C=ui(E(a,t))}return C.pipe(ds())});return(0,Qe.of)(m).pipe(Df())}));return(0,Qe.of)(d).pipe(Df())}(t,c.path,i),function(t,e,i){const a=e.routeConfig?e.routeConfig.canActivate:null;if(!a||0===a.length)return(0,Qe.of)(!0);const c=a.map(d=>cs(()=>{const p=xf(d,e,i);let m;if(function(t){return t&&Ni(t.canActivate)}(p))m=ui(p.canActivate(e,t));else{if(!Ni(p))throw new Error("Invalid CanActivate guard");m=ui(p(e,t))}return m.pipe(ds())}));return(0,Qe.of)(c).pipe(Df())}(t,c.route,i))),ds(c=>!0!==c,!0))}(a,d,t,e):(0,Qe.of)(m)),(0,it.U)(m=>Object.assign(Object.assign({},i),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Tr.b)(m=>{if(vs(m.guardsResult)){const E=hs(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const b=new sE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Mo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Of(m=>{if(m.guards.canActivateChecks.length)return(0,Qe.of)(m).pipe((0,Tr.b)(b=>{const E=new rc(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}),Dn(b=>{let E=!1;return(0,Qe.of)(b).pipe(function(t,e){return(0,cr.zg)(i=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,Qe.of)(i);let d=0;return(0,on.D)(c).pipe(io(p=>function(t,e,i,a){return function(t,e,i,a){const c=Object.keys(t);if(0===c.length)return(0,Qe.of)({});const d={};return(0,on.D)(c).pipe((0,cr.zg)(p=>function(t,e,i,a){const c=xf(t,e,a);return ui(c.resolve?c.resolve(e,i):c(e,i))}(t[p],e,i,a).pipe((0,Tr.b)(m=>{d[p]=m}))),Jy(1),(0,cr.zg)(()=>Object.keys(d).length===c.length?(0,Qe.of)(d):Ai.E))}(t._resolve,t,e,a).pipe((0,it.U)(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),pv(t,i).resolve),null)))}(p.route,a,t,e)),(0,Tr.b)(()=>d++),Jy(1),(0,cr.zg)(p=>d===c.length?(0,Qe.of)(i):Ai.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Tr.b)(b=>{const E=new sp(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}))}),Of(m=>{const{targetSnapshot:b,id:E,extractedUrl:C,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:O}}=m;return this.hooks.afterPreactivation(b,{navigationId:E,appliedUrlTree:C,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!O})}),(0,it.U)(m=>{const b=function(t,e,i){const a=pc(t,e._root,i?i._root:void 0);return new dv(a,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Tr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,e,i)=>(0,it.U)(a=>(new vE(e,a.targetRouterState,a.currentRouterState,i).activate(t),a)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Tr.b)({next(){d=!0},complete(){d=!0}}),function(t){return e=>e.lift(new Sr(t))}(()=>{if(!d&&!p){const m=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,m)):this.cancelNavigationTransition(c,m)}this.currentNavigation=null}),ya(m=>{if(p=!0,function(t){return t&&t[df]}(m)){const b=vs(m.url);b||(this.navigated=!0,this.restoreHistory(c,!0));const E=new nv(c.id,this.serializeUrl(c.extractedUrl),m.message);a.next(E),b?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),I={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fi(c.source)};this.scheduleNavigation(C,"imperative",null,I,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const b=new rE(c.id,this.serializeUrl(c.extractedUrl),m);a.next(b);try{c.resolve(this.errorHandler(m))}catch(E){c.reject(E)}}return Ai.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const a=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:d,urlTree:p}=a,m={replaceUrl:!0};if(d){const b=Object.assign({},d);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(p,c,d,m)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(i){var a;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(a=i.state)||void 0===a?void 0:a.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,a){if(!i)return!0;const c=a.urlTree.toString()===i.urlTree.toString();return a.transitionId!==i.transitionId||!c||!("hashchange"===a.source&&"popstate"===i.source||"popstate"===a.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){Un(i),this.config=i.map(Cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,a={}){const{relativeTo:c,queryParams:d,fragment:p,queryParamsHandling:m,preserveFragment:b}=a,E=c||this.routerState.root,C=b?this.currentUrlTree.fragment:p;let I=null;switch(m){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=d||null}return null!==I&&(I=this.removeEmptyProps(I)),function(t,e,i,a,c){if(0===i.length)return wv(e.root,e.root,e,a,c);const d=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bf(!0,0,t);let e=0,i=!1;const a=t.reduce((c,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return Cn(d.outlets,(b,E)=>{m[E]="string"==typeof b?b.split("/"):b}),[...c,{outlets:m}]}if(d.segmentPath)return[...c,d.segmentPath]}return"string"!=typeof d?[...c,d]:0===p?(d.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?i=!0:".."===m?e++:""!=m&&c.push(m))}),c):[...c,d]},[]);return new bf(i,e,a)}(i);if(d.toRoot())return wv(e.root,new ft([],{}),e,a,c);const p=function(t,e,i){if(t.isAbsolute)return new yc(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const d=i.snapshot._urlSegment;return new yc(d,d===e.root,0)}const a=mc(t.commands[0])?0:1;return function(t,e,i){let a=t,c=e,d=i;for(;d>c;){if(d-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new yc(a,!1,c-d)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(d,e,t),m=p.processChildren?wf(p.segmentGroup,p.index,d.commands):Dv(p.segmentGroup,p.index,d.commands);return wv(p.segmentGroup,m,e,a,c)}(E,this.currentUrlTree,i,I,null!=C?C:null)}navigateByUrl(i,a={skipLocationChange:!1}){const c=vs(i)?i:this.parseUrl(i),d=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,a)}navigate(i,a={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let a;try{a=this.urlSerializer.parse(i)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return a}isActive(i,a){let c;if(c=!0===a?Object.assign({},jE):!1===a?Object.assign({},BE):a,vs(i))return ac(this.currentUrlTree,i,c);const d=this.parseUrl(i);return ac(this.currentUrlTree,d,c)}removeEmptyProps(i){return Object.keys(i).reduce((a,c)=>{const d=i[c];return null!=d&&(a[c]=d),a},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new va(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,a,c,d,p){var m,b;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),C=Fi(a)&&E&&!Fi(E.source),O=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===i.toString();if(C&&O)return Promise.resolve(!0);let j,W,le;p?(j=p.resolve,W=p.reject,le=p.promise):le=new Promise((Te,We)=>{j=Te,W=We});const me=++this.navigationId;let Ie;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ie=c&&c.\u0275routerPageId?c.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Ie=0,this.setTransition({id:me,targetPageId:Ie,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:d,resolve:j,reject:W,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(Te=>Promise.reject(Te))}setBrowserUrl(i,a){const c=this.urlSerializer.serialize(i),d=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",d):this.location.go(c,"",d)}restoreHistory(i,a=!1){var c,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,a){const c=new nv(i.id,this.serializeUrl(i.extractedUrl),a);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,a){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.DyG),_.LFG(pf),_.LFG(Na),_.LFG(Ne),_.LFG(_.zs3),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(void 0))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function Fi(t){return"imperative"!==t}let Ec=(()=>{class t{constructor(i,a,c,d,p){this.router=i,this.route=a,this.commands=[],this.onChanges=new xo.xQ,null==c&&d.setAttribute(p.nativeElement,"tabindex","0")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}onClick(){const i={skipLocationChange:Oa(this.skipLocationChange),replaceUrl:Oa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Oa(this.preserveFragment)})}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Jn),_.Y36(Ca),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},t.\u0275dir=_.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,a){1&i&&_.NdJ("click",function(){return a.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),t})();function Oa(t){return""===t||!!t}let Lf=(()=>{class t{constructor(i,a,c,d,p){this.parentContexts=i,this.location=a,this.resolver=c,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.name=d||ct,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const p=(a=a||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new $v(i,m,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(Na),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},t.\u0275dir=_.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class $v{constructor(e,i,a){this.route=e,this.childContexts=i,this.parent=a}get(e,i){return e===Ca?this.route:e===Na?this.childContexts:this.parent.get(e,i)}}class Np{}class Pp{preload(e,i){return(0,Qe.of)(null)}}let Dc=(()=>{class t{constructor(i,a,c,d,p){this.router=i,this.injector=d,this.preloadingStrategy=p,this.loader=new Uv(a,c,E=>i.triggerEvent(new ic(E)),E=>i.triggerEvent(new aE(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mo(i=>i instanceof va),io(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(_.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,a){const c=[];for(const d of a)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;c.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?c.push(this.preloadConfig(i,d)):d.children&&c.push(this.processRoutes(i,d.children));return(0,on.D)(c).pipe((0,ro.J)(),(0,it.U)(d=>{}))}preloadConfig(i,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,Qe.of)(a._loadedConfig):this.loader.load(i.injector,a)).pipe((0,cr.zg)(d=>(a._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Jn),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(Np))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),Pa=(()=>{class t{constructor(i,a,c={}){this.router=i,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof va&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof rv&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,a){this.router.triggerEvent(new rv(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Jn),_.LFG(Uh),_.LFG(void 0))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();const so=new _.OlP("ROUTER_CONFIGURATION"),Fp=new _.OlP("ROUTER_FORROOT_GUARD"),Cc=[Ne,{provide:pf,useClass:sv},{provide:Jn,useFactory:function(t,e,i,a,c,d,p,m={},b,E){const C=new Jn(null,t,e,i,a,c,d,No(p));return b&&(C.urlHandlingStrategy=b),E&&(C.routeReuseStrategy=E),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(m,C),m.enableTracing&&C.events.subscribe(I=>{var R,O;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),C},deps:[pf,Na,Ne,_.zs3,_.v3s,_.Sil,xp,so,[class{},new _.FiY],[class{},new _.FiY]]},Na,{provide:Ca,useFactory:function(t){return t.routerState.root},deps:[Jn]},{provide:_.v3s,useClass:_.EAV},Dc,Pp,class{preload(e,i){return i().pipe(ya(()=>(0,Qe.of)(null)))}},{provide:so,useValue:{enableTracing:!1}}];function GE(){return new _.PXZ("Router",Jn)}let Vf=(()=>{class t{constructor(i,a){}static forRoot(i,a){return{ngModule:t,providers:[Cc,Uf(i),{provide:Fp,useFactory:Gv,deps:[[Jn,new _.FiY,new _.tp0]]},{provide:so,useValue:a||{}},{provide:oe,useFactory:zE,deps:[ue,[new _.tBr(Se),new _.FiY],so]},{provide:Pa,useFactory:qE,deps:[Jn,Uh,so]},{provide:Np,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:Pp},{provide:_.PXZ,multi:!0,useFactory:GE},[Lp,{provide:_.ip1,multi:!0,useFactory:Wv,deps:[Lp]},{provide:Kv,useFactory:WE,deps:[Lp]},{provide:_.tb,multi:!0,useExisting:Kv}]]}}static forChild(i){return{ngModule:t,providers:[Uf(i)]}}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Fp,8),_.LFG(Jn,8))},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({}),t})();function qE(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new Pa(t,e,i)}function zE(t,e,i={}){return i.useHash?new ze(t,e):new we(t,e)}function Gv(t){return"guarded"}function Uf(t){return[{provide:_.deG,multi:!0,useValue:t},{provide:xp,multi:!0,useValue:t}]}let Lp=(()=>{class t{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xo.xQ}appInitializer(){return this.injector.get(x,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(m=>a=m),d=this.injector.get(Jn),p=this.injector.get(so);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),a(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Qe.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),d.initialNavigation()):a(!0),c})}bootstrapListener(i){const a=this.injector.get(so),c=this.injector.get(Dc),d=this.injector.get(Pa),p=this.injector.get(Jn),m=this.injector.get(_.z2F);i===m.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&p.initialNavigation(),c.setUpPreloading(),d.init(),p.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(_.zs3))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})();function Wv(t){return t.appInitializer.bind(t)}function WE(t){return t.bootstrapListener.bind(t)}const Kv=new _.OlP("Router Initializer");let Qv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-main"]],decls:46,vars:1,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","sticky-top"],[1,"container-fluid","container"],["src","assets/digitify-logo-promovare.png","id","logo","alt","Digitify agency promovare online",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseNavbar",1,"navbar-toggler","ms-auto"],[1,"navbar-toggler-icon"],["id","collapseNavbar",1,"navbar-collapse","collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"nav-item"],["href","//codeply.com",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["href","#myAlert","data-bs-toggle","collapse",1,"nav-link"],["href","","data-bs-target","#myModal","data-bs-toggle","modal",1,"nav-link"],[1,"main"],[1,"container","pt-5"],[1,"row","w-100","pb-5","m-0"],[2,"width","100%"],[1,"row","text-center"],[1,"col-12","col-md-4","row"]],template:function(i,a){1&i&&(_.TgZ(0,"nav",0),_.TgZ(1,"div",1),_._UZ(2,"img",2),_.TgZ(3,"button",3),_._UZ(4,"span",4),_.qZA(),_.TgZ(5,"div",5),_.TgZ(6,"ul",6),_.TgZ(7,"li",7),_.TgZ(8,"a",8),_._uU(9,"Link"),_.qZA(),_.qZA(),_.TgZ(10,"li",9),_.TgZ(11,"a",10),_._uU(12,"Codeply"),_.qZA(),_.qZA(),_.TgZ(13,"li",11),_.TgZ(14,"a",12),_._uU(15," Dropdown link "),_.qZA(),_.TgZ(16,"ul",13),_.TgZ(17,"li"),_.TgZ(18,"a",14),_._uU(19,"Action"),_.qZA(),_.qZA(),_.TgZ(20,"li"),_.TgZ(21,"a",14),_._uU(22,"Another action"),_.qZA(),_.qZA(),_.TgZ(23,"li"),_.TgZ(24,"a",14),_._uU(25,"Something else here"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(26,"li",9),_.TgZ(27,"a",15),_._uU(28,"Link"),_.qZA(),_.qZA(),_.TgZ(29,"li",9),_.TgZ(30,"a",16),_._uU(31,"About"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div",17),_.TgZ(33,"div",18),_.TgZ(34,"div",19),_._UZ(35,"router-outlet",20),_.qZA(),_.TgZ(36,"div",21),_.TgZ(37,"div",22),_.TgZ(38,"h5"),_._uU(39,"INfo"),_.qZA(),_.qZA(),_.TgZ(40,"div",22),_.TgZ(41,"h5"),_._uU(42,"Contact info"),_.qZA(),_.qZA(),_.TgZ(43,"div",22),_.TgZ(44,"h5"),_._uU(45,"Social Media"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&i&&(_.xp6(2),_.Q6J("routerLink","/"))},directives:[Ec,Lf],styles:[".bg-primary{background-color:#002366!important;color:#dbe6fd!important}  a{color:#dbe6fd!important}  .dropdown-menu{background-color:#002366!important;color:#dbe6fd!important}  .dropdown-item:hover,   .dropdown-item:focus,   .navbar-dark .navbar-nav .nav-link:hover,   .navbar-dark .navbar-nav .nav-link:focus{background-color:#0f52ba}#logo[_ngcontent-%COMP%]{width:200px;cursor:pointer}.main[_ngcontent-%COMP%]{min-height:95vh;color:#dbe6fd!important;background-image:linear-gradient(#002366,#0F52BA)}"]}),t})(),KE=(()=>{class t{constructor(){this.title="Digitify"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,a){1&i&&_._UZ(0,"app-main")},directives:[Qv],styles:[""]}),t})();function Zv(t,e,i,a,c,d,p){try{var m=t[d](p),b=m.value}catch(E){return void i(E)}m.done?e(b):Promise.resolve(b).then(a,c)}var ZE=M(3637);function jf(){return t=>t.lift(new YE)}class YE{call(e,i){return i.subscribe(new JE(e))}}class JE extends ur.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let i;this.hasPrev?i=[this.prev,e]:this.hasPrev=!0,this.prev=e,i&&this.destination.next(i)}}class nt{constructor(e,i){this.compare=e,this.keySelector=i}call(e,i){return i.subscribe(new Yv(e,this.compare,this.keySelector))}}class Yv extends ur.L{constructor(e,i,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(e,i){return e===i}_next(e){let i;try{const{keySelector:c}=this;i=c?c(e):e}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=i,this.destination.next(e))}}var ao=M(309),Gt=M(57),di=M(2329),Jv=M(9759),A=M(4762),_t=M(4685),Xn=M(300),Ic=function(t,e){return(Ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])})(t,e)};function Bf(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Me,MT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e0=e0||{},je=MT||self;function _s(){}function Fa(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bs(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vp="closure_uid_"+(1e9*Math.random()>>>0),t0=0;function OT(t,e,i){return t.call.apply(t.bind,arguments)}function eD(t,e,i){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function Bn(t,e,i){return(Bn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OT:eD).apply(null,arguments)}function Tc(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function In(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(a,c,d){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return e.prototype[c].apply(a,p)}}function Fo(){this.s=this.s,this.o=this.o}var PT={};Fo.prototype.s=!1,Fo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Vp)&&t[Vp]||(t[Vp]=++t0)}(this);delete PT[t]}},Fo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},nD=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var a=t.length,c="string"==typeof t?t.split(""):t,d=0;d<a;d++)d in c&&e.call(i,c[d],d,t)};function rD(t){return Array.prototype.concat.apply([],arguments)}function n0(t){var e=t.length;if(0<e){for(var i=Array(e),a=0;a<e;a++)i[a]=t[a];return i}return[]}function jp(t){return/^[\s\xa0]*$/.test(t)}var hr,iD=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dr(t,e){return-1!=t.indexOf(e)}function r0(t,e){return t<e?-1:t>e?1:0}e:{var uo=je.navigator;if(uo){var Hf=uo.userAgent;if(Hf){hr=Hf;break e}}hr=""}function Bp(t,e,i){for(var a in t)e.call(i,t[a],a,t)}function Hp(t){var e={};for(var i in t)e[i]=t[i];return e}var $f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $p(t,e){for(var i,a,c=1;c<arguments.length;c++){for(i in a=arguments[c])t[i]=a[i];for(var d=0;d<$f.length;d++)i=$f[d],Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}}function Sc(t){return Sc[" "](t),t}Sc[" "]=_s;var qf,t,ko=dr(hr,"Opera"),ws=dr(hr,"Trident")||dr(hr,"MSIE"),i0=dr(hr,"Edge"),o0=i0||ws,Gf=dr(hr,"Gecko")&&!(dr(hr.toLowerCase(),"webkit")&&!dr(hr,"Edge"))&&!(dr(hr,"Trident")||dr(hr,"MSIE"))&&!dr(hr,"Edge"),sD=dr(hr.toLowerCase(),"webkit")&&!dr(hr,"Edge");function Gp(){var t=je.document;return t?t.documentMode:void 0}e:{var qp="",Es=(t=hr,Gf?/rv:([^\);]+)(\)|;)/.exec(t):i0?/Edge\/([\d\.]+)/.exec(t):ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):sD?/WebKit\/(\S+)/.exec(t):ko?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Es&&(qp=Es?Es[1]:""),ws){var Lo=Gp();if(null!=Lo&&Lo>parseFloat(qp)){qf=String(Lo);break e}}qf=qp}var zp={};function ka(){return e=zp,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=iD(String(qf)).split("."),i=iD("9").split("."),a=Math.max(e.length,i.length),c=0;0==t&&c<a;c++){var d=e[c]||"",p=i[c]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==d[0].length&&0==p[0].length)break;t=r0(0==d[1].length?0:parseInt(d[1],10),0==p[1].length?0:parseInt(p[1],10))||r0(0==d[2].length,0==p[2].length)||r0(d[2],p[2]),d=d[3],p=p[3]}while(0==t)}return 0<=t}();var e}var aD=je.document&&ws&&(Gp()||parseInt(qf,10))||void 0,s0=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{je.addEventListener("test",_s,e),je.removeEventListener("test",_s,e)}catch(i){}return t}();function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Is(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Gf){e:{try{Sc(e.nodeName);var c=!0;break e}catch(d){}c=!1}c||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wp[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Is.Z.h.call(this)}}An.prototype.h=function(){this.defaultPrevented=!0},In(Is,An);var Wp={2:"touch",3:"pen",4:"mouse"};Is.prototype.h=function(){Is.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var La="closure_listenable_"+(1e6*Math.random()|0),zf=0;function uD(t,e,i,a,c){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++zf,this.ca=this.fa=!1}function Ac(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Kp(t){this.src=t,this.g={},this.h=0}function Wf(t,e){var i=e.type;if(i in t.g){var d,a=t.g[i],c=tD(a,e);(d=0<=c)&&Array.prototype.splice.call(a,c,1),d&&(Ac(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function Kf(t,e,i,a){for(var c=0;c<t.length;++c){var d=t[c];if(!d.ca&&d.listener==e&&d.capture==!!i&&d.ia==a)return c}return-1}Kp.prototype.add=function(t,e,i,a,c){var d=t.toString();(t=this.g[d])||(t=this.g[d]=[],this.h++);var p=Kf(t,e,a,c);return-1<p?(e=t[p],i||(e.fa=!1)):((e=new uD(e,this.src,d,!!a,c)).fa=i,t.push(e)),e};var Qp="closure_lm_"+(1e6*Math.random()|0),Qf={};function a0(t,e,i,a,c){if(a&&a.once)return c0(t,e,i,a,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)a0(t,e[d],i,a,c);return null}return i=Rc(i),t&&t[La]?t.N(e,i,bs(a)?!!a.capture:!!a,c):u0(t,e,i,!1,a,c)}function u0(t,e,i,a,c,d){if(!e)throw Error("Invalid event type");var p=bs(c)?!!c.capture:!!c,m=h0(t);if(m||(t[Qp]=m=new Kp(t)),(i=m.add(e,i,a,p,d)).proxy)return i;if(a=function(){var e=d0;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=a,a.src=t,a.listener=i,t.addEventListener)s0||(c=p),void 0===c&&(c=!1),t.addEventListener(e.toString(),a,c);else if(t.attachEvent)t.attachEvent(cD(e.toString()),a);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(a)}return i}function c0(t,e,i,a,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)c0(t,e[d],i,a,c);return null}return i=Rc(i),t&&t[La]?t.O(e,i,bs(a)?!!a.capture:!!a,c):u0(t,e,i,!0,a,c)}function l0(t,e,i,a,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)l0(t,e[d],i,a,c);else a=bs(a)?!!a.capture:!!a,i=Rc(i),t&&t[La]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=Kf(d=t.g[e],i,a,c))&&(Ac(d[i]),Array.prototype.splice.call(d,i,1),0==d.length&&(delete t.g[e],t.h--))):t&&(t=h0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Kf(e,i,a,c)),(i=-1<t?e[t]:null)&&f0(i))}function f0(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[La])Wf(e.i,t);else{var i=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(i,a,t.capture):e.detachEvent?e.detachEvent(cD(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=h0(e))?(Wf(i,t),0==i.h&&(i.src=null,e[Qp]=null)):Ac(t)}}}function cD(t){return t in Qf?Qf[t]:Qf[t]="on"+t}function d0(t,e){if(t.ca)t=!0;else{e=new Is(e,this);var i=t.listener,a=t.ia||t.src;t.fa&&f0(t),t=i.call(a,e)}return t}function h0(t){return(t=t[Qp])instanceof Kp?t:null}var Zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(t){return"function"==typeof t?t:(t[Zp]||(t[Zp]=function(e){return t.handleEvent(e)}),t[Zp])}function vn(){Fo.call(this),this.i=new Kp(this),this.P=this,this.I=null}function Rn(t,e){var i,a=t.I;if(a)for(i=[];a;a=a.I)i.push(a);if(t=t.P,a=e.type||e,"string"==typeof e)e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var c=e;$p(e=new An(a,t),c)}if(c=!0,i)for(var d=i.length-1;0<=d;d--){var p=e.g=i[d];c=Zf(p,a,!0,e)&&c}if(c=Zf(p=e.g=t,a,!0,e)&&c,c=Zf(p,a,!1,e)&&c,i)for(d=0;d<i.length;d++)c=Zf(p=e.g=i[d],a,!1,e)&&c}function Zf(t,e,i,a){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ca&&p.capture==i){var m=p.listener,b=p.ia||p.src;p.fa&&Wf(t.i,p),c=!1!==m.call(b,a)&&c}}return c&&!a.defaultPrevented}In(vn,Fo),vn.prototype[La]=!0,vn.prototype.removeEventListener=function(t,e,i,a){l0(this,t,e,i,a)},vn.prototype.M=function(){if(vn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],a=0;a<i.length;a++)Ac(i[a]);delete t.g[e],t.h--}}this.I=null},vn.prototype.N=function(t,e,i,a){return this.i.add(String(t),e,!1,i,a)},vn.prototype.O=function(t,e,i,a){return this.i.add(String(t),e,!0,i,a)};var Yp=je.JSON.stringify;function p0(){var t=Xf,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Jf,lD=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,i){var a=Jp.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a},t}(),Jp=new(function(){function t(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new fD},function(t){return t.reset()}),fD=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function dD(t){je.setTimeout(function(){throw t},0)}function Yf(t,e){Jf||function(){var t=je.Promise.resolve(void 0);Jf=function(){t.then(pD)}}(),Vr||(Jf(),Vr=!0),Xf.add(t,e)}var Vr=!1,Xf=new lD;function pD(){for(var t;t=p0();){try{t.h.call(t.g)}catch(i){dD(i)}var e=Jp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vr=!1}function ed(t,e){vn.call(this),this.h=t||1,this.g=e||je,this.j=Bn(this.kb,this),this.l=Date.now()}function g0(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function td(t,e,i){if("function"==typeof t)i&&(t=Bn(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bn(t.handleEvent,t)}return 2147483647<Number(e)?-1:je.setTimeout(t,e||0)}function m0(t){t.g=td(function(){t.g=null,t.i&&(t.i=!1,m0(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}In(ed,vn),(Me=ed.prototype).da=!1,Me.S=null,Me.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rn(this,"tick"),this.da&&(g0(this),this.start()))}},Me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.M=function(){ed.Z.M.call(this),g0(this),delete this.g};var gD=function(t){function e(i,a){var c=t.call(this)||this;return c.m=i,c.j=a,c.h=null,c.i=!1,c.g=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}Ic(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:m0(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Fo);function xc(t){Fo.call(this),this.h=t,this.g={}}In(xc,Fo);var nd=[];function y0(t,e,i,a){Array.isArray(i)||(i&&(nd[0]=i.toString()),i=nd);for(var c=0;c<i.length;c++){var d=a0(e,i[c],a||t.handleEvent,!1,t.h||t);if(!d)break;t.g[d.key]=d}}function v0(t){Bp(t.g,function(e,i){this.g.hasOwnProperty(i)&&f0(e)},t),t.g={}}function Ts(){this.g=!0}function Vo(t,e,i,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var a=i[t];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return Yp(i)}catch(m){return e}}(t,i)+(a?" "+a:"")})}xc.prototype.M=function(){xc.Z.M.call(this),v0(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ts.prototype.Aa=function(){this.g=!1},Ts.prototype.info=function(){};var Ss={},b0=null;function Va(){return b0=b0||new vn}function yD(t){An.call(this,Ss.Ma,t)}function Mc(t){var e=Va();Rn(e,new yD(e,t))}function tg(t,e){An.call(this,Ss.STAT_EVENT,t),this.stat=e}function Hn(t){var e=Va();Rn(e,new tg(e,t))}function ng(t,e){An.call(this,Ss.Na,t),this.size=e}function Ua(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){t()},e)}Ss.Ma="serverreachability",In(yD,An),Ss.STAT_EVENT="statevent",In(tg,An),Ss.Na="timingevent",In(ng,An);var Nc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ki={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ja(){}function E0(){}ja.prototype.h=null;var As,rd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uo(){An.call(this,"d")}function id(){An.call(this,"c")}function jo(){}function Oc(t,e,i,a){this.l=t,this.j=e,this.m=i,this.X=a||1,this.V=new xc(this),this.P=D0,this.W=new ed(t=o0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new od}function od(){this.i=null,this.g="",this.h=!1}In(Uo,An),In(id,An),In(jo,ja),jo.prototype.g=function(){return new XMLHttpRequest},jo.prototype.i=function(){return{}},As=new jo;var D0=45e3,rg={},Pc={};function ig(t,e,i){t.K=1,t.v=ud(Bo(e)),t.s=i,t.U=!0,sd(t,null)}function sd(t,e){t.F=Date.now(),Li(t),t.A=Bo(t.v);var i=t.A,a=t.X;Array.isArray(a)||(a=[String(a)]),F0(i.h,"t",a),t.C=0,i=t.l.H,t.h=new od,t.g=vg(t.l,i?e:null,!t.s),0<t.O&&(t.L=new gD(Bn(t.Ia,t,t.g),t.O)),y0(t.V,t.g,"readystatechange",t.gb),e=t.H?Hp(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mc(1),function(t,e,i,a,c,d){t.info(function(){if(t.g)if(d)for(var p="",m=d.split("&"),b=0;b<m.length;b++){var E=m[b].split("=");if(1<E.length){var C=E[0];E=E[1];var I=C.split("_");p=2<=I.length&&"type"==I[1]?p+(C+"=")+E+"&":p+(C+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+p})}(t.j,t.u,t.A,t.m,t.X,t.s)}function C0(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function I0(t,e,i){for(var c,a=!0;!t.I&&t.C<i.length;){if((c=T0(t,i))==Pc){4==e&&(t.o=4,Hn(14),a=!1),Vo(t.j,t.m,null,"[Incomplete Response]");break}if(c==rg){t.o=4,Hn(15),Vo(t.j,t.m,i,"[Invalid Chunk]"),a=!1;break}Vo(t.j,t.m,c,null),sg(t,c)}C0(t)&&c!=Pc&&c!=rg&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,Hn(16),a=!1),t.i=t.i&&a,a?0<i.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Go(e),e.L=!0,Hn(11))):(Vo(t.j,t.m,i,"[Invalid Chunked Response]"),Ur(t),Fc(t))}function T0(t,e){var i=t.C,a=e.indexOf("\n",i);return-1==a?Pc:(i=Number(e.substring(i,a)),isNaN(i)?rg:(a+=1)+i>e.length?Pc:(e=e.substr(a,i),t.C=a+i,e))}function Li(t){t.Y=Date.now()+t.P,og(t,t.P)}function og(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ua(Bn(t.eb,t),e)}function ad(t){t.B&&(je.clearTimeout(t.B),t.B=null)}function Fc(t){0==t.l.G||t.I||ks(t.l,t)}function Ur(t){ad(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,g0(t.W),v0(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sg(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||V0(i.i,t)))if(i.I=t.N,!t.J&&V0(i.i,t)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(le){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Ua(Bn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<t.F))break e;ho(i),Ho(i)}$o(i),Hn(18)}if(1>=ED(i.i)&&i.ka){try{i.ka()}catch(le){}i.ka=void 0}}else qo(i,11)}else if((t.J||i.g==t)&&ho(i),!jp(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){var d=c[e];if(i.U=d[0],d=d[1],2==i.G)if("c"==d[0]){i.J=d[1],i.la=d[2];var p=d[3];null!=p&&(i.ma=p,i.h.info("VER="+i.ma));var m=d[4];null!=m&&(i.za=m,i.h.info("SVER="+i.za));var b=d[5];null!=b&&"number"==typeof b&&0<b&&(i.K=a=1.5*b,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;var E=t.g;if(E){var C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var I=a.i;!I.g&&(dr(C,"spdy")||dr(C,"quic")||dr(C,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(Lc(I,I.h),I.h=null))}if(a.D){var R=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(a.sa=R,jt(a.F,a.D,R))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var O=t;if((a=i).oa=yg(a,a.H?a.la:null,a.W),O.J){U0(a.i,O);var j=O,W=a.K;W&&j.setTimeout(W),j.B&&(ad(j),Li(j)),a.g=O}else Ps(a);0<i.l.length&&Ns(i)}else"stop"!=d[0]&&"close"!=d[0]||qo(i,7);else 3==i.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?qo(i,7):Hr(i):"noop"!=d[0]&&i.j&&i.j.wa(d),i.A=0)}Mc(4)}catch(le){}}function ag(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fa(t)||"string"==typeof t)nD(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if(Fa(t)||"string"==typeof t){i=[];for(var a=t.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,t)i[a++]=c;c=(a=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Fa(t)){for(var e=[],i=t.length,a=0;a<i;a++)e.push(t[a]);return e}for(a in e=[],i=0,t)e[i++]=t[a];return e}(t)).length;for(var d=0;d<c;d++)e.call(void 0,a[d],i&&i[d],t)}}function Ba(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(t)if(t instanceof Ba)for(i=t.T(),a=0;a<i.length;a++)this.set(i[a],t.get(i[a]));else for(a in t)this.set(a,t[a])}function S0(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var a=t.g[e];Rs(t.h,a)&&(t.g[i++]=a),e++}t.g.length=i}if(t.i!=t.g.length){var c={};for(i=e=0;e<t.g.length;)Rs(c,a=t.g[e])||(t.g[i++]=a,c[a]=1),e++;t.g.length=i}}function Rs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Me=Oc.prototype).setTimeout=function(t){this.P=t},Me.gb=function(t){t=t.target;var e=this.L;e&&3==Vi(t)?e.l():this.Ia(t)},Me.Ia=function(t){try{if(t==this.g)e:{var e=Vi(this.g),i=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||o0||this.g&&(this.h.h||this.g.ga()||Br(this.g)))){this.I||4!=e||7==i||Mc(8==i||0>=a?3:2),ad(this);var c=this.g.ba();this.N=c;t:if(C0(this)){var d=Br(this.g);t="";var p=d.length,m=4==Vi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ur(this),Fc(this);var b="";break t}this.h.i=new je.TextDecoder}for(i=0;i<p;i++)this.h.h=!0,t+=this.h.i.decode(d[i],{stream:m&&i==p-1});d.splice(0,p),this.h.g+=t,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==c,function(t,e,i,a,c,d,p){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,e,c),this.i){if(this.$&&!this.J){t:{if(this.g){var E,C=this.g;if((E=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jp(E)){var I=E;break t}}I=null}if(!(c=I)){this.i=!1,this.o=3,Hn(12),Ur(this),Fc(this);break e}Vo(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sg(this,c)}this.U?(I0(this,e,b),o0&&this.i&&3==e&&(y0(this.V,this.W,"tick",this.fb),this.W.start())):(Vo(this.j,this.m,b,null),sg(this,b)),4==e&&Ur(this),this.i&&!this.I&&(4==e?ks(this.l,this):(this.i=!1,Li(this)))}else 400==c&&0<b.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),Ur(this),Fc(this)}}}catch(R){}},Me.fb=function(){if(this.g){var t=Vi(this.g),e=this.g.ga();this.C<e.length&&(ad(this),I0(this,t,e),this.i&&4!=t&&Li(this))}},Me.cancel=function(){this.I=!0,Ur(this)},Me.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mc(3),Hn(17)),Ur(this),this.o=2,Fc(this)):og(this,this.Y-t)},(Me=Ba.prototype).R=function(){S0(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Me.T=function(){return S0(this),this.g.concat()},Me.get=function(t,e){return Rs(this.h,t)?this.h[t]:e},Me.set=function(t,e){Rs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Me.forEach=function(t,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],d=this.get(c);t.call(e,d,c,this)}};var ug=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function co(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof co){this.g=void 0!==e?e:t.g,jr(this,t.j),this.s=t.s,Ha(this,t.i),$a(this,t.m),this.l=t.l,e=t.h;var i=new za;i.i=e.i,e.g&&(i.g=new Ba(e.g),i.h=e.h),_D(this,i),this.o=t.o}else t&&(i=String(t).match(ug))?(this.g=!!e,jr(this,i[1]||"",!0),this.s=Ga(i[2]||""),Ha(this,i[3]||"",!0),$a(this,i[4]),this.l=Ga(i[5]||"",!0),_D(this,i[6]||"",!0),this.o=Ga(i[7]||"")):(this.g=!!e,this.h=new za(null,this.g))}function Bo(t){return new co(t)}function jr(t,e,i){t.j=i?Ga(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ha(t,e,i){t.i=i?Ga(e,!0):e}function $a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _D(t,e,i){e instanceof za?(t.h=e,function(t,e){e&&!t.j&&(lo(t),t.i=null,t.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(O0(this,a),F0(this,c,i))},t)),t.j=e}(t.h,t.g)):(i||(e=qa(e,M0)),t.h=new za(e,t.g))}function jt(t,e,i){t.h.set(e,i)}function ud(t){return jt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qa(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,bD),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bD(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qa(e,x0,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qa(e,x0,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(qa(i,"/"==i.charAt(0)?cg:kc,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",qa(i,N0)),t.join("")};var x0=/[#\/\?@]/g,kc=/[#\?:]/g,cg=/[#\?]/g,M0=/[#\?@]/g,N0=/#/g;function za(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lo(t){t.g||(t.g=new Ba,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var a=t[i].indexOf("="),c=null;if(0<=a){var d=t[i].substring(0,a);c=t[i].substring(a+1)}else d=t[i];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function O0(t,e){lo(t),e=Wa(t,e),Rs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Rs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&S0(t)))}function P0(t,e){return lo(t),e=Wa(t,e),Rs(t.g.h,e)}function F0(t,e,i){O0(t,e),0<i.length&&(t.i=null,t.g.set(Wa(t,e),n0(i)),t.h+=i.length)}function Wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Me=za.prototype).add=function(t,e){lo(this),this.i=null,t=Wa(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},Me.forEach=function(t,e){lo(this),this.g.forEach(function(i,a){nD(i,function(c){t.call(e,c,a,this)},this)},this)},Me.T=function(){lo(this);for(var t=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=t[a],d=0;d<c.length;d++)i.push(e[a]);return i},Me.R=function(t){lo(this);var e=[];if("string"==typeof t)P0(this,t)&&(e=rD(e,this.g.get(Wa(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=rD(e,t[i])}return e},Me.set=function(t,e){return lo(this),this.i=null,P0(this,t=Wa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Me.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var d=0;d<a.length;d++){var p=c;""!==a[d]&&(p+="="+encodeURIComponent(String(a[d]))),t.push(p)}}return this.i=t.join("&")};var kT=function(e,i){this.h=e,this.g=i};function lg(t){this.l=t||wD,t=je.PerformanceNavigationTiming?0<(t=je.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(je.g&&je.g.Ea&&je.g.Ea()&&je.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wD=10;function L0(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ED(t){return t.h?1:t.g?t.g.size:0}function V0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Lc(t,e){t.g?t.g.add(e):t.h=e}function U0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function fg(t){var e,i;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var a=t.i;try{for(var c=Bf(t.g.values()),d=c.next();!d.done;d=c.next())a=a.concat(d.value.D)}catch(m){e={error:m}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return a}return n0(t.i)}function cd(){}function LT(){this.g=new cd}function hi(t,e,i){var a=i||"";try{ag(t,function(c,d){var p=c;bs(c)&&(p=Yp(c)),e.push(a+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function dg(t,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(d){}}function ld(t){this.l=t.$b||null,this.j=t.ib||!1}function Vc(t,e){vn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=fd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lg.prototype.cancel=function(){var t,e;if(this.i=fg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Bf(this.g.values()),a=i.next();!a.done;a=i.next())a.value.cancel()}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.g.clear()}},cd.prototype.stringify=function(t){return je.JSON.stringify(t,void 0)},cd.prototype.parse=function(t){return je.JSON.parse(t,void 0)},In(ld,ja),ld.prototype.g=function(){return new Vc(this.l,this.j)},ld.prototype.i=function(t){return function(){return t}}({}),In(Vc,vn);var fd=0;function hg(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Uc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dd(t)}function dd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Me=Vc.prototype).open=function(t,e){if(this.readyState!=fd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dd(this)},Me.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||je).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uc(this)),this.readyState=fd},Me.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==je.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hg(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Me.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Uc(this):dd(this),3==this.readyState&&hg(this)}},Me.Ua=function(t){this.g&&(this.response=this.responseText=t,Uc(this))},Me.Ta=function(t){this.g&&(this.response=t,Uc(this))},Me.ha=function(){this.g&&Uc(this)},Me.setRequestHeader=function(t,e){this.v.append(t,e)},Me.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),i=e.next();!i.done;)t.push((i=i.value)[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var j0=je.JSON.parse;function sn(t){vn.call(this),this.headers=new Ba,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=B0,this.K=this.L=!1}In(sn,vn);var B0="",pg=/^https?$/i,DD=["POST","PUT"];function ID(t){return"content-type"==t.toLowerCase()}function H0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$0(t),xs(t)}function $0(t){t.D||(t.D=!0,Rn(t,"complete"),Rn(t,"error"))}function G0(t){if(t.h&&void 0!==e0&&(!t.C[1]||4!=Vi(t)||2!=t.ba()))if(t.v&&4==Vi(t))td(t.Fa,0,t);else if(Rn(t,"readystatechange"),4==Vi(t)){t.h=!1;try{var a,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(a=i)){var c;if(c=0===e){var d=String(t.H).match(ug)[1]||null;if(!d&&je.self&&je.self.location){var p=je.self.location.protocol;d=p.substr(0,p.length-1)}c=!pg.test(d?d.toLowerCase():"")}a=c}if(a)Rn(t,"complete"),Rn(t,"success");else{t.m=6;try{var m=2<Vi(t)?t.g.statusText:""}catch(b){m=""}t.j=m+" ["+t.ba()+"]",$0(t)}}finally{xs(t)}}}function xs(t,e){if(t.g){Ms(t);var i=t.g,a=t.C[0]?_s:null;t.g=null,t.C=null,e||Rn(t,"ready");try{i.onreadystatechange=a}catch(c){}}}function Ms(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(je.clearTimeout(t.A),t.A=null)}function Vi(t){return t.g?t.g.readyState:0}function Br(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case B0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gg(t,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(t){var e="";return Bp(t,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):jt(t,e,i))}function Bc(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function hd(t){this.za=0,this.l=[],this.h=new Ts,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bc("baseRetryDelayMs",5e3,t),this.$a=Bc("retryDelaySeedMs",1e4,t),this.Ya=Bc("forwardChannelMaxRetries",2,t),this.ra=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new lg(t&&t.concurrentRequestLimit),this.Ca=new LT,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Hr(t){if(xn(t),3==t.G){var e=t.V++,i=Bo(t.F);jt(i,"SID",t.J),jt(i,"RID",e),jt(i,"TYPE","terminate"),Ui(t,i),(e=new Oc(t,t.h,e,void 0)).K=2,e.v=ud(Bo(i)),i=!1,je.navigator&&je.navigator.sendBeacon&&(i=je.navigator.sendBeacon(e.v.toString(),"")),!i&&je.Image&&((new Image).src=e.v,i=!0),i||(e.g=vg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Li(e)}mg(t)}function Ho(t){t.g&&(Go(t),t.g.cancel(),t.g=null)}function xn(t){Ho(t),t.u&&(je.clearTimeout(t.u),t.u=null),ho(t),t.i.cancel(),t.m&&("number"==typeof t.m&&je.clearTimeout(t.m),t.m=null)}function fo(t,e){t.l.push(new kT(t.Za++,e)),3==t.G&&Ns(t)}function Ns(t){L0(t.i)||t.m||(t.m=!0,Yf(t.Ha,t),t.C=0)}function pd(t,e){var i;i=e?e.m:t.V++;var a=Bo(t.F);jt(a,"SID",t.J),jt(a,"RID",i),jt(a,"AID",t.U),Ui(t,a),t.o&&t.s&&gg(a,t.o,t.s),i=new Oc(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Os(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Lc(t.i,i),ig(i,a,e)}function Ui(t,e){t.j&&ag({},function(i,a){jt(e,a,i)})}function Os(t,e,i){i=Math.min(t.l.length,i);var a=t.j?Bn(t.j.Oa,t.j,t):null;e:for(var c=t.l,d=-1;;){var p=["count="+i];-1==d?0<i?p.push("ofs="+(d=c[0].h)):d=0:p.push("ofs="+d);for(var m=!0,b=0;b<i;b++){var E=c[b].h,C=c[b].g;if(0>(E-=d))d=Math.max(0,c[b].h-100),m=!1;else try{hi(C,p,"req"+E+"_")}catch(I){a&&a(C)}}if(m){a=p.join("&");break e}}return t=t.l.splice(0,i),e.D=t,a}function Ps(t){t.g||t.u||(t.Y=1,Yf(t.Ga,t),t.A=0)}function $o(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ua(Bn(t.Ga,t),Ls(t,t.A)),t.A++,0))}function Go(t){null!=t.B&&(je.clearTimeout(t.B),t.B=null)}function Fs(t){t.g=new Oc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Bo(t.oa);jt(e,"RID","rpc"),jt(e,"SID",t.J),jt(e,"CI",t.N?"0":"1"),jt(e,"AID",t.U),Ui(t,e),jt(e,"TYPE","xmlhttp"),t.o&&t.s&&gg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=ud(Bo(e)),i.s=null,i.U=!0,sd(i,t)}function ho(t){null!=t.v&&(je.clearTimeout(t.v),t.v=null)}function ks(t,e){var i=null;if(t.g==e){ho(t),Go(t),t.g=null;var a=2}else{if(!V0(t.i,e))return;i=e.D,U0(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=t.C;Rn(a=Va(),new ng(a,i,e,c)),Ns(t)}else Ps(t);else if(3==(c=e.o)||0==c&&0<t.I||!(1==a&&function(t,e){return!(ED(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ua(Bn(t.Ha,t,e),Ls(t,t.C)),t.C++,0)))}(t,e)||2==a&&$o(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),c){case 1:qo(t,5);break;case 4:qo(t,10);break;case 3:qo(t,6);break;default:qo(t,2)}}function Ls(t,e){var i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function qo(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var a=Bn(t.jb,t);i||(i=new co("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||jr(i,"https"),ud(i)),function(t,e){var i=new Ts;if(je.Image){var a=new Image;a.onload=Tc(dg,i,a,"TestLoadImage: loaded",!0,e),a.onerror=Tc(dg,i,a,"TestLoadImage: error",!1,e),a.onabort=Tc(dg,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=Tc(dg,i,a,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}(i.toString(),a)}else Hn(2);t.G=0,t.j&&t.j.va(e),mg(t),xn(t)}function mg(t){t.G=0,t.I=-1,t.j&&((0!=fg(t.i).length||0!=t.l.length)&&(t.i.i.length=0,n0(t.l),t.l.length=0),t.j.ua())}function yg(t,e,i){var a=function(t){return t instanceof co?Bo(t):new co(t,void 0)}(i);if(""!=a.i)e&&Ha(a,e+"."+a.i),$a(a,a.m);else{var c=je.location;a=function(t,e,i,a){var c=new co(null,void 0);return t&&jr(c,t),e&&Ha(c,e),i&&$a(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return t.aa&&Bp(t.aa,function(d,p){jt(a,p,d)}),i=t.sa,(e=t.D)&&i&&jt(a,e,i),jt(a,"VER",t.ma),Ui(t,a),a}function vg(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(i&&t.Ba&&!t.qa?new ld({ib:!0}):t.qa)).L=t.H,e}function _g(){}function Hc(){if(ws&&!(10<=Number(aD)))throw Error("Environmental error: no available transport.")}function pr(t,e){vn.call(this),this.g=new hd(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!jp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ka(this)}function bg(t){Uo.call(this);var e=t.__sm__;if(e){e:{for(var i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function wg(){id.call(this),this.status=1}function Ka(t){this.g=t}(Me=sn.prototype).ea=function(t,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():As.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:As),this.g.onreadystatechange=Bn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(d){return void H0(this,d)}t=i||"";var c=new Ba(this.headers);a&&ag(a,function(d,p){c.set(p,d)}),a=function(t){e:{for(var e=ID,i=t.length,a="string"==typeof t?t.split(""):t,c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,t)){e=c;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(c.T()),i=je.FormData&&t instanceof je.FormData,!(0<=tD(DD,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ms(this),0<this.B&&((this.K=function(t){return ws&&ka()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bn(this.pa,this)):this.A=td(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(d){H0(this,d)}},Me.pa=function(){void 0!==e0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},Me.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rn(this,"complete"),Rn(this,"abort"),xs(this))},Me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xs(this,!0)),sn.Z.M.call(this)},Me.Fa=function(){this.s||(this.F||this.v||this.l?G0(this):this.cb())},Me.cb=function(){G0(this)},Me.ba=function(){try{return 2<Vi(this)?this.g.status:-1}catch(t){return-1}},Me.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Me.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),j0(e)}},Me.Da=function(){return this.m},Me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=hd.prototype).ma=8,Me.G=1,Me.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Me.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Oc(this,this.h,t,void 0),i=this.s;if(this.P&&(i?$p(i=Hp(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var a=0,c=0;c<this.l.length;c++){var d=this.l[c];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(a+=d)){a=c;break e}if(4096===a||c===this.l.length-1){a=c+1;break e}}a=1e3}else a=1e3;a=Os(this,e,a),jt(c=Bo(this.F),"RID",t),jt(c,"CVER",22),this.D&&jt(c,"X-HTTP-Session-Id",this.D),Ui(this,c),this.o&&i&&gg(c,this.o,i),Lc(this.i,e),this.Ra&&jt(c,"TYPE","init"),this.ja?(jt(c,"$req",a),jt(c,"SID","null"),e.$=!0,ig(e,c,null)):ig(e,c,a),this.G=2}}else 3==this.G&&(t?pd(this,t):0==this.l.length||L0(this.i)||pd(this))},Me.Ga=function(){if(this.u=null,Fs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ua(Bn(this.bb,this),t)}},Me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hn(10),Ho(this),Fs(this))},Me.ab=function(){null!=this.v&&(this.v=null,Ho(this),$o(this),Hn(19))},Me.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Hn(2)):(this.h.info("Failed to ping google.com"),Hn(1))},(Me=_g.prototype).xa=function(){},Me.wa=function(){},Me.va=function(){},Me.ua=function(){},Me.Oa=function(){},Hc.prototype.g=function(t,e){return new pr(t,e)},In(pr,vn),pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Yf(Bn(t.hb,t,e))),Hn(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=yg(t,null,t.W),Ns(t)},pr.prototype.close=function(){Hr(this.g)},pr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,fo(this.g,e)}else this.v?((e={}).__data__=Yp(t),fo(this.g,e)):fo(this.g,t)},pr.prototype.M=function(){this.g.j=null,delete this.j,Hr(this.g),delete this.g,pr.Z.M.call(this)},In(bg,Uo),In(wg,id),In(Ka,_g),Ka.prototype.xa=function(){Rn(this.g,"a")},Ka.prototype.wa=function(t){Rn(this.g,new bg(t))},Ka.prototype.va=function(t){Rn(this.g,new wg(t))},Ka.prototype.ua=function(){Rn(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,pr.prototype.send=pr.prototype.u,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,ki.COMPLETE="complete",E0.EventType=rd,rd.OPEN="a",rd.CLOSE="b",rd.ERROR="c",rd.MESSAGE="d",vn.prototype.listen=vn.prototype.N,sn.prototype.listenOnce=sn.prototype.O,sn.prototype.getLastError=sn.prototype.La,sn.prototype.getLastErrorCode=sn.prototype.Da,sn.prototype.getStatus=sn.prototype.ba,sn.prototype.getResponseJson=sn.prototype.Qa,sn.prototype.getResponseText=sn.prototype.ga,sn.prototype.send=sn.prototype.ea;var gd=Nc,Eg=ki,W0=Ss,K0_PROXY=10,K0_NOPROXY=11,Q0=ld,Qa=E0,Z0=sn,Rr=function(){function t(e,i){var a=this;this.previousValue=e,i&&(i.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return i.writeSequenceNumber(c)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Rr.o=-1;var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=function(t){function e(i,a){var c=this;return(c=t.call(this,a)||this).code=i,c.message=a,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return(0,A.ZT)(e,t),e}(Error),Gr=new Xn.Yd("@firebase/firestore");function Y0(){return Gr.logLevel}function be(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Gr.logLevel<=Xn.in.DEBUG){var a=e.map(J0);Gr.debug.apply(Gr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function _n(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Gr.logLevel<=Xn.in.ERROR){var a=e.map(J0);Gr.error.apply(Gr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function $c(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Gr.logLevel<=Xn.in.WARN){var a=e.map(J0);Gr.warn.apply(Gr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function J0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Fe(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw _n(e),new Error(e)}function Ze(t,e){t||Fe()}function De(t,e){return t}function Dg(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var a=0;a<t;a++)i[a]=Math.floor(256*Math.random());return i}var X0=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,a="";a.length<20;)for(var c=Dg(40),d=0;d<c.length;++d)a.length<20&&c[d]<i&&(a+=e.charAt(c[d]%e.length));return a},t}();function ht(t,e){return t<e?-1:t>e?1:0}function Gc(t,e,i){return t.length===e.length&&t.every(function(a,c){return i(a,e[c])})}function SD(t){return t+"\0"}var gr=function(){function t(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,Math.floor(1e6*(e-1e3*i)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new gr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function AD(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Vs(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function Us(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var e_=function(){function t(e,i,a){void 0===i?i=0:i>e.length&&Fe(),void 0===a?a=e.length-i:a>e.length-i&&Fe(),this.segments=e,this.offset=i,this.len=a}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(a){i.push(a)}):i.push(e),this.construct(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.forEach=function(e){for(var i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,i){for(var a=Math.min(e.length,i.length),c=0;c<a;c++){var d=e.get(c),p=i.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<i.length?-1:e.length>i.length?1:0},t}(),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var c=[],d=0,p=i;d<p.length;d++){var m=p[d];if(m.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");c.push.apply(c,m.split("/").filter(function(b){return b.length>0}))}return new e(c)},e.emptyPath=function(){return new e([])},e}(e_),RD=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.isValidIdentifier=function(i){return RD.test(i)},e.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(i){for(var a=[],c="",d=0,p=function(){if(0===c.length)throw new ge(ee.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");a.push(c),c=""},m=!1;d<i.length;){var b=i[d];if("\\"===b){if(d+1===i.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var E=i[d+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);c+=E,d+=2}else"`"===b?(m=!m,d++):"."!==b||m?(c+=b,d++):(p(),d++)}if(p(),m)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(a)},e.emptyPath=function(){return new e([])},e}(e_),po=function(){function t(e){this.fields=e,e.sort(qr.comparator)}return t.prototype.covers=function(e){for(var i=0,a=this.fields;i<a.length;i++)if(a[i].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Gc(this.fields,e.fields,function(i,a){return i.isEqual(a)})},t}(),er=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(i){for(var a="",c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return ht(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();er.EMPTY_BYTE_STRING=new er("");var t_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(t){if(Ze(!!t),"string"==typeof t){var e=0,i=t_.exec(t);if(Ze(!!i),i[1]){var a=i[1];a=(a+"000000000").substr(0,9),e=Number(a)}var c=new Date(t);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Za(t){return"string"==typeof t?er.fromBase64String(t):er.fromUint8Array(t)}function Cg(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function n_(t){var e=t.mapValue.fields.__previous_value__;return Cg(e)?n_(e):e}function Ya(t){var e=zo(t.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}function js(t){return null==t}function qc(t){return 0===t&&1/t==-1/0}function Ig(t){return"number"==typeof t&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ke=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(bt.fromString(e))},t.fromName=function(e){return new t(bt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===bt.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,i){return bt.comparator(e.path,i.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new bt(e.slice()))},t}();function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cg(t)?4:10:Fe()}function zr(t,e){var c,i=Ja(t);if(i!==Ja(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;var d=zo(a.timestampValue),p=zo(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,Za(t.bytesValue).isEqual(Za(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,c){return hn(a.geoPointValue.latitude)===hn(c.geoPointValue.latitude)&&hn(a.geoPointValue.longitude)===hn(c.geoPointValue.longitude)}(t,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return hn(a.integerValue)===hn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){var d=hn(a.doubleValue),p=hn(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1}(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(a,c){var d=a.mapValue.fields||{},p=c.mapValue.fields||{};if(AD(d)!==AD(p))return!1;for(var m in d)if(d.hasOwnProperty(m)&&(void 0===p[m]||!zr(d[m],p[m])))return!1;return!0}(t,e);default:return Fe()}}function zc(t,e){return void 0!==(t.values||[]).find(function(i){return zr(i,e)})}function Wc(t,e){var c,d,p,m,i=Ja(t),a=Ja(e);if(i!==a)return ht(i,a);switch(i){case 0:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return d=e,(p=hn((c=t).integerValue||c.doubleValue))<(m=hn(d.integerValue||d.doubleValue))?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1;case 3:return Xa(t.timestampValue,e.timestampValue);case 4:return Xa(Ya(t),Ya(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(c,d){var p=Za(c),m=Za(d);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(c,d){for(var p=c.split("/"),m=d.split("/"),b=0;b<p.length&&b<m.length;b++){var E=ht(p[b],m[b]);if(0!==E)return E}return ht(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,d){var p=ht(hn(c.latitude),hn(d.latitude));return 0!==p?p:ht(hn(c.longitude),hn(d.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,d){for(var p=c.values||[],m=d.values||[],b=0;b<p.length&&b<m.length;++b){var E=Wc(p[b],m[b]);if(E)return E}return ht(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,d){var p=c.fields||{},m=Object.keys(p),b=d.fields||{},E=Object.keys(b);m.sort(),E.sort();for(var C=0;C<m.length&&C<E.length;++C){var I=ht(m[C],E[C]);if(0!==I)return I;var R=Wc(p[m[C]],b[E[C]]);if(0!==R)return R}return ht(m.length,E.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function Xa(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ht(t,e);var i=zo(t),a=zo(e),c=ht(i.seconds,a.seconds);return 0!==c?c:ht(i.nanos,a.nanos)}function Tg(t){return Kc(t)}function Kc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(c=zo(t.timestampValue)).seconds+","+c.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Za(t.bytesValue).toBase64():"referenceValue"in t?ke.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(a){for(var c="[",d=!0,p=0,m=a.values||[];p<m.length;p++)d?d=!1:c+=",",c+=Kc(m[p]);return c+"]"}(t.arrayValue):"mapValue"in t?function(a){for(var c="{",d=!0,p=0,m=Object.keys(a.fields||{}).sort();p<m.length;p++){var b=m[p];d?d=!1:c+=",",c+=b+":"+Kc(a.fields[b])}return c+"}"}(t.mapValue):Fe();var c,e}function eu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Sg(t){return!!t&&"integerValue"in t}function Qc(t){return!!t&&"arrayValue"in t}function md(t){return!!t&&"nullValue"in t}function Ag(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rg(t){return!!t&&"mapValue"in t}function Zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,function(c,d){return e.mapValue.fields[c]=Zc(d)}),e}if(t.arrayValue){for(var i={arrayValue:{values:[]}},a=0;a<(t.arrayValue.values||[]).length;++a)i.arrayValue.values[a]=Zc(t.arrayValue.values[a]);return i}return Object.assign({},t)}var mr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var i=this.value,a=0;a<e.length-1;++a)if(!Rg(i=(i.mapValue.fields||{})[e.get(a)]))return null;return(i=(i.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(i)},t.prototype.setAll=function(e){var i=this,a=qr.emptyPath(),c={},d=[];e.forEach(function(m,b){if(!a.isImmediateParentOf(b)){var E=i.getFieldsMap(a);i.applyChanges(E,c,d),c={},d=[],a=b.popLast()}m?c[b.lastSegment()]=Zc(m):d.push(b.lastSegment())});var p=this.getFieldsMap(a);this.applyChanges(p,c,d)},t.prototype.delete=function(e){var i=this.field(e.popLast());Rg(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return zr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var a=0;a<e.length;++a){var c=i.mapValue.fields[e.get(a)];Rg(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields},t.prototype.applyChanges=function(e,i,a){Vs(i,function(m,b){return e[m]=b});for(var c=0,d=a;c<d.length;c++)delete e[d[c]]},t.prototype.clone=function(){return new t(Zc(this.value))},t}();function xg(t){var e=[];return Vs(t.fields,function(i,a){var c=new qr([i]);if(Rg(a)){var d=xg(a.mapValue).fields;if(0===d.length)e.push(c);else for(var p=0,m=d;p<m.length;p++)e.push(c.child(m[p]))}else e.push(c)}),new po(e)}var Mn=function(){function t(e,i,a,c,d){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=d}return t.newInvalidDocument=function(e){return new t(e,0,ut.min(),mr.empty(),0)},t.newFoundDocument=function(e,i,a){return new t(e,1,i,a,0)},t.newNoDocument=function(e,i){return new t(e,2,i,mr.empty(),0)},t.newUnknownDocument=function(e,i){return new t(e,3,i,mr.empty(),2)},t.prototype.convertToFoundDocument=function(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xD=function(t,e,i,a,c,d,p){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===d&&(d=null),void 0===p&&(p=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=d,this.endAt=p,this.h=null};function yd(t,e,i,a,c,d,p){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===d&&(d=null),void 0===p&&(p=null),new xD(t,e,i,a,c,d,p)}function tu(t){var e=De(t);if(null===e.h){var i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(a){return(c=a).field.canonicalString()+c.op.toString()+Tg(c.value);var c}).join(","),i+="|ob:",i+=e.orderBy.map(function(a){return(c=a).field.canonicalString()+c.dir;var c}).join(","),js(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=ou(e.startAt)),e.endAt&&(i+="|ub:",i+=ou(e.endAt)),e.h=i}return e.h}function nu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!o_(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if((c=t.filters[a]).op!==(d=e.filters[a]).op||!c.field.isEqual(d.field)||!zr(c.value,d.value))return!1;var c,d;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ng(t.startAt,e.startAt)&&Ng(t.endAt,e.endAt)}function ru(t){return ke.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yr=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).field=i,d.op=a,d.value=c,d}return(0,A.ZT)(e,t),e.create=function(i,a,c){return i.isKeyField()?"in"===a||"not-in"===a?this.l(i,a,c):new MD(i,a,c):"array-contains"===a?new ND(i,c):"in"===a?new OD(i,c):"not-in"===a?new PD(i,c):"array-contains-any"===a?new FD(i,c):new e(i,a,c)},e.l=function(i,a,c){return"in"===a?new r_(i,c):new i_(i,c)},e.prototype.matches=function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.m(Wc(a,this.value)):null!==a&&Ja(this.value)===Ja(a)&&this.m(Wc(a,this.value))},e.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Fe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),MD=function(t){function e(i,a,c){var d=this;return(d=t.call(this,i,a,c)||this).key=ke.fromName(c.referenceValue),d}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=ke.comparator(i.key,this.key);return this.m(a)},e}(yr),r_=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"in",a)||this).keys=vd(0,a),c}return(0,A.ZT)(e,t),e.prototype.matches=function(i){return this.keys.some(function(a){return a.isEqual(i.key)})},e}(yr),i_=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"not-in",a)||this).keys=vd(0,a),c}return(0,A.ZT)(e,t),e.prototype.matches=function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})},e}(yr);function vd(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(a){return ke.fromName(a.referenceValue)})}var ND=function(t){function e(i,a){return t.call(this,i,"array-contains",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return Qc(a)&&zc(a.arrayValue,this.value)},e}(yr),OD=function(t){function e(i,a){return t.call(this,i,"in",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return null!==a&&zc(this.value.arrayValue,a)},e}(yr),PD=function(t){function e(i,a){return t.call(this,i,"not-in",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!zc(this.value.arrayValue,a)},e}(yr),FD=function(t){function e(i,a){return t.call(this,i,"array-contains-any",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=this,c=i.data.field(this.field);return!(!Qc(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(d){return zc(a.value.arrayValue,d)})},e}(yr),iu=function(t,e){this.position=t,this.before=e};function ou(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Tg(e)}).join(",")}var Bs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function o_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Mg(t,e,i){for(var a=0,c=0;c<t.position.length;c++){var d=e[c],p=t.position[c];if(a=d.field.isKeyField()?ke.comparator(ke.fromName(p.referenceValue),i.key):Wc(p,i.data.field(d.field)),"desc"===d.dir&&(a*=-1),0!==a)break}return t.before?a<=0:a<0}function Ng(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!zr(t.position[i],e.position[i]))return!1;return!0}var ji=function(t,e,i,a,c,d,p,m){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===d&&(d="F"),void 0===p&&(p=null),void 0===m&&(m=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=m,this.p=null,this.T=null};function Og(t,e,i,a,c,d,p,m){return new ji(t,e,i,a,c,d,p,m)}function Hs(t){return new ji(t)}function Yc(t){return!js(t.limit)&&"F"===t.limitType}function Pg(t){return!js(t.limit)&&"L"===t.limitType}function Fg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function kg(t){for(var e=0,i=t.filters;e<i.length;e++){var a=i[e];if(a.g())return a.field}return null}function _d(t){return null!==t.collectionGroup}function su(t){var e=De(t);if(null===e.p){e.p=[];var i=kg(e),a=Fg(e);if(null!==i&&null===a)i.isKeyField()||e.p.push(new Bs(i)),e.p.push(new Bs(qr.keyField(),"asc"));else{for(var c=!1,d=0,p=e.explicitOrderBy;d<p.length;d++){var m=p[d];e.p.push(m),m.field.isKeyField()&&(c=!0)}if(!c){var b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Bs(qr.keyField(),b))}}}return e.p}function Tt(t){var e=De(t);if(!e.T)if("F"===e.limitType)e.T=yd(e.path,e.collectionGroup,su(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],a=0,c=su(e);a<c.length;a++){var d=c[a];i.push(new Bs(d.field,"desc"===d.dir?"asc":"desc"))}var m=e.endAt?new iu(e.endAt.position,!e.endAt.before):null,b=e.startAt?new iu(e.startAt.position,!e.startAt.before):null;e.T=yd(e.path,e.collectionGroup,i,e.filters,e.limit,m,b)}return e.T}function Lg(t,e,i){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Jc(t,e){return nu(Tt(t),Tt(e))&&t.limitType===e.limitType}function s_(t){return tu(Tt(t))+"|lt:"+t.limitType}function bd(t){return"Query(target="+(i=(e=Tt(t)).path.canonicalString(),null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=", filters: ["+e.filters.map(function(a){return(c=a).field.canonicalString()+" "+c.op+" "+Tg(c.value);var c}).join(", ")+"]"),js(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=", orderBy: ["+e.orderBy.map(function(a){return(c=a).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),e.startAt&&(i+=", startAt: "+ou(e.startAt)),e.endAt&&(i+=", endAt: "+ou(e.endAt)),"Target("+i+"); limitType=")+t.limitType+")";var e,i}function Xc(t,e){return e.isFoundDocument()&&(c=(a=e).key.path,null!==(i=t).collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ke.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c))&&function(i,a){for(var c=0,d=i.explicitOrderBy;c<d.length;c++){var p=d[c];if(!p.field.isKeyField()&&null===a.data.field(p.field))return!1}return!0}(t,e)&&function(i,a){for(var c=0,d=i.filters;c<d.length;c++)if(!d[c].matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!Mg(i.startAt,su(i),a)||i.endAt&&Mg(i.endAt,su(i),a))}(t,e);var i,a,c}function Vg(t){return function(e,i){for(var a=!1,c=0,d=su(t);c<d.length;c++){var p=d[c],m=a_(p,e,i);if(0!==m)return m;a=a||p.field.isKeyField()}return 0}}function a_(t,e,i){var c,p,m,b,a=t.field.isKeyField()?ke.comparator(e.key,i.key):(p=i,m=e.data.field(c=t.field),b=p.data.field(c),null!==m&&null!==b?Wc(m,b):Fe());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Fe()}}function $s(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function u_(t){return{integerValue:""+t}}function c_(t,e){return Ig(e)?u_(e):$s(t,e)}var el=function(){this._=void 0};function kD(t,e,i){return t instanceof Gs?(d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(a=i).seconds,nanos:a.nanoseconds}}}},(c=e)&&(d.fields.__previous_value__=c),{mapValue:d}):t instanceof Wo?pi(t,e):t instanceof qs?f_(t,e):function(a,c){var d=LD(a,c),p=Wr(d)+Wr(a.A);return Sg(d)&&Sg(a.A)?u_(p):$s(a.R,p)}(t,e);var a,c,d}function l_(t,e,i){return t instanceof Wo?pi(t,e):t instanceof qs?f_(t,e):i}function LD(t,e){return t instanceof tr?Sg(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e}(el),Wo=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,A.ZT)(e,t),e}(el);function pi(t,e){for(var i=Kr(e),a=function(p){i.some(function(m){return zr(m,p)})||i.push(p)},c=0,d=t.elements;c<d.length;c++)a(d[c]);return{arrayValue:{values:i}}}var qs=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,A.ZT)(e,t),e}(el);function f_(t,e){for(var i=Kr(e),a=function(p){i=i.filter(function(m){return!zr(m,p)})},c=0,d=t.elements;c<d.length;c++)a(d[c]);return{arrayValue:{values:i}}}var tr=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).R=i,c.A=a,c}return(0,A.ZT)(e,t),e}(el);function Wr(t){return hn(t.integerValue||t.doubleValue)}function Kr(t){return Qc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var au=function(t,e){this.field=t,this.transform=e},d_=function(t,e){this.version=t,this.transformResults=e},$n=function(){function t(e,i){this.updateTime=e,this.exists=i}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function wd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ed=function(){};function VD(t,e,i){var a,c,d,p,m;t instanceof rl?(c=e,d=i,p=(a=t).value.clone(),m=il(a.fieldTransforms,c,d.transformResults),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()):t instanceof go?function(a,c,d){if(wd(a.precondition,c)){var p=il(a.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(jg(a)),m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}else c.convertToUnknownDocument(d.version)}(t,e,i):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function tl(t,e,i){var c;t instanceof rl?function(a,c,d){if(wd(a.precondition,c)){var p=a.value.clone(),m=p_(a.fieldTransforms,d,c);p.setAll(m),c.convertToFoundDocument(Ug(c),p).setHasLocalMutations()}}(t,e,i):t instanceof go?function(a,c,d){if(wd(a.precondition,c)){var p=p_(a.fieldTransforms,d,c),m=c.data;m.setAll(jg(a)),m.setAll(p),c.convertToFoundDocument(Ug(c),m).setHasLocalMutations()}}(t,e,i):wd(t.precondition,c=e)&&c.convertToNoDocument(ut.min())}function nl(t,e){for(var i=null,a=0,c=t.fieldTransforms;a<c.length;a++){var d=c[a],p=e.data.field(d.field),m=LD(d.transform,p||null);null!=m&&(null==i&&(i=mr.empty()),i.set(d.field,m))}return i||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===a||i&&a&&Gc(i,a,function(c,d){return(p=c).field.isEqual((m=d).field)&&(E=m.transform,(b=p.transform)instanceof Wo&&E instanceof Wo||b instanceof qs&&E instanceof qs?Gc(b.elements,E.elements,zr):b instanceof tr&&E instanceof tr?zr(b.A,E.A):b instanceof Gs&&E instanceof Gs);var p,m,b,E})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,a}function Ug(t){return t.isFoundDocument()?t.version:ut.min()}var rl=function(t){function e(i,a,c,d){void 0===d&&(d=[]);var p=this;return(p=t.call(this)||this).key=i,p.value=a,p.precondition=c,p.fieldTransforms=d,p.type=0,p}return(0,A.ZT)(e,t),e}(Ed),go=function(t){function e(i,a,c,d,p){void 0===p&&(p=[]);var m=this;return(m=t.call(this)||this).key=i,m.data=a,m.fieldMask=c,m.precondition=d,m.fieldTransforms=p,m.type=1,m}return(0,A.ZT)(e,t),e}(Ed);function jg(t){var e=new Map;return t.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var a=t.data.field(i);e.set(i,a)}}),e}function il(t,e,i){var a=new Map;Ze(t.length===i.length);for(var c=0;c<i.length;c++){var d=t[c],p=d.transform,m=e.data.field(d.field);a.set(d.field,l_(p,m,i[c]))}return a}function p_(t,e,i){for(var a=new Map,c=0,d=t;c<d.length;c++){var p=d[c],m=p.transform,b=i.data.field(p.field);a.set(p.field,kD(m,b,e))}return a}var an,pt,uu=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=2,c.fieldTransforms=[],c}return(0,A.ZT)(e,t),e}(Ed),ol=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=3,c.fieldTransforms=[],c}return(0,A.ZT)(e,t),e}(Ed),g_=function(t){this.count=t};function Bg(t){switch(t){case ee.OK:return Fe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Fe()}}function Hg(t){if(void 0===t)return _n("GRPC error has no .code"),ee.UNKNOWN;switch(t){case an.OK:return ee.OK;case an.CANCELLED:return ee.CANCELLED;case an.UNKNOWN:return ee.UNKNOWN;case an.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case an.INTERNAL:return ee.INTERNAL;case an.UNAVAILABLE:return ee.UNAVAILABLE;case an.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case an.NOT_FOUND:return ee.NOT_FOUND;case an.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case an.ABORTED:return ee.ABORTED;case an.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case an.DATA_LOSS:return ee.DATA_LOSS;default:return Fe()}}(pt=an||(an={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";var Nn=function(){function t(e,i){this.comparator=e,this.root=i||mo.EMPTY}return t.prototype.insert=function(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,mo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mo.BLACK,null,null))},t.prototype.get=function(e){for(var i=this.root;!i.isEmpty();){var a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null},t.prototype.indexOf=function(e){for(var i=0,a=this.root;!a.isEmpty();){var c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(i,a){return e(i,a),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(i,a){return e.push(i+":"+a),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new sl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new sl(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new sl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new sl(this.root,e,this.comparator,!0)},t}(),sl=function(){function t(e,i,a,c){this.isReverse=c,this.nodeStack=[];for(var d=1;!e.isEmpty();)if(d=i?a(e.key,i):1,c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),mo=function(){function t(e,i,a,c,d){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:t.EMPTY,this.right=null!=d?d:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,a,c,d){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=d?d:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,i,a){var c=this,d=a(e,c.key);return(c=d<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,i){var a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return t.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();var e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)},t}();mo.EMPTY=null,mo.RED=!0,mo.BLACK=!1,mo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,i,a,c,d){return this},t.prototype.insert=function(e,i,a){return new mo(e,i)},t.prototype.remove=function(e,i){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var pn=function(){function t(e){this.comparator=e,this.data=new Nn(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.forEachInRange=function(e,i){for(var a=this.data.getIteratorFrom(e[0]);a.hasNext();){var c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}},t.prototype.forEachWhile=function(e,i){var a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null},t.prototype.getIterator=function(){return new $g(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new $g(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var i=this;return i.size<e.size&&(i=e,e=this),e.forEach(function(a){i=i.add(a)}),i},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.data.getIterator(),a=e.data.getIterator();i.hasNext();){var c=i.getNext().key,d=a.getNext().key;if(0!==this.comparator(c,d))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(i){e.push(i)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(i){return e.push(i)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var i=new t(this.comparator);return i.data=e,i},t}(),$g=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),UD=new Nn(ke.comparator);function Qr(){return UD}var jD=new Nn(ke.comparator);function Gg(){return jD}var BD=new Nn(ke.comparator);function m_(){return BD}var HD=new pn(ke.comparator);function At(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=HD,a=0,c=t;a<c.length;a++){var d=c[a];i=i.add(d)}return i}var $D=new pn(ht);function Dd(){return $D}var qg=function(){function t(e,i,a,c,d){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=d}return t.createSynthesizedRemoteEventForCurrentChange=function(e,i){var a=new Map;return a.set(e,zg.createSynthesizedTargetChangeForCurrentChange(e,i)),new t(ut.min(),a,Dd(),Qr(),At())},t}(),zg=function(){function t(e,i,a,c,d){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=d}return t.createSynthesizedTargetChangeForCurrentChange=function(e,i){return new t(er.EMPTY_BYTE_STRING,i,At(),At(),At())},t}(),Cd=function(t,e,i,a){this.v=t,this.removedTargetIds=e,this.key=i,this.P=a},y_=function(t,e){this.targetId=t,this.V=e},v_=function(t,e,i,a){void 0===i&&(i=er.EMPTY_BYTE_STRING),void 0===a&&(a=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a},__=function(){function t(){this.S=0,this.D=Wg(),this.C=er.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=At(),i=At(),a=At();return this.D.forEach(function(c,d){switch(d){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Fe()}}),new zg(this.C,this.N,e,i,a)},t.prototype.L=function(){this.F=!1,this.D=Wg()},t.prototype.B=function(e,i){this.F=!0,this.D=this.D.insert(e,i)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),GD=function(){function t(e){this.W=e,this.G=new Map,this.H=Qr(),this.J=b_(),this.Y=new pn(ht)}return t.prototype.X=function(e){for(var i=0,a=e.v;i<a.length;i++){var c=a[i];e.P&&e.P.isFoundDocument()?this.Z(c,e.P):this.tt(c,e.key,e.P)}for(var d=0,p=e.removedTargetIds;d<p.length;d++)this.tt(c=p[d],e.key,e.P)},t.prototype.et=function(e){var i=this;this.forEachTarget(e,function(a){var c=i.nt(a);switch(e.state){case 0:i.st(a)&&c.O(e.resumeToken);break;case 1:c.K(),c.k||c.L(),c.O(e.resumeToken);break;case 2:c.K(),c.k||i.removeTarget(a);break;case 3:i.st(a)&&(c.j(),c.O(e.resumeToken));break;case 4:i.st(a)&&(i.it(a),c.O(e.resumeToken));break;default:Fe()}})},t.prototype.forEachTarget=function(e,i){var a=this;e.targetIds.length>0?e.targetIds.forEach(i):this.G.forEach(function(c,d){a.st(d)&&i(d)})},t.prototype.rt=function(e){var i=e.targetId,a=e.V.count,c=this.ot(i);if(c){var d=c.target;if(ru(d))if(0===a){var p=new ke(d.path);this.tt(i,p,Mn.newNoDocument(p,ut.min()))}else Ze(1===a);else this.ct(i)!==a&&(this.it(i),this.Y=this.Y.add(i))}},t.prototype.ut=function(e){var i=this,a=new Map;this.G.forEach(function(p,m){var b=i.ot(m);if(b){if(p.current&&ru(b.target)){var E=new ke(b.target.path);null!==i.H.get(E)||i.at(m,E)||i.tt(m,E,Mn.newNoDocument(E,e))}p.$&&(a.set(m,p.M()),p.L())}});var c=At();this.J.forEach(function(p,m){var b=!0;m.forEachWhile(function(E){var C=i.ot(E);return!C||2===C.purpose||(b=!1,!1)}),b&&(c=c.add(p))});var d=new qg(e,a,this.Y,this.H,c);return this.H=Qr(),this.J=b_(),this.Y=new pn(ht),d},t.prototype.Z=function(e,i){if(this.st(e)){var a=this.at(e,i.key)?2:0;this.nt(e).B(i.key,a),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(e))}},t.prototype.tt=function(e,i,a){if(this.st(e)){var c=this.nt(e);this.at(e,i)?c.B(i,1):c.q(i),this.J=this.J.insert(i,this.ht(i).delete(e)),a&&(this.H=this.H.insert(i,a))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var i=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var i=this.G.get(e);return i||(i=new __,this.G.set(e,i)),i},t.prototype.ht=function(e){var i=this.J.get(e);return i||(i=new pn(ht),this.J=this.J.insert(e,i)),i},t.prototype.st=function(e){var i=null!==this.ot(e);return i||be("WatchChangeAggregator","Detected inactive target",e),i},t.prototype.ot=function(e){var i=this.G.get(e);return i&&i.k?null:this.W.lt(e)},t.prototype.it=function(e){var i=this;this.G.set(e,new __),this.W.getRemoteKeysForTarget(e).forEach(function(a){i.tt(e,a,null)})},t.prototype.at=function(e,i){return this.W.getRemoteKeysForTarget(e).has(i)},t}();function b_(){return new Nn(ke.comparator)}function Wg(){return new Nn(ke.comparator)}var w_={asc:"ASCENDING",desc:"DESCENDING"},E_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D_=function(t,e){this.databaseId=t,this.I=e};function cu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kg(t,e){return t.I?e.toBase64():e.toUint8Array()}function C_(t,e){return cu(t,e.toTimestamp())}function bn(t){return Ze(!!t),ut.fromTimestamp((i=zo(t),new gr(i.seconds,i.nanos)));var i}function Id(t,e){return(i=t,new bt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Td(t){var e=bt.fromString(t);return Ze(x_(e)),e}function lu(t,e){return Id(t.databaseId,e.path)}function Gn(t,e){var i=Td(e);if(i.get(1)!==t.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new ke(qD(i))}function Qg(t,e){return Id(t.databaseId,e)}function I_(t){var e=Td(t);return 4===e.length?bt.emptyPath():qD(e)}function Bi(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qD(t){return Ze(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sd(t,e,i){return{name:lu(t,e),fields:i.value.mapValue.fields}}function zD(t,e,i){var a=Gn(t,e.name),c=bn(e.updateTime),d=new mr({mapValue:{fields:e.fields}}),p=Mn.newFoundDocument(a,c,d);return i&&p.setHasCommittedMutations(),i?p.setHasCommittedMutations():p}function al(t,e){var i,c;if(e instanceof rl)i={update:Sd(t,e.key,e.value)};else if(e instanceof uu)i={delete:lu(t,e.key)};else if(e instanceof go)i={update:Sd(t,e.key,e.data),updateMask:Yg(e.fieldMask)};else{if(!(e instanceof ol))return Fe();i={verify:lu(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(function(a){return function(c,d){var p=d.transform;if(p instanceof Gs)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof qs)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tr)return{fieldPath:d.field.canonicalString(),increment:p.A};throw Fe()}(0,a)})),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:C_(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Fe()),i}function Zg(t,e){var E,i=e.currentDocument?void 0!==(E=e.currentDocument).updateTime?$n.updateTime(bn(E.updateTime)):void 0!==E.exists?$n.exists(E.exists):$n.none():$n.none(),a=e.updateTransforms?e.updateTransforms.map(function(E){return function(C,I){var R=null;"setToServerValue"in I?(Ze("REQUEST_TIME"===I.setToServerValue),R=new Gs):"appendMissingElements"in I?R=new Wo(I.appendMissingElements.values||[]):"removeAllFromArray"in I?R=new qs(I.removeAllFromArray.values||[]):"increment"in I?R=new tr(C,I.increment):Fe();var W=qr.fromServerFormat(I.fieldPath);return new au(W,R)}(t,E)}):[];if(e.update){var c=Gn(t,e.update.name),d=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){var p=function(E){return new po((E.fieldPaths||[]).map(function(I){return qr.fromServerFormat(I)}))}(e.updateMask);return new go(c,d,p,i,a)}return new rl(c,d,i,a)}if(e.delete){var m=Gn(t,e.delete);return new uu(m,i)}if(e.verify){var b=Gn(t,e.verify);return new ol(b,i)}return Fe()}function WD(t,e){return{documents:[Qg(t,e.path)]}}function Be(t,e){var i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Qg(t,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Qg(t,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);var c=function(m){if(0!==m.length){var b=m.map(function(E){return function(C){if("=="===C.op){if(Ag(C.value))return{unaryFilter:{field:yo(C.field),op:"IS_NAN"}};if(md(C.value))return{unaryFilter:{field:yo(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(Ag(C.value))return{unaryFilter:{field:yo(C.field),op:"IS_NOT_NAN"}};if(md(C.value))return{unaryFilter:{field:yo(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(C.field),op:Ad(C.op),value:C.value}}}(E)});return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}}(e.filters);c&&(i.structuredQuery.where=c);var d=function(m){if(0!==m.length)return m.map(function(b){return{field:yo((E=b).field),direction:KD(E.dir)};var E})}(e.orderBy);d&&(i.structuredQuery.orderBy=d);var b,p=(b=e.limit,t.I||js(b)?b:{value:b});return null!==p&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=A_(e.startAt)),e.endAt&&(i.structuredQuery.endAt=A_(e.endAt)),i}function T_(t){var e=I_(t.parent),i=t.structuredQuery,a=i.from?i.from.length:0,c=null;if(a>0){Ze(1===a);var d=i.from[0];d.allDescendants?c=d.collectionId:e=e.child(d.collectionId)}var p=[];i.where&&(p=S_(i.where));var m=[];i.orderBy&&(m=i.orderBy.map(function(I){return new Bs(Nt((R=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));var I,R,b=null;i.limit&&(b=js(R="object"==typeof(I=i.limit)?I.value:I)?null:R);var E=null;i.startAt&&(E=ul(i.startAt));var C=null;return i.endAt&&(C=ul(i.endAt)),Og(e,c,m,p,b,"F",E,C)}function S_(t){return t?void 0!==t.unaryFilter?[R_(t)]:void 0!==t.fieldFilter?[jT(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return S_(e)}).reduce(function(e,i){return e.concat(i)}):Fe():[]}function A_(t){return{before:t.before,values:t.position}}function ul(t){return new iu(t.values||[],!!t.before)}function KD(t){return w_[t]}function Ad(t){return E_[t]}function yo(t){return{fieldPath:t.canonicalString()}}function Nt(t){return qr.fromServerFormat(t.fieldPath)}function jT(t){return yr.create(Nt(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function R_(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Nt(t.unaryFilter.field);return yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=Nt(t.unaryFilter.field);return yr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=Nt(t.unaryFilter.field);return yr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=Nt(t.unaryFilter.field);return yr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fe()}}function Yg(t){var e=[];return t.fields.forEach(function(i){return e.push(i.canonicalString())}),{fieldPaths:e}}function x_(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Zr(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=Jg(e)),e=M_(t.get(i),e);return Jg(e)}function M_(t,e){for(var i=e,a=t.length,c=0;c<a;c++){var d=t.charAt(c);switch(d){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=d}}return i}function Jg(t){return t+"\x01\x01"}function Hi(t){var e=t.length;if(Ze(e>=2),2===e)return Ze("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),bt.emptyPath();for(var i=e-2,a=[],c="",d=0;d<e;){var p=t.indexOf("\x01",d);switch((p<0||p>i)&&Fe(),t.charAt(p+1)){case"\x01":var m=t.substring(d,p),b=void 0;0===c.length?b=m:(b=c+=m,c=""),a.push(b);break;case"\x10":c+=t.substring(d,p),c+="\0";break;case"\x11":c+=t.substring(d,p+1);break;default:Fe()}d=p+2}return new bt(a)}var QD=function(t,e){this.seconds=t,this.nanoseconds=e},xr=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};xr.store="owner",xr.key="owner";var Ko=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};Ko.store="mutationQueues",Ko.keyPath="userId";var Rt=function(t,e,i,a,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=c};Rt.store="mutations",Rt.keyPath="batchId",Rt.userMutationsIndex="userMutationsIndex",Rt.userMutationsKeyPath=["userId","batchId"];var qn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,i){return[e,Zr(i)]},t.key=function(e,i,a){return[e,Zr(i),a]},t}();qn.store="documentMutations",qn.PLACEHOLDER=new qn;var ZD=function(t,e){this.path=t,this.readTime=e},YD=function(t,e){this.path=t,this.version=e},Vt=function(t,e,i,a,c,d){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=d};Vt.store="remoteDocuments",Vt.readTimeIndex="readTimeIndex",Vt.readTimeIndexPath="readTime",Vt.collectionReadTimeIndex="collectionReadTimeIndex",Vt.collectionReadTimeIndexPath=["parentPath","readTime"];var gi=function(t){this.byteSize=t};gi.store="remoteDocumentGlobal",gi.key="remoteDocumentGlobalKey";var nr=function(t,e,i,a,c,d,p){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=d,this.query=p};nr.store="targets",nr.keyPath="targetId",nr.queryTargetsIndexName="queryTargetsIndex",nr.queryTargetsKeyPath=["canonicalId","targetId"];var Tn=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};Tn.store="targetDocuments",Tn.keyPath=["targetId","path"],Tn.documentTargetsIndex="documentTargetsIndex",Tn.documentTargetsKeyPath=["path","targetId"];var Mr=function(t,e,i,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=a};Mr.key="targetGlobalKey",Mr.store="targetGlobal";var mi=function(t,e){this.collectionId=t,this.parent=e};mi.store="collectionParents",mi.keyPath=["collectionId","parent"];var Nr=function(t,e,i,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=a};Nr.store="clientMetadata",Nr.keyPath="clientId";var fu=function(t,e,i){this.bundleId=t,this.createTime=e,this.version=i};fu.store="bundles",fu.keyPath="bundleId";var du=function(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i};du.store="namedQueries",du.keyPath="name";var JD=(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],[Ko.store,Rt.store,qn.store,Vt.store,nr.store,xr.store,Mr.store,Tn.store]),[Nr.store])),[gi.store])),[mi.store])),[fu.store,du.store]),Xg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",em=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),On=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},_e=function(){function t(e){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(a){i.isDone=!0,i.result=a,i.nextCallback&&i.nextCallback(a)},function(a){i.isDone=!0,i.error=a,i.catchCallback&&i.catchCallback(a)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,i){var a=this;return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t(function(c,d){a.nextCallback=function(p){a.wrapSuccess(e,p).next(c,d)},a.catchCallback=function(p){a.wrapFailure(i,p).next(c,d)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(i,a){e.next(i,a)})},t.prototype.wrapUserFunction=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(a){return t.reject(a)}},t.prototype.wrapSuccess=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.resolve(i)},t.prototype.wrapFailure=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(i,a){i(e)})},t.reject=function(e){return new t(function(i,a){a(e)})},t.waitFor=function(e){return new t(function(i,a){var c=0,d=0,p=!1;e.forEach(function(m){++c,m.next(function(){++d,p&&d===c&&i()},function(b){return a(b)})}),p=!0,d===c&&i()})},t.or=function(e){for(var i=t.resolve(!1),a=function(p){i=i.next(function(m){return m?t.resolve(m):p()})},c=0,d=e;c<d.length;c++)a(d[c]);return i},t.forEach=function(e,i){var a=this,c=[];return e.forEach(function(d,p){c.push(i.call(a,d,p))}),this.waitFor(c)},t}(),tm=function(){function t(e,i){var a=this;this.action=e,this.transaction=i,this.aborted=!1,this.ft=new On,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){i.error?a.ft.reject(new Rd(e,i.error)):a.ft.resolve()},this.transaction.onerror=function(c){var d=mu(c.target.error);a.ft.reject(new Rd(e,d))}}return t.open=function(e,i,a,c){try{return new t(i,e.transaction(c,a))}catch(d){throw new Rd(i,d)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var i=this.transaction.objectStore(e);return new BT(i)},t}(),hu=function(){function t(e,i,a){this.name=e,this.version=i,this.wt=a,12.2===t._t((0,_t.z$)())&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return be("SimpleDb","Removing database:",e),gu(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,_t.z$)(),i=t._t(e),a=0<i&&i<10,c=t.Et(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||d)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,i){return e.store(i)},t._t=function(e){var i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)},t.Et=function(e){var i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)},t.prototype.At=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i,a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(be("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(d,p){var m=indexedDB.open(a.name,a.version);m.onsuccess=function(b){d(b.target.result)},m.onblocked=function(){p(new Rd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(b){var E=b.target.error;p("VersionError"===E.name?new ge(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Rd(e,E))},m.onupgradeneeded=function(b){be("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',b.oldVersion),a.wt.Rt(b.target.result,m.transaction,b.oldVersion,a.version).next(function(){be("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:i.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(d){return a.bt(d)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(i){return e(i)})},t.prototype.runTransaction=function(e,i,a,c){return(0,A.mG)(this,void 0,void 0,function(){var d,p,m,b,E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:d="readonly"===i,p=0,m=function(){var I,R,O,j,W;return(0,A.Jh)(this,function(le){switch(le.label){case 0:++p,le.label=1;case 1:return le.trys.push([1,4,,5]),[4,b.At(e)];case 2:return b.db=le.sent(),I=tm.open(b.db,e,d?"readonly":"readwrite",a),R=c(I).catch(function(me){return I.abort(me),_e.reject(me)}).toPromise(),O={},R.catch(function(){}),[4,I.dt];case 3:return[2,(O.value=(le.sent(),R),O)];case 4:return be("SimpleDb","Transaction failed with error:",(j=le.sent()).message,"Retrying:",W="FirebaseError"!==j.name&&p<3),b.close(),W?[3,5]:[2,{value:Promise.reject(j)}];case 5:return[2]}})},b=this,C.label=1;case 1:return[5,m()];case 2:if("object"==typeof(E=C.sent()))return[2,E.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),XD=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return gu(this.Pt.delete())},t}(),Rd=function(t){function e(i,a){var c=this;return(c=t.call(this,ee.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+a)||this).name="IndexedDbTransactionError",c}return(0,A.ZT)(e,t),e}(ge);function pu(t){return"IndexedDbTransactionError"===t.name}var BT=function(){function t(e){this.store=e}return t.prototype.put=function(e,i){var a;return void 0!==i?(be("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),gu(a)},t.prototype.add=function(e){return be("SimpleDb","ADD",this.store.name,e,e),gu(this.store.add(e))},t.prototype.get=function(e){var i=this;return gu(this.store.get(e)).next(function(a){return void 0===a&&(a=null),be("SimpleDb","GET",i.store.name,e,a),a})},t.prototype.delete=function(e){return be("SimpleDb","DELETE",this.store.name,e),gu(this.store.delete(e))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),gu(this.store.count())},t.prototype.Nt=function(e,i){var a=this.cursor(this.options(e,i)),c=[];return this.xt(a,function(d,p){c.push(p)}).next(function(){return c})},t.prototype.Ft=function(e,i){be("SimpleDb","DELETE ALL",this.store.name);var a=this.options(e,i);a.kt=!1;var c=this.cursor(a);return this.xt(c,function(d,p,m){return m.delete()})},t.prototype.$t=function(e,i){var a;i?a=e:(a={},i=e);var c=this.cursor(a);return this.xt(c,i)},t.prototype.Ot=function(e){var i=this.cursor({});return new _e(function(a,c){i.onerror=function(d){var p=mu(d.target.error);c(p)},i.onsuccess=function(d){var p=d.target.result;p?e(p.primaryKey,p.value).next(function(m){m?p.continue():a()}):a()}})},t.prototype.xt=function(e,i){var a=[];return new _e(function(c,d){e.onerror=function(p){d(p.target.error)},e.onsuccess=function(p){var m=p.target.result;if(m){var b=new XD(m),E=i(m.primaryKey,m.value,b);if(E instanceof _e){var C=E.catch(function(I){return b.done(),_e.reject(I)});a.push(C)}b.isDone?c():null===b.Dt?m.continue():m.continue(b.Dt)}else c()}}).next(function(){return _e.waitFor(a)})},t.prototype.options=function(e,i){var a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}},t.prototype.cursor=function(e){var i="next";if(e.reverse&&(i="prev"),e.index){var a=this.store.index(e.index);return e.kt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)},t}();function gu(t){return new _e(function(e,i){t.onsuccess=function(a){e(a.target.result)},t.onerror=function(a){var c=mu(a.target.error);i(c)}})}var nm=!1;function mu(t){var e=hu._t((0,_t.z$)());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var a=new ge("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nm||(nm=!0,setTimeout(function(){throw a},0)),a}}return t}var N_=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Mt=i,c.currentSequenceNumber=a,c}return(0,A.ZT)(e,t),e}(em);function vr(t,e){var i=De(t);return hu.It(i.Mt,e)}var xd=function(){function t(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}return t.prototype.applyToRemoteDocument=function(e,i){for(var a=i.mutationResults,c=0;c<this.mutations.length;c++){var d=this.mutations[c];d.key.isEqual(e.key)&&VD(d,e,a[c])}},t.prototype.applyToLocalView=function(e){for(var i=0,a=this.baseMutations;i<a.length;i++)(p=a[i]).key.isEqual(e.key)&&tl(p,e,this.localWriteTime);for(var c=0,d=this.mutations;c<d.length;c++){var p;(p=d[c]).key.isEqual(e.key)&&tl(p,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var i=this;this.mutations.forEach(function(a){var c=e.get(a.key),d=c;i.applyToLocalView(d),c.isValidDocument()||d.convertToNoDocument(ut.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,i){return e.add(i.key)},At())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,function(i,a){return h_(i,a)})&&Gc(this.baseMutations,e.baseMutations,function(i,a){return h_(i,a)})},t}(),cl=function(){function t(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}return t.from=function(e,i,a){Ze(e.mutations.length===a.length);for(var c=m_(),d=e.mutations,p=0;p<d.length;p++)c=c.insert(d[p].key,a[p].version);return new t(e,i,a,c)},t}(),Md=function(){function t(e,i,a,c,d,p,m){void 0===d&&(d=ut.min()),void 0===p&&(p=ut.min()),void 0===m&&(m=er.EMPTY_BYTE_STRING),this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=m}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),O_=function(t){this.Lt=t};function rm(t,e){if(e.document)return zD(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=ke.fromSegments(e.noDocument.path),a=vu(e.noDocument.readTime),c=Mn.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){var d=ke.fromSegments(e.unknownDocument.path);return a=vu(e.unknownDocument.version),Mn.newUnknownDocument(d,a)}return Fe()}function P_(t,e,i){var I,R,a=im(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){var d={name:lu(I=t.Lt,(R=e).key),fields:R.data.value.mapValue.fields,updateTime:cu(I,R.version.toTimestamp())},p=e.hasCommittedMutations;return new Vt(null,null,d,p,a,c)}if(e.isNoDocument()){var m=e.key.path.toArray(),b=yu(e.version);return p=e.hasCommittedMutations,new Vt(null,new ZD(m,b),null,p,a,c)}if(e.isUnknownDocument()){var E=e.key.path.toArray(),C=yu(e.version);return new Vt(new YD(E,C),null,null,!0,a,c)}return Fe()}function im(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function om(t){var e=new gr(t[0],t[1]);return ut.fromTimestamp(e)}function yu(t){var e=t.toTimestamp();return new QD(e.seconds,e.nanoseconds)}function vu(t){var e=new gr(t.seconds,t.nanoseconds);return ut.fromTimestamp(e)}function yi(t,e){for(var i=(e.baseMutations||[]).map(function(b){return Zg(t.Lt,b)}),a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);var p=e.mutations.map(function(b){return Zg(t.Lt,b)}),m=gr.fromMillis(e.localWriteTimeMs);return new xd(e.batchId,m,i,p)}function ll(t){var e,i,a=vu(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?vu(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(Ze(1===(i=t.query).documents.length),e=Tt(Hs(I_(i.documents[0])))):e=Tt(T_(t.query)),new Md(e,t.targetId,0,t.lastListenSequenceNumber,a,c,er.fromBase64String(t.resumeToken))}function sm(t,e){var i,a=yu(e.snapshotVersion),c=yu(e.lastLimboFreeSnapshotVersion);i=ru(e.target)?WD(t.Lt,e.target):Be(t.Lt,e.target);var d=e.resumeToken.toBase64();return new nr(e.targetId,tu(e.target),a,d,e.sequenceNumber,c,i)}function am(t){var e=T_({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Lg(e,e.limit,"L"):e}var F_=function(){function t(){}return t.prototype.getBundleMetadata=function(e,i){return k_(e).get(i).next(function(a){if(a)return{id:(c=a).bundleId,createTime:vu(c.createTime),version:c.version};var c})},t.prototype.saveBundleMetadata=function(e,i){return k_(e).put({bundleId:(a=i).id,createTime:yu(bn(a.createTime)),version:a.version});var a},t.prototype.getNamedQuery=function(e,i){return um(e).get(i).next(function(a){if(a)return{name:(c=a).name,query:am(c.bundledQuery),readTime:vu(c.readTime)};var c})},t.prototype.saveNamedQuery=function(e,i){return um(e).put({name:(a=i).name,readTime:yu(bn(a.readTime)),bundledQuery:a.bundledQuery});var a},t}();function k_(t){return vr(t,fu.store)}function um(t){return vr(t,du.store)}var eC=function(){function t(){this.Bt=new fl}return t.prototype.addToCollectionParentIndex=function(e,i){return this.Bt.add(i),_e.resolve()},t.prototype.getCollectionParents=function(e,i){return _e.resolve(this.Bt.getEntries(i))},t}(),fl=function(){function t(){this.index={}}return t.prototype.add=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new pn(bt.comparator),d=!c.has(a);return this.index[i]=c.add(a),d},t.prototype.has=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)},t.prototype.getEntries=function(e){return(this.index[e]||new pn(bt.comparator)).toArray()},t}(),tC=function(){function t(){this.qt=new fl}return t.prototype.addToCollectionParentIndex=function(e,i){var a=this;if(!this.qt.has(i)){var c=i.lastSegment(),d=i.popLast();e.addOnCommittedListener(function(){a.qt.add(i)});var p={collectionId:c,parent:Zr(d)};return cm(e).put(p)}return _e.resolve()},t.prototype.getCollectionParents=function(e,i){var a=[],c=IDBKeyRange.bound([i,""],[SD(i),""],!1,!0);return cm(e).Nt(c).next(function(d){for(var p=0,m=d;p<m.length;p++){var b=m[p];if(b.collectionId!==i)break;a.push(Hi(b.parent))}return a})},t}();function cm(t){return vr(t,mi.store)}var lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$i=function(){function t(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function L_(t,e,i){var a=t.store(Rt.store),c=t.store(qn.store),d=[],p=IDBKeyRange.only(i.batchId),m=0,b=a.$t({range:p},function(j,W,le){return m++,le.delete()});d.push(b.next(function(){Ze(1===m)}));for(var E=[],C=0,I=i.mutations;C<I.length;C++){var R=I[C],O=qn.key(e,R.key.path,i.batchId);d.push(c.delete(O)),E.push(R.key)}return _e.waitFor(d).next(function(){return E})}function Nd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fe();e=t.noDocument}return JSON.stringify(e).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);var fm=function(){function t(e,i,a,c){this.userId=e,this.R=i,this.Ut=a,this.referenceDelegate=c,this.Kt={}}return t.Qt=function(e,i,a,c){return Ze(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",i,a,c)},t.prototype.checkEmpty=function(e){var i=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).$t({index:Rt.userMutationsIndex,range:a},function(c,d,p){i=!1,p.done()}).next(function(){return i})},t.prototype.addMutationBatch=function(e,i,a,c){var d=this,p=_u(e),m=vo(e);return m.add({}).next(function(b){Ze("number"==typeof b);for(var E=new xd(b,i,a,c),C=function(me,Ie,Te){var We=Te.baseMutations.map(function(gt){return al(me.Lt,gt)}),Oe=Te.mutations.map(function(gt){return al(me.Lt,gt)});return new Rt(Ie,Te.batchId,Te.localWriteTime.toMillis(),We,Oe)}(d.R,d.userId,E),I=[],R=new pn(function(me,Ie){return ht(me.canonicalString(),Ie.canonicalString())}),O=0,j=c;O<j.length;O++){var W=j[O],le=qn.key(d.userId,W.key.path,b);R=R.add(W.key.path.popLast()),I.push(m.put(C)),I.push(p.put(le,qn.PLACEHOLDER))}return R.forEach(function(me){I.push(d.Ut.addToCollectionParentIndex(e,me))}),e.addOnCommittedListener(function(){d.Kt[b]=E.keys()}),_e.waitFor(I).next(function(){return E})})},t.prototype.lookupMutationBatch=function(e,i){var a=this;return vo(e).get(i).next(function(c){return c?(Ze(c.userId===a.userId),yi(a.R,c)):null})},t.prototype.jt=function(e,i){var a=this;return this.Kt[i]?_e.resolve(this.Kt[i]):this.lookupMutationBatch(e,i).next(function(c){if(c){var d=c.keys();return a.Kt[i]=d,d}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var a=this,c=i+1,d=IDBKeyRange.lowerBound([this.userId,c]),p=null;return vo(e).$t({index:Rt.userMutationsIndex,range:d},function(m,b,E){b.userId===a.userId&&(Ze(b.batchId>=c),p=yi(a.R,b)),E.done()}).next(function(){return p})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return vo(e).$t({index:Rt.userMutationsIndex,range:i,reverse:!0},function(c,d,p){a=d.batchId,p.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(e){var i=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vo(e).Nt(Rt.userMutationsIndex,a).next(function(c){return c.map(function(d){return yi(i.R,d)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=qn.prefixForPath(this.userId,i.path),d=IDBKeyRange.lowerBound(c),p=[];return _u(e).$t({range:d},function(m,b,E){var C=m[0],R=m[2],O=Hi(m[1]);if(C===a.userId&&i.path.isEqual(O))return vo(e).get(R).next(function(j){if(!j)throw Fe();Ze(j.userId===a.userId),p.push(yi(a.R,j))});E.done()}).next(function(){return p})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new pn(ht),d=[];return i.forEach(function(p){var m=qn.prefixForPath(a.userId,p.path),b=IDBKeyRange.lowerBound(m),E=_u(e).$t({range:b},function(C,I,R){var O=C[0],W=C[2],le=Hi(C[1]);O===a.userId&&p.path.isEqual(le)?c=c.add(W):R.done()});d.push(E)}),_e.waitFor(d).next(function(){return a.Wt(e,c)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=this,c=i.path,d=c.length+1,p=qn.prefixForPath(this.userId,c),m=IDBKeyRange.lowerBound(p),b=new pn(ht);return _u(e).$t({range:m},function(E,C,I){var R=E[0],j=E[2],W=Hi(E[1]);R===a.userId&&c.isPrefixOf(W)?W.length===d&&(b=b.add(j)):I.done()}).next(function(){return a.Wt(e,b)})},t.prototype.Wt=function(e,i){var a=this,c=[],d=[];return i.forEach(function(p){d.push(vo(e).get(p).next(function(m){if(null===m)throw Fe();Ze(m.userId===a.userId),c.push(yi(a.R,m))}))}),_e.waitFor(d).next(function(){return c})},t.prototype.removeMutationBatch=function(e,i){var a=this;return L_(e.Mt,this.userId,i).next(function(c){return e.addOnCommittedListener(function(){a.Gt(i.batchId)}),_e.forEach(c,function(d){return a.referenceDelegate.markPotentiallyOrphaned(e,d)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(a){if(!a)return _e.resolve();var c=IDBKeyRange.lowerBound(qn.prefixForUser(i.userId)),d=[];return _u(e).$t({range:c},function(p,m,b){if(p[0]===i.userId){var E=Hi(p[1]);d.push(E)}else b.done()}).next(function(){Ze(0===d.length)})})},t.prototype.containsKey=function(e,i){return V_(e,this.userId,i)},t.prototype.zt=function(e){var i=this;return U_(e).get(this.userId).next(function(a){return a||new Ko(i.userId,-1,"")})},t}();function V_(t,e,i){var a=qn.prefixForPath(e,i.path),c=a[1],d=IDBKeyRange.lowerBound(a),p=!1;return _u(t).$t({range:d,kt:!0},function(m,b,E){m[0]===e&&m[1]===c&&(p=!0),E.done()}).next(function(){return p})}function vo(t){return vr(t,Rt.store)}function _u(t){return vr(t,qn.store)}function U_(t){return vr(t,Ko.store)}var Od=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),nC=function(){function t(e,i){this.referenceDelegate=e,this.R=i}return t.prototype.allocateTargetId=function(e){var i=this;return this.Xt(e).next(function(a){var c=new Od(a.highestTargetId);return a.highestTargetId=c.next(),i.Zt(e,a).next(function(){return a.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(i){return ut.fromTimestamp(new gr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(i){return i.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,i,a){var c=this;return this.Xt(e).next(function(d){return d.highestListenSequenceNumber=i,a&&(d.lastRemoteSnapshotVersion=a.toTimestamp()),i>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=i),c.Zt(e,d)})},t.prototype.addTargetData=function(e,i){var a=this;return this.te(e,i).next(function(){return a.Xt(e).next(function(c){return c.targetCount+=1,a.ee(i,c),a.Zt(e,c)})})},t.prototype.updateTargetData=function(e,i){return this.te(e,i)},t.prototype.removeTargetData=function(e,i){var a=this;return this.removeMatchingKeysForTargetId(e,i.targetId).next(function(){return bu(e).delete(i.targetId)}).next(function(){return a.Xt(e)}).next(function(c){return Ze(c.targetCount>0),c.targetCount-=1,a.Zt(e,c)})},t.prototype.removeTargets=function(e,i,a){var c=this,d=0,p=[];return bu(e).$t(function(m,b){var E=ll(b);E.sequenceNumber<=i&&null===a.get(E.targetId)&&(d++,p.push(c.removeTargetData(e,E)))}).next(function(){return _e.waitFor(p)}).next(function(){return d})},t.prototype.forEachTarget=function(e,i){return bu(e).$t(function(a,c){var d=ll(c);i(d)})},t.prototype.Xt=function(e){return j_(e).get(Mr.key).next(function(i){return Ze(null!==i),i})},t.prototype.Zt=function(e,i){return j_(e).put(Mr.key,i)},t.prototype.te=function(e,i){return bu(e).put(sm(this.R,i))},t.prototype.ee=function(e,i){var a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(i){return i.targetCount})},t.prototype.getTargetData=function(e,i){var a=tu(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),d=null;return bu(e).$t({range:c,index:nr.queryTargetsIndexName},function(p,m,b){var E=ll(m);nu(i,E.target)&&(d=E,b.done())}).next(function(){return d})},t.prototype.addMatchingKeys=function(e,i,a){var c=this,d=[],p=Qo(e);return i.forEach(function(m){var b=Zr(m.path);d.push(p.put(new Tn(a,b))),d.push(c.referenceDelegate.addReference(e,a,m))}),_e.waitFor(d)},t.prototype.removeMatchingKeys=function(e,i,a){var c=this,d=Qo(e);return _e.forEach(i,function(p){var m=Zr(p.path);return _e.waitFor([d.delete([a,m]),c.referenceDelegate.removeReference(e,a,p)])})},t.prototype.removeMatchingKeysForTargetId=function(e,i){var a=Qo(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Qo(e),d=At();return c.$t({range:a,kt:!0},function(p,m,b){var E=Hi(p[1]),C=new ke(E);d=d.add(C)}).next(function(){return d})},t.prototype.containsKey=function(e,i){var a=Zr(i.path),c=IDBKeyRange.bound([a],[SD(a)],!1,!0),d=0;return Qo(e).$t({index:Tn.documentTargetsIndex,kt:!0,range:c},function(p,m,b){0!==p[0]&&(d++,b.done())}).next(function(){return d>0})},t.prototype.lt=function(e,i){return bu(e).get(i).next(function(a){return a?ll(a):null})},t}();function bu(t){return vr(t,nr.store)}function j_(t){return vr(t,Mr.store)}function Qo(t){return vr(t,Tn.store)}function zs(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){if(t.code!==ee.FAILED_PRECONDITION||t.message!==Xg)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]})})}function dm(t,e){var a=t[1],d=e[1],p=ht(t[0],e[0]);return 0===p?ht(a,d):p}var B_=function(){function t(e){this.ne=e,this.buffer=new pn(dm),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var i=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var a=this.buffer.last();dm(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),rC=function(){function t(e,i){this.garbageCollector=e,this.asyncQueue=i,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var i=this,a=this.oe?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return(0,A.mG)(i,void 0,void 0,function(){var c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:this.ce=null,this.oe=!0,d.label=1;case 1:return d.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return d.sent(),[3,7];case 3:return pu(c=d.sent())?(be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,zs(c)];case 5:d.sent(),d.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return d.sent(),[2]}})})})},t}(),iC=function(){function t(e,i){this.ae=e,this.params=i}return t.prototype.calculateTargetCount=function(e,i){return this.ae.he(e).next(function(a){return Math.floor(i/100*a)})},t.prototype.nthSequenceNumber=function(e,i){var a=this;if(0===i)return _e.resolve(Rr.o);var c=new B_(i);return this.ae.forEachTarget(e,function(d){return c.re(d.sequenceNumber)}).next(function(){return a.ae.le(e,function(d){return c.re(d)})}).next(function(){return c.maxValue})},t.prototype.removeTargets=function(e,i,a){return this.ae.removeTargets(e,i,a)},t.prototype.removeOrphanedDocuments=function(e,i){return this.ae.removeOrphanedDocuments(e,i)},t.prototype.collect=function(e,i){var a=this;return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(lm)):this.getCacheSize(e).next(function(c){return c<a.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),lm):a.fe(e,i)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,i){var a,c,d,p,m,b,E,C=this,I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(R){return R>C.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+R),c=C.params.maximumSequenceNumbersToCollect):c=R,p=Date.now(),C.nthSequenceNumber(e,c)}).next(function(R){return a=R,m=Date.now(),C.removeTargets(e,a,i)}).next(function(R){return d=R,b=Date.now(),C.removeOrphanedDocuments(e,a)}).next(function(R){return E=Date.now(),Y0()<=Xn.in.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(p-I)+"ms\n\tDetermined least recently used "+c+" in "+(m-p)+"ms\n\tRemoved "+d+" targets in "+(b-m)+"ms\n\tRemoved "+R+" documents in "+(E-b)+"ms\nTotal Duration: "+(E-I)+"ms"),_e.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:R})})},t}(),H_=function(){function t(e,i){this.db=e,this.garbageCollector=new iC(this,i)}return t.prototype.he=function(e){var i=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(a){return i.next(function(c){return a+c})})},t.prototype.de=function(e){var i=0;return this.le(e,function(a){i++}).next(function(){return i})},t.prototype.forEachTarget=function(e,i){return this.db.getTargetCache().forEachTarget(e,i)},t.prototype.le=function(e,i){return this.we(e,function(a,c){return i(c)})},t.prototype.addReference=function(e,i,a){return Pd(e,a)},t.prototype.removeReference=function(e,i,a){return Pd(e,a)},t.prototype.removeTargets=function(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)},t.prototype.markPotentiallyOrphaned=function(e,i){return Pd(e,i)},t.prototype._e=function(e,i){return c=i,d=!1,U_(a=e).Ot(function(p){return V_(a,p,c).next(function(m){return m&&(d=!0),_e.resolve(!m)})}).next(function(){return d});var a,c,d},t.prototype.removeOrphanedDocuments=function(e,i){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],p=0;return this.we(e,function(m,b){if(b<=i){var E=a._e(e,m).next(function(C){if(!C)return p++,c.getEntry(e,m).next(function(){return c.removeEntry(m),Qo(e).delete([0,Zr(m.path)])})});d.push(E)}}).next(function(){return _e.waitFor(d)}).next(function(){return c.apply(e)}).next(function(){return p})},t.prototype.removeTarget=function(e,i){var a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)},t.prototype.updateLimboDocument=function(e,i){return Pd(e,i)},t.prototype.we=function(e,i){var a,c=Qo(e),d=Rr.o;return c.$t({index:Tn.documentTargetsIndex},function(p,m){var E=m.path,C=m.sequenceNumber;0===p[0]?(d!==Rr.o&&i(new ke(Hi(a)),d),d=C,a=E):d=Rr.o}).next(function(){d!==Rr.o&&i(new ke(Hi(a)),d)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Pd(t,e){return Qo(t).put((a=t.currentSequenceNumber,new Tn(0,Zr(e.path),a)));var a}var wu=function(){function t(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}return t.prototype.get=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(var c=0,d=a;c<d.length;c++){var p=d[c],b=p[1];if(this.equalsFn(p[0],e))return b}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,i){var a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(var d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]},t.prototype.delete=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1},t.prototype.forEach=function(e){Vs(this.inner,function(i,a){for(var c=0,d=a;c<d.length;c++){var p=d[c];e(p[0],p[1])}})},t.prototype.isEmpty=function(){return Us(this.inner)},t}(),$_=function(){function t(){this.changes=new wu(function(e){return e.toString()},function(e,i){return e.isEqual(i)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var i=this.changes.get(e);return i?i.readTime:ut.min()},t.prototype.addEntry=function(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})},t.prototype.removeEntry=function(e,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(e,{document:Mn.newInvalidDocument(e),readTime:i})},t.prototype.getEntry=function(e,i){this.assertNotApplied();var a=this.changes.get(i);return void 0!==a?_e.resolve(a.document):this.getFromCache(e,i)},t.prototype.getEntries=function(e,i){return this.getAllFromCache(e,i)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),hm=function(){function t(e,i){this.R=e,this.Ut=i}return t.prototype.addEntry=function(e,i,a){return Gi(e).put(Fd(i),a)},t.prototype.removeEntry=function(e,i){var a=Gi(e),c=Fd(i);return a.delete(c)},t.prototype.updateMetadata=function(e,i){var a=this;return this.getMetadata(e).next(function(c){return c.byteSize+=i,a.me(e,c)})},t.prototype.getEntry=function(e,i){var a=this;return Gi(e).get(Fd(i)).next(function(c){return a.ye(i,c)})},t.prototype.ge=function(e,i){var a=this;return Gi(e).get(Fd(i)).next(function(c){return{document:a.ye(i,c),size:Nd(c)}})},t.prototype.getEntries=function(e,i){var a=this,c=Qr();return this.pe(e,i,function(d,p){var m=a.ye(d,p);c=c.insert(d,m)}).next(function(){return c})},t.prototype.Ee=function(e,i){var a=this,c=Qr(),d=new Nn(ke.comparator);return this.pe(e,i,function(p,m){var b=a.ye(p,m);c=c.insert(p,b),d=d.insert(p,Nd(m))}).next(function(){return{documents:c,Te:d}})},t.prototype.pe=function(e,i,a){if(i.isEmpty())return _e.resolve();var c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),d=i.getIterator(),p=d.getNext();return Gi(e).$t({range:c},function(m,b,E){for(var C=ke.fromSegments(m);p&&ke.comparator(p,C)<0;)a(p,null),p=d.getNext();p&&p.isEqual(C)&&(a(p,b),p=d.hasNext()?d.getNext():null),p?E.Ct(p.path.toArray()):E.done()}).next(function(){for(;p;)a(p,null),p=d.hasNext()?d.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){var c=this,d=Qr(),p=i.path.length+1,m={};if(a.isEqual(ut.min())){var b=i.path.toArray();m.range=IDBKeyRange.lowerBound(b)}else{var E=i.path.toArray(),C=im(a);m.range=IDBKeyRange.lowerBound([E,C],!0),m.index=Vt.collectionReadTimeIndex}return Gi(e).$t(m,function(I,R,O){if(I.length===p){var j=rm(c.R,R);i.path.isPrefixOf(j.key.path)?Xc(i,j)&&(d=d.insert(j.key,j)):O.done()}}).next(function(){return d})},t.prototype.newChangeBuffer=function(e){return new pm(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(i){return i.byteSize})},t.prototype.getMetadata=function(e){return gm(e).get(gi.key).next(function(i){return Ze(!!i),i})},t.prototype.me=function(e,i){return gm(e).put(gi.key,i)},t.prototype.ye=function(e,i){if(i){var a=rm(this.R,i);if(!a.isNoDocument()||!a.version.isEqual(ut.min()))return a}return Mn.newInvalidDocument(e)},t}(),pm=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Ie=i,c.trackRemovals=a,c.Ae=new wu(function(d){return d.toString()},function(d,p){return d.isEqual(p)}),c}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[],d=0,p=new pn(function(m,b){return ht(m.canonicalString(),b.canonicalString())});return this.changes.forEach(function(m,b){var E=a.Ae.get(m);if(b.document.isValidDocument()){var C=P_(a.Ie.R,b.document,a.getReadTime(m));p=p.add(m.path.popLast());var I=Nd(C);d+=I-E,c.push(a.Ie.addEntry(i,m,C))}else if(d-=E,a.trackRemovals){var R=P_(a.Ie.R,Mn.newNoDocument(m,ut.min()),a.getReadTime(m));c.push(a.Ie.addEntry(i,m,R))}else c.push(a.Ie.removeEntry(i,m))}),p.forEach(function(m){c.push(a.Ie.Ut.addToCollectionParentIndex(i,m))}),c.push(this.Ie.updateMetadata(i,d)),_e.waitFor(c)},e.prototype.getFromCache=function(i,a){var c=this;return this.Ie.ge(i,a).next(function(d){return c.Ae.set(a,d.size),d.document})},e.prototype.getAllFromCache=function(i,a){var c=this;return this.Ie.Ee(i,a).next(function(d){var p=d.documents;return d.Te.forEach(function(m,b){c.Ae.set(m,b)}),p})},e}($_);function gm(t){return vr(t,gi.store)}function Gi(t){return vr(t,Vt.store)}function Fd(t){return t.path.toArray()}var oC=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,i,a,c){var d=this;Ze(a<c&&a>=0&&c<=11);var b,p=new tm("createOrUpgrade",i);a<1&&c>=1&&(e.createObjectStore(xr.store),(b=e).createObjectStore(Ko.store,{keyPath:Ko.keyPath}),b.createObjectStore(Rt.store,{keyPath:Rt.keyPath,autoIncrement:!0}).createIndex(Rt.userMutationsIndex,Rt.userMutationsKeyPath,{unique:!0}),b.createObjectStore(qn.store),kd(e),function(b){b.createObjectStore(Vt.store)}(e));var m=_e.resolve();return a<3&&c>=3&&(0!==a&&(function(b){b.deleteObjectStore(Tn.store),b.deleteObjectStore(nr.store),b.deleteObjectStore(Mr.store)}(e),kd(e)),m=m.next(function(){return function(b){var E=b.store(Mr.store),C=new Mr(0,0,ut.min().toTimestamp(),0);return E.put(Mr.key,C)}(p)})),a<4&&c>=4&&(0!==a&&(m=m.next(function(){return function(b,E){return E.store(Rt.store).Nt().next(function(C){b.deleteObjectStore(Rt.store),b.createObjectStore(Rt.store,{keyPath:Rt.keyPath,autoIncrement:!0}).createIndex(Rt.userMutationsIndex,Rt.userMutationsKeyPath,{unique:!0});var I=E.store(Rt.store),R=C.map(function(O){return I.put(O)});return _e.waitFor(R)})}(e,p)})),m=m.next(function(){!function(b){b.createObjectStore(Nr.store,{keyPath:Nr.keyPath})}(e)})),a<5&&c>=5&&(m=m.next(function(){return d.Re(p)})),a<6&&c>=6&&(m=m.next(function(){return function(b){b.createObjectStore(gi.store)}(e),d.be(p)})),a<7&&c>=7&&(m=m.next(function(){return d.ve(p)})),a<8&&c>=8&&(m=m.next(function(){return d.Pe(e,p)})),a<9&&c>=9&&(m=m.next(function(){(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(e),function(b){var E=b.objectStore(Vt.store);E.createIndex(Vt.readTimeIndex,Vt.readTimeIndexPath,{unique:!1}),E.createIndex(Vt.collectionReadTimeIndex,Vt.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(m=m.next(function(){return d.Ve(p)})),a<11&&c>=11&&(m=m.next(function(){(function(b){b.createObjectStore(fu.store,{keyPath:fu.keyPath})})(e),function(b){b.createObjectStore(du.store,{keyPath:du.keyPath})}(e)})),m},t.prototype.be=function(e){var i=0;return e.store(Vt.store).$t(function(a,c){i+=Nd(c)}).next(function(){var a=new gi(i);return e.store(gi.store).put(gi.key,a)})},t.prototype.Re=function(e){var i=this,a=e.store(Ko.store),c=e.store(Rt.store);return a.Nt().next(function(d){return _e.forEach(d,function(p){var m=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return c.Nt(Rt.userMutationsIndex,m).next(function(b){return _e.forEach(b,function(E){Ze(E.userId===p.userId);var C=yi(i.R,E);return L_(e,p.userId,C).next(function(){})})})})})},t.prototype.ve=function(e){var i=e.store(Tn.store),a=e.store(Vt.store);return e.store(Mr.store).get(Mr.key).next(function(c){var d=[];return a.$t(function(p,m){var b=new bt(p),E=[0,Zr(b)];d.push(i.get(E).next(function(C){return C?_e.resolve():i.put(new Tn(0,Zr(b),c.highestListenSequenceNumber))}))}).next(function(){return _e.waitFor(d)})})},t.prototype.Pe=function(e,i){e.createObjectStore(mi.store,{keyPath:mi.keyPath});var a=i.store(mi.store),c=new fl,d=function(p){if(c.add(p)){var m=p.lastSegment(),b=p.popLast();return a.put({collectionId:m,parent:Zr(b)})}};return i.store(Vt.store).$t({kt:!0},function(p,m){var b=new bt(p);return d(b.popLast())}).next(function(){return i.store(qn.store).$t({kt:!0},function(p,m){var E=Hi(p[1]);return d(E.popLast())})})},t.prototype.Ve=function(e){var i=this,a=e.store(nr.store);return a.$t(function(c,d){var p=ll(d),m=sm(i.R,p);return a.put(m)})},t}();function kd(t){t.createObjectStore(Tn.store,{keyPath:Tn.keyPath}).createIndex(Tn.documentTargetsIndex,Tn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(nr.store,{keyPath:nr.keyPath}).createIndex(nr.queryTargetsIndexName,nr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mr.store)}var mm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sC=function(){function t(e,i,a,c,d,p,m,b,E,C){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Se=d,this.window=p,this.document=m,this.De=E,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(I){return Promise.resolve()},!t.yt())throw new ge(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H_(this,c),this.Le=i+"main",this.R=new O_(b),this.Be=new hu(this.Le,11,new oC(this.R)),this.qe=new nC(this.referenceDelegate,this.R),this.Ut=new tC,this.Ue=new hm(this.R,this.Ut),this.Ke=new F_,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&_n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,mm);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return e.qe.getHighestSequenceNumber(i)})}).then(function(i){e.Ne=new Rr(i,e.De)}).then(function(){e.xe=!0}).catch(function(i){return e.Be&&e.Be.close(),Promise.reject(i)})},t.prototype.He=function(e){var i=this;return this.Me=function(a){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(c){return this.started?[2,e(a)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var i=this;this.Be.vt(function(a){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(c){switch(c.label){case 0:return null===a.newVersion?[4,e()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return hl(i).put(new Nr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(i).next(function(a){a||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(i)}).next(function(a){return e.isPrimary&&!a?e.Xe(i).next(function(){return!1}):!!a&&e.Ze(i).next(function(){return!0})})}).catch(function(i){if(pu(i))return be("IndexedDbPersistence","Failed to extend owner lease: ",i),e.isPrimary;if(!e.allowTabSynchronization)throw i;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){e.isPrimary!==i&&e.Se.enqueueRetryable(function(){return e.Me(i)}),e.isPrimary=i})},t.prototype.Je=function(e){var i=this;return dl(e).get(xr.key).next(function(a){return _e.resolve(i.tn(a))})},t.prototype.en=function(e){return hl(e).delete(this.clientId)},t.prototype.nn=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,d=this;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var b=vr(m,Nr.store);return b.Nt().next(function(E){var C=d.rn(E,18e5),I=E.filter(function(R){return-1===C.indexOf(R)});return _e.forEach(I,function(R){return b.delete(R.clientId)}).next(function(){return I})})}).catch(function(){return[]})]);case 1:if(e=p.sent(),this.Qe)for(i=0,a=e;i<a.length;i++)this.Qe.removeItem(this.on(a[i].clientId));p.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var i=this;return this.Ce?_e.resolve(!0):dl(e).get(xr.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)){if(i.tn(a)&&i.networkEnabled)return!0;if(!i.tn(a)){if(!a.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,mm);return!1}}return!(!i.networkEnabled||!i.inForeground)||hl(e).Nt().next(function(c){return void 0===i.rn(c,5e3).find(function(d){return!(i.clientId===d.clientId||!(!i.networkEnabled&&d.networkEnabled||!i.inForeground&&d.inForeground&&i.networkEnabled===d.networkEnabled))})})}).next(function(a){return i.isPrimary!==a&&be("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},t.prototype.shutdown=function(){return(0,A.mG)(this,void 0,void 0,function(){var e=this;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[xr.store,Nr.store],function(a){var c=new N_(a,Rr.o);return e.Xe(c).next(function(){return e.en(c)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,i){var a=this;return e.filter(function(c){return a.sn(c.updateTimeMs,i)&&!a.cn(c.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(i){return hl(i).Nt().next(function(a){return e.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return fm.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var d,c=this;return be("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===i?"readonly":"readwrite",JD,function(m){return d=new N_(m,c.Ne?c.Ne.next():Rr.o),"readwrite-primary"===i?c.Je(d).next(function(b){return!!b||c.Ye(d)}).next(function(b){if(!b)throw _n("Failed to obtain primary lease for action '"+e+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new ge(ee.FAILED_PRECONDITION,Xg);return a(d)}).next(function(b){return c.Ze(d).next(function(){return b})}):c.dn(d).next(function(){return a(d)})}).then(function(m){return d.raiseOnCommittedEvent(),m})},t.prototype.dn=function(e){var i=this;return dl(e).get(xr.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)&&!i.tn(a)&&!(i.Ce||i.allowTabSynchronization&&a.allowTabSynchronization))throw new ge(ee.FAILED_PRECONDITION,mm)})},t.prototype.Ze=function(e){var i=new xr(this.clientId,this.allowTabSynchronization,Date.now());return dl(e).put(xr.key,i)},t.yt=function(){return hu.yt()},t.prototype.Xe=function(e){var i=this,a=dl(e);return a.get(xr.key).next(function(c){return i.tn(c)?(be("IndexedDbPersistence","Releasing primary lease."),a.delete(xr.key)):_e.resolve()})},t.prototype.sn=function(e,i){var a=Date.now();return!(e<a-i||e>a&&(_n("Detected an update time that is in the future: "+e+" > "+a),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,i=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){i.un(),(0,_t.G6)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var i;try{var a=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(e)));return be("IndexedDbPersistence","Client '"+e+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return _n("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){_n("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function dl(t){return vr(t,xr.store)}function hl(t){return vr(t,Nr.store)}function Ld(t,e){var i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var G_=function(t,e){this.progress=t,this.wn=e},aC=function(){function t(e,i,a){this.Ue=e,this._n=i,this.Ut=a}return t.prototype.mn=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,i).next(function(c){return a.yn(e,i,c)})},t.prototype.yn=function(e,i,a){return this.Ue.getEntry(e,i).next(function(c){for(var d=0,p=a;d<p.length;d++)p[d].applyToLocalView(c);return c})},t.prototype.gn=function(e,i){e.forEach(function(a,c){for(var d=0,p=i;d<p.length;d++)p[d].applyToLocalView(c)})},t.prototype.pn=function(e,i){var a=this;return this.Ue.getEntries(e,i).next(function(c){return a.En(e,c).next(function(){return c})})},t.prototype.En=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,i).next(function(c){return a.gn(i,c)})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){return ke.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(e,i.path):_d(i)?this.In(e,i,a):this.An(e,i,a);var c},t.prototype.Tn=function(e,i){return this.mn(e,new ke(i)).next(function(a){var c=Gg();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})},t.prototype.In=function(e,i,a){var c=this,d=i.collectionGroup,p=Gg();return this.Ut.getCollectionParents(e,d).next(function(m){return _e.forEach(m,function(b){var C,I,E=(C=i,I=b.child(d),new ji(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return c.An(e,E,a).next(function(C){C.forEach(function(I,R){p=p.insert(I,R)})})}).next(function(){return p})})},t.prototype.An=function(e,i,a){var c,d,p=this;return this.Ue.getDocumentsMatchingQuery(e,i,a).next(function(m){return c=m,p._n.getAllMutationBatchesAffectingQuery(e,i)}).next(function(m){return p.Rn(e,d=m,c).next(function(b){c=b;for(var E=0,C=d;E<C.length;E++)for(var I=C[E],R=0,O=I.mutations;R<O.length;R++){var j=O[R],W=j.key,le=c.get(W);null==le&&(le=Mn.newInvalidDocument(W),c=c.insert(W,le)),tl(j,le,I.localWriteTime),le.isFoundDocument()||(c=c.remove(W))}})}).next(function(){return c.forEach(function(m,b){Xc(i,b)||(c=c.remove(m))}),c})},t.prototype.Rn=function(e,i,a){for(var c=At(),d=0,p=i;d<p.length;d++)for(var m=0,b=p[d].mutations;m<b.length;m++){var E=b[m];E instanceof go&&null===a.get(E.key)&&(c=c.add(E.key))}var C=a;return this.Ue.getEntries(e,c).next(function(I){return I.forEach(function(R,O){O.isFoundDocument()&&(C=C.insert(R,O))}),C})},t}(),uC=function(){function t(e,i,a,c){this.targetId=e,this.fromCache=i,this.bn=a,this.vn=c}return t.Pn=function(e,i){for(var a=At(),c=At(),d=0,p=i.docChanges;d<p.length;d++){var m=p[d];switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}}return new t(e,i.fromCache,a,c)},t}(),Zo=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,i,a,c){var p,d=this;return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(ut.min())?this.Dn(e,i):this.Sn.pn(e,c).next(function(p){var m=d.Cn(i,p);return(Yc(i)||Pg(i))&&d.Nn(i.limitType,m,c,a)?d.Dn(e,i):(Y0()<=Xn.in.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bd(i)),d.Sn.getDocumentsMatchingQuery(e,i,a).next(function(b){return m.forEach(function(E){b=b.insert(E.key,E)}),b}))})},t.prototype.Cn=function(e,i){var a=new pn(Vg(e));return i.forEach(function(c,d){Xc(e,d)&&(a=a.add(d))}),a},t.prototype.Nn=function(e,i,a,c){if(a.size!==i.size)return!0;var d="F"===e?i.last():i.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)},t.prototype.Dn=function(e,i){return Y0()<=Xn.in.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",bd(i)),this.Sn.getDocumentsMatchingQuery(e,i,ut.min())},t}(),HT=function(){function t(e,i,a,c){this.persistence=e,this.xn=i,this.R=c,this.Fn=new Nn(ht),this.kn=new wu(function(d){return tu(d)},nu),this.$n=ut.min(),this._n=e.getMutationQueue(a),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new aC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return e.collect(a,i.Fn)})},t}();function Vd(t,e,i,a){return new HT(t,e,i,a)}function pl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return i=De(t),a=i._n,c=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(m){var b;return i._n.getAllMutationBatches(m).next(function(E){return b=E,a=i.persistence.getMutationQueue(e),c=new aC(i.On,a,i.persistence.getIndexManager()),a.getAllMutationBatches(m)}).next(function(E){for(var C=[],I=[],R=At(),O=0,j=b;O<j.length;O++){var W=j[O];C.push(W.batchId);for(var le=0,me=W.mutations;le<me.length;le++)R=R.add(me[le].key)}for(var Te=0,We=E;Te<We.length;Te++){var Oe=We[Te];I.push(Oe.batchId);for(var gt=0,Xt=Oe.mutations;gt<Xt.length;gt++)R=R.add(Xt[gt].key)}return c.pn(m,R).next(function(Hl){return{Ln:Hl,removedBatchIds:C,addedBatchIds:I}})})})];case 1:return d=p.sent(),[2,(i._n=a,i.Mn=c,i.xn.Vn(i.Mn),d)]}})})}function cC(t,e){var i=De(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(a){var p,m,b,E,C,I,R,c=e.batch.keys(),d=i.On.newChangeBuffer({trackRemovals:!0});return(p=i,m=a,b=e,E=d,C=b.batch,I=C.keys(),R=_e.resolve(),I.forEach(function(O){R=R.next(function(){return E.getEntry(m,O)}).next(function(j){var W=b.docVersions.get(O);Ze(null!==W),j.version.compareTo(W)<0&&(C.applyToRemoteDocument(j,b),j.isValidDocument()&&E.addEntry(j,b.commitVersion))})}),R.next(function(){return p._n.removeMutationBatch(m,C)})).next(function(){return d.apply(a)}).next(function(){return i._n.performConsistencyCheck(a)}).next(function(){return i.Mn.pn(a,c)})})}function Ws(t){var e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return e.qe.getLastRemoteSnapshotVersion(i)})}function lC(t,e){var i=De(t),a=e.snapshotVersion,c=i.Fn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(d){var p=i.On.newChangeBuffer({trackRemovals:!0});c=i.Fn;var m=[];e.targetChanges.forEach(function(C,I){var W,le,me,R=c.get(I);if(R){m.push(i.qe.removeMatchingKeys(d,C.removedDocuments,I).next(function(){return i.qe.addMatchingKeys(d,C.addedDocuments,I)}));var O=C.resumeToken;if(O.approximateByteSize()>0){var j=R.withResumeToken(O,a).withSequenceNumber(d.currentSequenceNumber);c=c.insert(I,j),W=R,me=C,Ze((le=j).resumeToken.approximateByteSize()>0),(0===W.resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&m.push(i.qe.updateTargetData(d,j))}}});var b=Qr();if(e.documentUpdates.forEach(function(C,I){e.resolvedLimboDocuments.has(C)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(d,C))}),m.push(fC(d,p,e.documentUpdates,a,void 0).next(function(C){b=C})),!a.isEqual(ut.min())){var E=i.qe.getLastRemoteSnapshotVersion(d).next(function(C){return i.qe.setTargetsMetadata(d,d.currentSequenceNumber,a)});m.push(E)}return _e.waitFor(m).next(function(){return p.apply(d)}).next(function(){return i.Mn.En(d,b)}).next(function(){return b})}).then(function(d){return i.Fn=c,d})}function fC(t,e,i,a,c){var d=At();return i.forEach(function(p){return d=d.add(p)}),e.getEntries(t,d).next(function(p){var m=Qr();return i.forEach(function(b,E){var C=p.get(b),I=(null==c?void 0:c.get(b))||a;E.isNoDocument()&&E.version.isEqual(ut.min())?(e.removeEntry(b,I),m=m.insert(b,E)):!C.isValidDocument()||E.version.compareTo(C.version)>0||0===E.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(E,I),m=m.insert(b,E)):be("LocalStore","Ignoring outdated watch update for ",b,". Current version:",C.version," Watch version:",E.version)}),m})}function dC(t,e){var i=De(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(a){return void 0===e&&(e=-1),i._n.getNextMutationBatchAfterBatchId(a,e)})}function rr(t,e){var i=De(t);return i.persistence.runTransaction("Allocate target","readwrite",function(a){var c;return i.qe.getTargetData(a,e).next(function(d){return d?_e.resolve(c=d):i.qe.allocateTargetId(a).next(function(p){return c=new Md(e,p,0,a.currentSequenceNumber),i.qe.addTargetData(a,c).next(function(){return c})})})}).then(function(a){var c=i.Fn.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Fn=i.Fn.insert(a.targetId,a),i.kn.set(e,a.targetId)),a})}function Ks(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:a=De(t),c=a.Fn.get(e),d=i?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),i?[3,3]:[4,a.persistence.runTransaction("Release target",d,function(b){return a.persistence.referenceDelegate.removeTarget(b,c)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!pu(p=m.sent()))throw p;return be("LocalStore","Failed to update sequence numbers for target "+e+": "+p),[3,5];case 5:return a.Fn=a.Fn.remove(e),a.kn.delete(c.target),[2]}})})}function ym(t,e,i){var a=De(t),c=ut.min(),d=At();return a.persistence.runTransaction("Execute query","readonly",function(p){return(m=a,b=p,E=Tt(e),C=De(m),I=C.kn.get(E),void 0!==I?_e.resolve(C.Fn.get(I)):C.qe.getTargetData(b,E)).next(function(m){if(m)return c=m.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(p,m.targetId).next(function(b){d=b})}).next(function(){return a.xn.getDocumentsMatchingQuery(p,e,i?c:ut.min(),i?d:At())}).next(function(m){return{documents:m,Bn:d}});var m,b,E,C,I})}function gl(t,e){var i=De(t),a=De(i.qe),c=i.Fn.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",function(d){return a.lt(d,e).next(function(p){return p?p.target:null})})}function q_(t){var e=De(t);return e.persistence.runTransaction("Get new document changes","readonly",function(i){return c=i,d=e.$n,p=De(e.On),m=Qr(),b=im(d),E=Gi(c),C=IDBKeyRange.lowerBound(b,!0),E.$t({index:Vt.readTimeIndex,range:C},function(I,R){var O=rm(p.R,R);m=m.insert(O.key,O),b=R.readTime}).next(function(){return{wn:m,readTime:om(b)}});var c,d,p,m,b,E,C}).then(function(i){var a=i.wn;return e.$n=i.readTime,a})}function hC(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){return[2,(e=De(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(a){return d=Gi(a),p=ut.min(),d.$t({index:Vt.readTimeIndex,reverse:!0},function(m,b,E){b.readTime&&(p=om(b.readTime)),E.done()}).next(function(){return p});var d,p}).then(function(a){e.$n=a})]})})}function $T(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,d,p,m,b,E,C,I,R,O;return(0,A.Jh)(this,function(j){switch(j.label){case 0:for(c=De(t),d=At(),p=Qr(),m=m_(),b=0,E=i;b<E.length;b++)I=e.qn((C=E[b]).metadata.name),C.document&&(d=d.add(I)),p=p.insert(I,e.Un(C)),m=m.insert(I,e.Kn(C.metadata.readTime));return R=c.On.newChangeBuffer({trackRemovals:!0}),[4,rr(c,(W=a,Tt(Hs(bt.fromString("__bundle__/docs/"+W)))))];case 1:return O=j.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(W){return fC(W,R,p,ut.min(),m).next(function(le){return R.apply(W),le}).next(function(le){return c.qe.removeMatchingKeysForTargetId(W,O.targetId).next(function(){return c.qe.addMatchingKeys(W,d,O.targetId)}).next(function(){return c.Mn.En(W,le)}).next(function(){return le})})})]}var W})})}function pC(t,e,i){return void 0===i&&(i=At()),(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,rr(t,Tt(am(e.bundledQuery)))];case 1:return a=d.sent(),[2,(c=De(t)).persistence.runTransaction("Save named query","readwrite",function(p){var m=bn(e.readTime);if(a.snapshotVersion.compareTo(m)>=0)return c.Ke.saveNamedQuery(p,e);var b=a.withResumeToken(er.EMPTY_BYTE_STRING,m);return c.Fn=c.Fn.insert(b.targetId,b),c.qe.updateTargetData(p,b).next(function(){return c.qe.removeMatchingKeysForTargetId(p,a.targetId)}).next(function(){return c.qe.addMatchingKeys(p,i,a.targetId)}).next(function(){return c.Ke.saveNamedQuery(p,e)})})]}})})}var gC=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,i){return _e.resolve(this.Qn.get(i))},t.prototype.saveBundleMetadata=function(e,i){var a;return this.Qn.set(i.id,{id:(a=i).id,version:a.version,createTime:bn(a.createTime)}),_e.resolve()},t.prototype.getNamedQuery=function(e,i){return _e.resolve(this.jn.get(i))},t.prototype.saveNamedQuery=function(e,i){return this.jn.set(i.name,{name:(a=i).name,query:am(a.bundledQuery),readTime:bn(a.readTime)}),_e.resolve();var a},t}(),vm=function(){function t(){this.Wn=new pn(gn.Gn),this.zn=new pn(gn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,i){var a=new gn(e,i);this.Wn=this.Wn.add(a),this.zn=this.zn.add(a)},t.prototype.Jn=function(e,i){var a=this;e.forEach(function(c){return a.addReference(c,i)})},t.prototype.removeReference=function(e,i){this.Yn(new gn(e,i))},t.prototype.Xn=function(e,i){var a=this;e.forEach(function(c){return a.removeReference(c,i)})},t.prototype.Zn=function(e){var i=this,a=new ke(new bt([])),c=new gn(a,e),d=new gn(a,e+1),p=[];return this.zn.forEachInRange([c,d],function(m){i.Yn(m),p.push(m.key)}),p},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(i){return e.Yn(i)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var i=new ke(new bt([])),a=new gn(i,e),c=new gn(i,e+1),d=At();return this.zn.forEachInRange([a,c],function(p){d=d.add(p.key)}),d},t.prototype.containsKey=function(e){var i=new gn(e,0),a=this.Wn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)},t}(),gn=function(){function t(e,i){this.key=e,this.ns=i}return t.Gn=function(e,i){return ke.comparator(e.key,i.key)||ht(e.ns,i.ns)},t.Hn=function(e,i){return ht(e.ns,i.ns)||ke.comparator(e.key,i.key)},t}(),z_=function(){function t(e,i){this.Ut=e,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new pn(gn.Gn)}return t.prototype.checkEmpty=function(e){return _e.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,i,a,c){var d=this.ss;this.ss++;var p=new xd(d,i,a,c);this._n.push(p);for(var m=0,b=c;m<b.length;m++){var E=b[m];this.rs=this.rs.add(new gn(E.key,d)),this.Ut.addToCollectionParentIndex(e,E.key.path.popLast())}return _e.resolve(p)},t.prototype.lookupMutationBatch=function(e,i){return _e.resolve(this.os(i))},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var c=this.cs(i+1),d=c<0?0:c;return _e.resolve(this._n.length>d?this._n[d]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return _e.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return _e.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=new gn(i,0),d=new gn(i,Number.POSITIVE_INFINITY),p=[];return this.rs.forEachInRange([c,d],function(m){var b=a.os(m.ns);p.push(b)}),_e.resolve(p)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new pn(ht);return i.forEach(function(d){var p=new gn(d,0),m=new gn(d,Number.POSITIVE_INFINITY);a.rs.forEachInRange([p,m],function(b){c=c.add(b.ns)})}),_e.resolve(this.us(c))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=i.path,c=a.length+1,d=a;ke.isDocumentKey(d)||(d=d.child(""));var p=new gn(new ke(d),0),m=new pn(ht);return this.rs.forEachWhile(function(b){var E=b.key.path;return!!a.isPrefixOf(E)&&(E.length===c&&(m=m.add(b.ns)),!0)},p),_e.resolve(this.us(m))},t.prototype.us=function(e){var i=this,a=[];return e.forEach(function(c){var d=i.os(c);null!==d&&a.push(d)}),a},t.prototype.removeMutationBatch=function(e,i){var a=this;Ze(0===this.hs(i.batchId,"removed")),this._n.shift();var c=this.rs;return _e.forEach(i.mutations,function(d){var p=new gn(d.key,i.batchId);return c=c.delete(p),a.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(function(){a.rs=c})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,i){var a=new gn(i,0),c=this.rs.firstAfterOrEqual(a);return _e.resolve(i.isEqual(c&&c.key))},t.prototype.performConsistencyCheck=function(e){return _e.resolve()},t.prototype.hs=function(e,i){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var i=this.cs(e);return i<0||i>=this._n.length?null:this._n[i]},t}(),_m=function(){function t(e,i){this.Ut=e,this.ls=i,this.docs=new Nn(ke.comparator),this.size=0}return t.prototype.addEntry=function(e,i,a){var c=i.key,d=this.docs.get(c),p=d?d.size:0,m=this.ls(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:m,readTime:a}),this.size+=m-p,this.Ut.addToCollectionParentIndex(e,c.path.popLast())},t.prototype.removeEntry=function(e){var i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)},t.prototype.getEntry=function(e,i){var a=this.docs.get(i);return _e.resolve(a?a.document.clone():Mn.newInvalidDocument(i))},t.prototype.getEntries=function(e,i){var a=this,c=Qr();return i.forEach(function(d){var p=a.docs.get(d);c=c.insert(d,p?p.document.clone():Mn.newInvalidDocument(d))}),_e.resolve(c)},t.prototype.getDocumentsMatchingQuery=function(e,i,a){for(var c=Qr(),d=new ke(i.path.child("")),p=this.docs.getIteratorFrom(d);p.hasNext();){var m=p.getNext(),E=m.value,C=E.document,I=E.readTime;if(!i.path.isPrefixOf(m.key.path))break;I.compareTo(a)<=0||Xc(i,C)&&(c=c.insert(C.key,C.clone()))}return _e.resolve(c)},t.prototype.fs=function(e,i){return _e.forEach(this.docs,function(a){return i(a)})},t.prototype.newChangeBuffer=function(e){return new W_(this)},t.prototype.getSize=function(e){return _e.resolve(this.size)},t}(),W_=function(t){function e(i){var a=this;return(a=t.call(this)||this).Ie=i,a}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[];return this.changes.forEach(function(d,p){p.document.isValidDocument()?c.push(a.Ie.addEntry(i,p.document,a.getReadTime(d))):a.Ie.removeEntry(d)}),_e.waitFor(c)},e.prototype.getFromCache=function(i,a){return this.Ie.getEntry(i,a)},e.prototype.getAllFromCache=function(i,a){return this.Ie.getEntries(i,a)},e}($_),mC=function(){function t(e){this.persistence=e,this.ds=new wu(function(i){return tu(i)},nu),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ws=0,this._s=new vm,this.targetCount=0,this.ys=Od.Jt()}return t.prototype.forEachTarget=function(e,i){return this.ds.forEach(function(a,c){return i(c)}),_e.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return _e.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return _e.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_e.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ws&&(this.ws=i),_e.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var i=e.targetId;i>this.highestTargetId&&(this.ys=new Od(i),this.highestTargetId=i),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,i){return this.te(i),this.targetCount+=1,_e.resolve()},t.prototype.updateTargetData=function(e,i){return this.te(i),_e.resolve()},t.prototype.removeTargetData=function(e,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,_e.resolve()},t.prototype.removeTargets=function(e,i,a){var c=this,d=0,p=[];return this.ds.forEach(function(m,b){b.sequenceNumber<=i&&null===a.get(b.targetId)&&(c.ds.delete(m),p.push(c.removeMatchingKeysForTargetId(e,b.targetId)),d++)}),_e.waitFor(p).next(function(){return d})},t.prototype.getTargetCount=function(e){return _e.resolve(this.targetCount)},t.prototype.getTargetData=function(e,i){var a=this.ds.get(i)||null;return _e.resolve(a)},t.prototype.addMatchingKeys=function(e,i,a){return this._s.Jn(i,a),_e.resolve()},t.prototype.removeMatchingKeys=function(e,i,a){this._s.Xn(i,a);var c=this.persistence.referenceDelegate,d=[];return c&&i.forEach(function(p){d.push(c.markPotentiallyOrphaned(e,p))}),_e.waitFor(d)},t.prototype.removeMatchingKeysForTargetId=function(e,i){return this._s.Zn(i),_e.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=this._s.es(i);return _e.resolve(a)},t.prototype.containsKey=function(e,i){return _e.resolve(this._s.containsKey(i))},t}(),GT=function(){function t(e,i){var a=this;this.gs={},this.Ne=new Rr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new mC(this),this.Ut=new eC,this.Ue=new _m(this.Ut,function(p){return a.referenceDelegate.ps(p)}),this.R=new O_(i),this.Ke=new gC(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var i=this.gs[e.toKey()];return i||(i=new z_(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=i),i},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var c=this;be("MemoryPersistence","Starting transaction:",e);var d=new yC(this.Ne.next());return this.referenceDelegate.Es(),a(d).next(function(p){return c.referenceDelegate.Ts(d).next(function(){return p})}).toPromise().then(function(p){return d.raiseOnCommittedEvent(),p})},t.prototype.Is=function(e,i){return _e.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(e,i)}}))},t}(),yC=function(t){function e(i){var a=this;return(a=t.call(this)||this).currentSequenceNumber=i,a}return(0,A.ZT)(e,t),e}(em),vC=function(){function t(e){this.persistence=e,this.As=new vm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fe()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,i,a){return this.As.addReference(a,i),this.vs.delete(a.toString()),_e.resolve()},t.prototype.removeReference=function(e,i,a){return this.As.removeReference(a,i),this.vs.add(a.toString()),_e.resolve()},t.prototype.markPotentiallyOrphaned=function(e,i){return this.vs.add(i.toString()),_e.resolve()},t.prototype.removeTarget=function(e,i){var a=this;this.As.Zn(i.targetId).forEach(function(d){return a.vs.add(d.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,i.targetId).next(function(d){d.forEach(function(p){return a.vs.add(p.toString())})}).next(function(){return c.removeTargetData(e,i)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var i=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.vs,function(c){var d=ke.fromPath(c);return i.Ps(e,d).next(function(p){p||a.removeEntry(d)})}).next(function(){return i.Rs=null,a.apply(e)})},t.prototype.updateLimboDocument=function(e,i){var a=this;return this.Ps(e,i).next(function(c){c?a.vs.delete(i.toString()):a.vs.add(i.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,i){var a=this;return _e.or([function(){return _e.resolve(a.As.containsKey(i))},function(){return a.persistence.getTargetCache().containsKey(e,i)},function(){return a.persistence.Is(e,i)}])},t}(),_r=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function bm(t,e){return"firestore_clients_"+t+"_"+e}function wm(t,e,i){var a="firestore_mutations_"+t+"_"+i;return e.isAuthenticated()&&(a+="_"+e.uid),a}function Ud(t,e){return"firestore_targets_"+t+"_"+e}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid");var K_=function(){function t(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}return t.Vs=function(e,i,a){var c,d=JSON.parse(a),p="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return p&&d.error&&(p="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(c=new ge(d.error.code,d.error.message)),p?new t(e,i,d.state,c):(_n("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+a),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Em=function(){function t(e,i,a){this.targetId=e,this.state=i,this.error=a}return t.Vs=function(e,i){var a,c=JSON.parse(i),d="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return d&&c.error&&(d="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new ge(c.error.code,c.error.message)),d?new t(e,c.state,a):(_n("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Dm=function(){function t(e,i){this.clientId=e,this.activeTargetIds=i}return t.Vs=function(e,i){for(var a=JSON.parse(i),c="object"==typeof a&&a.activeTargetIds instanceof Array,d=Dd(),p=0;c&&p<a.activeTargetIds.length;++p)c=Ig(a.activeTargetIds[p]),d=d.add(a.activeTargetIds[p]);return c?new t(e,d):(_n("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),jd=function(){function t(e,i){this.clientId=e,this.onlineState=i}return t.Vs=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(_n("SharedClientState","Failed to parse online state: "+e),null)},t}(),Cm=function(){function t(){this.activeTargetIds=Dd()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Bd=function(){function t(e,i,a,c,d){this.window=e,this.Se=i,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Nn(ht),this.started=!1,this.$s=[];var p=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Os=bm(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Cm),this.Ls=new RegExp("^firestore_clients_"+p+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+p+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+p+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,d,p,m,b,E,C,R=this;return(0,A.Jh)(this,function(O){switch(O.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=O.sent(),i=0,a=e;i<a.length;i++)(c=a[i])!==this.Ns&&(d=this.getItem(bm(this.persistenceKey,c)))&&(p=Dm.Vs(c,d))&&(this.ks=this.ks.insert(p.clientId,p));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(b=this.js(m))&&this.Ws(b),E=0,C=this.$s;E<C.length;E++)this.Fs(C[E]);return this.$s=[],this.window.addEventListener("pagehide",function(){return R.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var i=!1;return this.ks.forEach(function(a,c){c.activeTargetIds.has(e)&&(i=!0)}),i},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,i,a){this.zs(e,i,a),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var i="not-current";if(this.isActiveQueryTarget(e)){var a=this.storage.getItem(Ud(this.persistenceKey,e));if(a){var c=Em.Vs(e,a);c&&(i=c.state)}}return this.Js.Ds(e),this.Qs(),i},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(Ud(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,i,a){this.Ys(e,i,a)},t.prototype.handleUserChange=function(e,i,a){var c=this;i.forEach(function(d){c.Hs(d)}),this.currentUser=e,a.forEach(function(d){c.addPendingMutation(d)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var i=this.storage.getItem(e);return be("SharedClientState","READ",e,i),i},t.prototype.setItem=function(e,i){be("SharedClientState","SET",e,i),this.storage.setItem(e,i)},t.prototype.removeItem=function(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var i=this,a=e;if(a.storageArea===this.storage){if(be("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Os)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,A.mG)(i,void 0,void 0,function(){var c,d,p,m,b,E;return(0,A.Jh)(this,function(C){if(this.started){if(null!==a.key)if(this.Ls.test(a.key)){if(null==a.newValue)return c=this.ti(a.key),[2,this.ei(c,null)];if(d=this.ni(a.key,a.newValue))return[2,this.ei(d.clientId,d)]}else if(this.Bs.test(a.key)){if(null!==a.newValue&&(p=this.si(a.key,a.newValue)))return[2,this.ii(p)]}else if(this.qs.test(a.key)){if(null!==a.newValue&&(m=this.ri(a.key,a.newValue)))return[2,this.oi(m)]}else if(a.key===this.Us){if(null!==a.newValue&&(b=this.js(a.newValue)))return[2,this.Ws(b)]}else if(a.key===this.Ms)(E=function(I){var R=Rr.o;if(null!=I)try{var O=JSON.parse(I);Ze("number"==typeof O),R=O}catch(j){_n("SharedClientState","Failed to read sequence number from WebStorage",j)}return R}(a.newValue))!==Rr.o&&this.sequenceNumberHandler(E);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(a);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,i,a){var c=new K_(this.currentUser,e,i,a),d=wm(this.persistenceKey,this.currentUser,e);this.setItem(d,c.Ss())},t.prototype.Hs=function(e){var i=wm(this.persistenceKey,this.currentUser,e);this.removeItem(i)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,i,a){var c=Ud(this.persistenceKey,e),d=new Em(e,i,a);this.setItem(c,d.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var i=this.Ls.exec(e);return i?i[1]:null},t.prototype.ni=function(e,i){var a=this.ti(e);return Dm.Vs(a,i)},t.prototype.si=function(e,i){var a=this.Bs.exec(e),c=Number(a[1]);return K_.Vs(new _r(void 0!==a[2]?a[2]:null),c,i)},t.prototype.ri=function(e,i){var a=this.qs.exec(e),c=Number(a[1]);return Em.Vs(c,i)},t.prototype.js=function(e){return jd.Vs(e)},t.prototype.ii=function(e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,i){var a=this,c=i?this.ks.insert(e,i):this.ks.remove(e),d=this.Gs(this.ks),p=this.Gs(c),m=[],b=[];return p.forEach(function(E){d.has(E)||m.push(E)}),d.forEach(function(E){p.has(E)||b.push(E)}),this.syncEngine.hi(m,b).then(function(){a.ks=c})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var i=Dd();return e.forEach(function(a,c){i=i.unionWith(c.activeTargetIds)}),i},t}(),ml=function(){function t(){this.li=new Cm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,i,a){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,i,a){this.fi[e]=i},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Cm,Promise.resolve()},t.prototype.handleUserChange=function(e,i,a){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),Hd=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),Eu=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(0)},t.prototype.yi=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bC=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),qT=function(t){function e(i){var a=this;return(a=t.call(this,i)||this).forceLongPolling=i.forceLongPolling,a.autoDetectLongPolling=i.autoDetectLongPolling,a.useFetchStreams=i.useFetchStreams,a}return(0,A.ZT)(e,t),e.prototype.ki=function(i,a,c,d){return new Promise(function(p,m){var b=new Z0;b.listenOnce(Eg.COMPLETE,function(){try{switch(b.getLastErrorCode()){case gd.NO_ERROR:var C=b.getResponseJson();be("Connection","XHR received:",JSON.stringify(C)),p(C);break;case gd.TIMEOUT:be("Connection",'RPC "'+i+'" timed out'),m(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:var I=b.getStatus();if(be("Connection",'RPC "'+i+'" failed with status:',I,"response text:",b.getResponseText()),I>0){var R=b.getResponseJson().error;if(R&&R.status&&R.message){var O=(W=R.status.toLowerCase().replace(/_/g,"-"),Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN);m(new ge(O,R.message))}else m(new ge(ee.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be("Connection",'RPC "'+i+'" completed.')}var W});var E=JSON.stringify(d);b.send(a,"POST",E,c,15)})},e.prototype.Oi=function(i,a){var c=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],d=new Hc,p=Va(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Q0({})),this.Fi(m.initMessageHeaders,a),(0,_t.uI)()||(0,_t.b$)()||(0,_t.d)()||(0,_t.w1)()||(0,_t.Mn)()||(0,_t.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var b=c.join("");be("Connection","Creating WebChannel: "+b,m);var E=d.createWebChannel(b,m),C=!1,I=!1,R=new bC({Ei:function(j){I?be("Connection","Not sending because WebChannel is closed:",j):(C||(be("Connection","Opening WebChannel transport."),E.open(),C=!0),be("Connection","WebChannel sending:",j),E.send(j))},Ti:function(){return E.close()}}),O=function(j,W,le){j.listen(W,function(me){try{le(me)}catch(Ie){setTimeout(function(){throw Ie},0)}})};return O(E,Qa.EventType.OPEN,function(){I||be("Connection","WebChannel transport opened.")}),O(E,Qa.EventType.CLOSE,function(){I||(I=!0,be("Connection","WebChannel transport closed"),R.Vi())}),O(E,Qa.EventType.ERROR,function(j){I||(I=!0,$c("Connection","WebChannel transport errored:",j),R.Vi(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),O(E,Qa.EventType.MESSAGE,function(j){var W;if(!I){var le=j.data[0];Ze(!!le);var Ie=le.error||(null===(W=le[0])||void 0===W?void 0:W.error);if(Ie){be("Connection","WebChannel received error:",Ie);var Te=Ie.status,We=function(gt){var Xt=an[gt];if(void 0!==Xt)return Hg(Xt)}(Te),Oe=Ie.message;void 0===We&&(We=ee.INTERNAL,Oe="Unknown error status: "+Te+" with message "+Ie.message),I=!0,R.Vi(new ge(We,Oe)),E.close()}else be("Connection","WebChannel received:",le),R.Si(le)}}),O(p,W0.STAT_EVENT,function(j){j.stat===K0_PROXY?be("Connection","Detected buffering proxy"):j.stat===K0_NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(function(){R.Pi()},0),R},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,i,a,c){var d=this.xi(e,i);be("RestConnection","Sending: ",d,a);var p={};return this.Fi(p,c),this.ki(e,d,p,a).then(function(m){return be("RestConnection","Received: ",m),m},function(m){throw $c("RestConnection",e+" failed with error: ",m,"url: ",d,"request:",a),m})},t.prototype.$i=function(e,i,a,c){return this.Ni(e,i,a,c)},t.prototype.Fi=function(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])},t.prototype.xi=function(e,i){return this.Di+"/v1/"+i+":"+_C[e]},t}());function Q_(){return"undefined"!=typeof window?window:null}function $d(){return"undefined"!=typeof document?document:null}function yl(t){return new D_(t,!0)}var Im=function(){function t(e,i,a,c,d){void 0===a&&(a=1e3),void 0===c&&(c=1.5),void 0===d&&(d=6e4),this.Se=e,this.timerId=i,this.Mi=a,this.Li=c,this.Bi=d,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var i=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),d=Math.max(0,a-c);d>0&&be("ExponentialBackoff","Backing off for "+d+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,d,function(){return i.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Z_=function(){function t(e,i,a,c,d,p){this.Se=e,this.zi=a,this.Hi=c,this.Ji=d,this.listener=p,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Im(e,i)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(_n(i.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===ee.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(i)];case 1:return a.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var i=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){e.Yi===a&&e.lr(c)},function(c){i(function(){var d=new ge(ee.UNKNOWN,"Fetching auth token failed: "+c.message);return e.dr(d)})})},t.prototype.lr=function(e){var i=this,a=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){a(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return i.dr(c)})}),this.stream.onMessage(function(c){a(function(){return i.onMessage(c)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return be("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var i=this;return function(a){i.Se.enqueueAndForget(function(){return i.Yi===e?a():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),wC=function(t){function e(i,a,c,d,p){var m=this;return(m=t.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",a,c,p)||this).R=d,m}return(0,A.ZT)(e,t),e.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},e.prototype.onMessage=function(i){this.Zi.reset();var a=function(d,p){var m,le;if("targetChange"in p){var b="NO_CHANGE"===(le=p.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===le?1:"REMOVE"===le?2:"CURRENT"===le?3:"RESET"===le?4:Fe(),E=p.targetChange.targetIds||[],C=function(le,me){return le.I?(Ze(void 0===me||"string"==typeof me),er.fromBase64String(me||"")):(Ze(void 0===me||me instanceof Uint8Array),er.fromUint8Array(me||new Uint8Array))}(d,p.targetChange.resumeToken),I=(R=p.targetChange.cause)&&function(le){var me=void 0===le.code?ee.UNKNOWN:Hg(le.code);return new ge(me,le.message||"")}(R);m=new v_(b,E,C,I||null)}else if("documentChange"in p){E=Gn(d,(b=p.documentChange).document.name),C=bn(b.document.updateTime);var R=new mr({mapValue:{fields:b.document.fields}}),O=(I=Mn.newFoundDocument(E,C,R),b.targetIds||[]);m=new Cd(O,b.removedTargetIds||[],I.key,I)}else if("documentDelete"in p)E=Gn(d,(b=p.documentDelete).document),C=b.readTime?bn(b.readTime):ut.min(),R=Mn.newNoDocument(E,C),m=new Cd([],I=b.removedTargetIds||[],R.key,R);else if("documentRemove"in p)E=Gn(d,(b=p.documentRemove).document),m=new Cd([],C=b.removedTargetIds||[],E,null);else{if(!("filter"in p))return Fe();var W=p.filter;E=new g_(b=W.count||0),m=new y_(C=W.targetId,E)}return m}(this.R,i),c=function(d){if(!("targetChange"in d))return ut.min();var p=d.targetChange;return p.targetIds&&p.targetIds.length?ut.min():p.readTime?bn(p.readTime):ut.min()}(i);return this.listener._r(a,c)},e.prototype.mr=function(i){var d,p,m,b,a={};a.database=Bi(this.R),a.addTarget=(d=this.R,(m=ru(b=(p=i).target)?{documents:WD(d,b)}:{query:Be(d,b)}).targetId=p.targetId,p.resumeToken.approximateByteSize()>0?m.resumeToken=Kg(d,p.resumeToken):p.snapshotVersion.compareTo(ut.min())>0&&(m.readTime=cu(d,p.snapshotVersion.toTimestamp())),m);var c=function(d,p){var m=function(b,E){switch(E){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,p.purpose);return null==m?null:{"goog-listen-tags":m}}(0,i);c&&(a.labels=c),this.cr(a)},e.prototype.yr=function(i){var a={};a.database=Bi(this.R),a.removeTarget=i,this.cr(a)},e}(Z_),EC=function(t){function e(i,a,c,d,p){var m=this;return(m=t.call(this,i,"write_stream_connection_backoff","write_stream_idle",a,c,p)||this).R=d,m.gr=!1,m}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(i){return this.Hi.Oi("Write",i)},e.prototype.onMessage=function(i){if(Ze(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var a=(p=i.commitTime,(d=i.writeResults)&&d.length>0?(Ze(void 0!==p),d.map(function(m){return E=p,(C=bn((b=m).updateTime?b.updateTime:E)).isEqual(ut.min())&&(C=bn(E)),new d_(C,b.transformResults||[]);var b,E,C})):[]),c=bn(i.commitTime);return this.listener.Tr(c,a)}var d,p;return Ze(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var i={};i.database=Bi(this.R),this.cr(i)},e.prototype.Er=function(i){var a=this,c={streamToken:this.lastStreamToken,writes:i.map(function(d){return al(a.R,d)})};this.cr(c)},e}(Z_),DC=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).credentials=i,d.Hi=a,d.R=c,d.Rr=!1,d}return(0,A.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(i,a,c){var d=this;return this.br(),this.credentials.getToken().then(function(p){return d.Hi.Ni(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&d.credentials.invalidateToken(),p):new ge(ee.UNKNOWN,p.toString())})},e.prototype.$i=function(i,a,c){var d=this;return this.br(),this.credentials.getToken().then(function(p){return d.Hi.$i(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&d.credentials.invalidateToken(),p):new ge(ee.UNKNOWN,p.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),CC=function(){function t(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var i="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(_n(i),this.Vr=!1):be("OnlineStateTracker",i)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),zT=function(t,e,i,a,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(p){i.enqueueAndForget(function(){return(0,A.mG)(d,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return Yo(this)?(be("RemoteStore","Restarting streams for network reachability change."),[4,function(b){return(0,A.mG)(this,void 0,void 0,function(){var E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:return(E=De(b)).Or.add(4),[4,qi(E)];case 1:return C.sent(),E.Br.set("Unknown"),E.Or.delete(4),[4,vl(E)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new CC(i,a)};function vl(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(!Yo(t))return[3,4];e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function qi(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Gd(t,e){var i=De(t);i.$r.has(e.targetId)||(i.$r.set(e.targetId,e),qd(i)?_o(i):Zs(i).er()&&Tm(i,e))}function _l(t,e){var i=De(t),a=Zs(i);i.$r.delete(e),a.er()&&bl(i,e),0===i.$r.size&&(a.er()?a.ir():Yo(i)&&i.Br.set("Unknown"))}function Tm(t,e){t.qr.U(e.targetId),Zs(t).mr(e)}function bl(t,e){t.qr.U(e),Zs(t).yr(e)}function _o(t){t.qr=new GD({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Zs(t).start(),t.Br.Sr()}function qd(t){return Yo(t)&&!Zs(t).tr()&&t.$r.size>0}function Yo(t){return 0===De(t).Or.size}function IC(t){t.qr=void 0}function TC(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return t.$r.forEach(function(i,a){Tm(t,i)}),[2]})})}function zd(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return IC(t),qd(t)?(t.Br.Nr(e),_o(t)):t.Br.set("Unknown"),[2]})})}function SC(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:if(t.Br.set("Online"),!(e instanceof v_&&2===e.state&&e.cause))return[3,6];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,function(m,b){return(0,A.mG)(this,void 0,void 0,function(){var E,C,I,R;return(0,A.Jh)(this,function(O){switch(O.label){case 0:E=b.cause,C=0,I=b.targetIds,O.label=1;case 1:return C<I.length?m.$r.has(R=I[C])?[4,m.remoteSyncer.rejectListen(R,E)]:[3,3]:[3,5];case 2:O.sent(),m.$r.delete(R),m.qr.removeTarget(R),O.label=3;case 3:O.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return p.sent(),[3,5];case 3:return a=p.sent(),be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),[4,Wd(t,a)];case 4:return p.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cd?t.qr.X(e):e instanceof y_?t.qr.rt(e):t.qr.et(e),i.isEqual(ut.min()))return[3,13];p.label=7;case 7:return p.trys.push([7,11,,13]),[4,Ws(t.localStore)];case 8:return c=p.sent(),i.compareTo(c)>=0?[4,(m=t,b=i,E=m.qr.ut(b),E.targetChanges.forEach(function(C,I){if(C.resumeToken.approximateByteSize()>0){var R=m.$r.get(I);R&&m.$r.set(I,R.withResumeToken(C.resumeToken,b))}}),E.targetMismatches.forEach(function(C){var I=m.$r.get(C);if(I){m.$r.set(C,I.withResumeToken(er.EMPTY_BYTE_STRING,I.snapshotVersion)),bl(m,C);var R=new Md(I.target,C,1,I.sequenceNumber);Tm(m,R)}}),m.remoteSyncer.applyRemoteEvent(E))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return be("RemoteStore","Failed to raise snapshot:",d=p.sent()),[4,Wd(t,d)];case 12:return p.sent(),[3,13];case 13:return[2]}var m,b,E})})}function Wd(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:if(!pu(e))throw e;return t.Or.add(1),[4,qi(t)];case 1:return c.sent(),t.Br.set("Offline"),i||(i=function(){return Ws(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(a,void 0,void 0,function(){return(0,A.Jh)(this,function(d){switch(d.label){case 0:return be("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return d.sent(),t.Or.delete(1),[4,vl(t)];case 2:return d.sent(),[2]}})})}),[2]}})})}function Sm(t,e){return e().catch(function(i){return Wd(t,i,e)})}function Qs(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:e=De(t),i=vi(e),a=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,p.label=1;case 1:if(!(Yo(m=e)&&m.kr.length<10))return[3,7];p.label=2;case 2:return p.trys.push([2,4,,6]),[4,dC(e.localStore,a)];case 3:return null===(c=p.sent())?(0===e.kr.length&&i.ir(),[3,7]):(a=c.batchId,function(m,b){m.kr.push(b);var E=vi(m);E.er()&&E.pr&&E.Er(b.mutations)}(e,c),[3,6]);case 4:return d=p.sent(),[4,Wd(e,d)];case 5:return p.sent(),[3,6];case 6:return[3,1];case 7:return Kd(e)&&Am(e),[2]}var m})})}function Kd(t){return Yo(t)&&!vi(t).tr()&&t.kr.length>0}function Am(t){vi(t).start()}function Y_(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return vi(t).Ar(),[2]})})}function AC(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a;return(0,A.Jh)(this,function(d){for(e=vi(t),i=0,a=t.kr;i<a.length;i++)e.Er(a[i].mutations);return[2]})})}function RC(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return a=t.kr.shift(),c=cl.from(a,e,i),[4,Sm(t,function(){return t.remoteSyncer.applySuccessfulWrite(c)})];case 1:return d.sent(),[4,Qs(t)];case 2:return d.sent(),[2]}})})}function J_(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return e&&vi(t).pr?[4,function(a,c){return(0,A.mG)(this,void 0,void 0,function(){var d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return Bg(p=c.code)&&p!==ee.ABORTED?(d=a.kr.shift(),vi(a).sr(),[4,Sm(a,function(){return a.remoteSyncer.rejectFailedWrite(d.batchId,c)})]):[3,3];case 1:return m.sent(),[4,Qs(a)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return Kd(t)&&Am(t),[2]}})})}function Rm(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i=De(t),e?(i.Or.delete(2),[4,vl(i)]):[3,2];case 1:return a.sent(),[3,5];case 2:return e?[3,4]:(i.Or.add(2),[4,qi(i)]);case 3:a.sent(),i.Br.set("Unknown"),a.label=4;case 4:a.label=5;case 5:return[2]}})})}function Zs(t){var i,a,c,d,e=this;return t.Ur||(t.Ur=(i=t.datastore,a=t.asyncQueue,c={Ii:TC.bind(null,t),Ri:zd.bind(null,t),_r:SC.bind(null,t)},(d=De(i)).br(),new wC(a,d.Hi,d.credentials,d.R,c)),t.Mr.push(function(i){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Ur.sr(),qd(t)?_o(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:a.sent(),IC(t),a.label=3;case 3:return[2]}})})})),t.Ur}function vi(t){var i,a,c,d,e=this;return t.Kr||(t.Kr=(i=t.datastore,a=t.asyncQueue,c={Ii:Y_.bind(null,t),Ri:J_.bind(null,t),Ir:AC.bind(null,t),Tr:RC.bind(null,t)},(d=De(i)).br(),new EC(a,d.Hi,d.credentials,d.R,c)),t.Mr.push(function(i){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Kr.sr(),[4,Qs(t)]):[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:a.sent(),t.kr.length>0&&(be("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),a.label=4;case 4:return[2]}})})})),t.Kr}var Qd=function(){function t(e,i,a,c,d){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=d,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(p){})}return t.createAndSchedule=function(e,i,a,c,d){var p=new t(e,i,Date.now()+a,c,d);return p.start(a),p},t.prototype.start=function(e){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(i){return e.deferred.resolve(i)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function wl(t,e){if(_n("AsyncQueue",e+": "+t),pu(t))return new ge(ee.UNAVAILABLE,e+": "+t);throw t}var Du=function(){function t(e){this.comparator=e?function(i,a){return e(i,a)||ke.comparator(i.key,a.key)}:function(i,a){return ke.comparator(i.key,a.key)},this.keyedMap=Gg(),this.sortedSet=new Nn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.add=function(e){var i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))},t.prototype.delete=function(e){var i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();i.hasNext();){var c=i.getNext().key,d=a.getNext().key;if(!c.isEqual(d))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(i){e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var a=new t;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a},t}(),Dt=function(){function t(){this.Qr=new Nn(ke.comparator)}return t.prototype.track=function(e){var i=e.doc.key,a=this.Qr.get(i);a?0!==e.type&&3===a.type?this.Qr=this.Qr.insert(i,e):3===e.type&&1!==a.type?this.Qr=this.Qr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Qr=this.Qr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Qr=this.Qr.remove(i):1===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):Fe():this.Qr=this.Qr.insert(i,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(i,a){e.push(a)}),e},t}(),_i=function(){function t(e,i,a,c,d,p,m,b){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=m,this.excludesMetadataChanges=b}return t.fromInitialDocuments=function(e,i,a,c){var d=[];return i.forEach(function(p){d.push({type:0,doc:p})}),new t(e,i,Du.emptySet(i),d,a,c,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(var c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0},t}(),Cu=function(){this.Wr=void 0,this.listeners=[]},El=function(){this.queries=new wu(function(t){return s_(t)},Jc),this.onlineState="Unknown",this.Gr=new Set};function X_(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,d,p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:if(i=De(t),c=!1,(d=i.queries.get(a=e.query))||(c=!0,d=new Cu),!c)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),p=d,[4,i.onListen(a)];case 2:return p.Wr=E.sent(),[3,4];case 3:return m=E.sent(),b=wl(m,"Initialization of query '"+bd(e.query)+"' failed"),[2,void e.onError(b)];case 4:return i.queries.set(a,d),d.listeners.push(e),e.zr(i.onlineState),d.Wr&&e.Hr(d.Wr)&&bo(i),[2]}})})}function Ye(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,d,p;return(0,A.Jh)(this,function(m){return i=De(t),c=!1,(d=i.queries.get(a=e.query))&&(p=d.listeners.indexOf(e))>=0&&(d.listeners.splice(p,1),c=0===d.listeners.length),c?[2,(i.queries.delete(a),i.onUnlisten(a))]:[2]})})}function Yr(t,e){for(var i=De(t),a=!1,c=0,d=e;c<d.length;c++){var p=d[c],b=i.queries.get(p.query);if(b){for(var E=0,C=b.listeners;E<C.length;E++)C[E].Hr(p)&&(a=!0);b.Wr=p}}a&&bo(i)}function xm(t,e,i){var a=De(t),c=a.queries.get(e);if(c)for(var d=0,p=c.listeners;d<p.length;d++)p[d].onError(i);a.queries.delete(e)}function bo(t){t.Gr.forEach(function(e){e.next()})}var eb=function(){function t(e,i,a){this.query=e,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var i=[],a=0,c=e.docChanges;a<c.length;a++){var d=c[a];3!==d.type&&i.push(d)}e=new _i(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var p=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),p=!0):this.eo(e,this.onlineState)&&(this.no(e),p=!0),this.Xr=e,p},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),i=!0),i},t.prototype.eo=function(e,i){return!e.fromCache||!(this.options.so&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=_i.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),tb=function(){function t(e,i){this.payload=e,this.byteLength=i}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Mm=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Gn(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?zD(this.R,e.document,!1):Mn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return bn(e)},t}();!function(){function t(e,i,a){this.ro=e,this.localStore=i,this.R=a,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(e)}t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var i=new Map,a=new Mm(this.R),c=0,d=e;c<d.length;c++){var p=d[c];if(p.metadata.queries)for(var m=a.qn(p.metadata.name),b=0,E=p.metadata.queries;b<E.length;b++){var C=E[b],I=(i.get(C)||At()).add(m);i.set(C,I)}}return i},t.prototype.complete=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,$T(this.localStore,new Mm(this.R),this.documents,this.ro.id)];case 1:e=p.sent(),i=this.co(this.documents),a=0,c=this.queries,p.label=2;case 2:return a<c.length?[4,pC(this.localStore,d=c[a],i.get(d.name))]:[3,5];case 3:p.sent(),p.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new G_(Object.assign({},this.progress),e))]}})})}}();var rb=function(t){this.key=t},Or=function(t){this.key=t},Bt=function(){function t(e,i){this.query=e,this.uo=i,this.ao=null,this.current=!1,this.ho=At(),this.mutatedKeys=At(),this.lo=Vg(e),this.fo=new Du(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,i){var a=this,c=i?i.mo:new Dt,d=i?i.fo:this.fo,p=i?i.mutatedKeys:this.mutatedKeys,m=d,b=!1,E=Yc(this.query)&&d.size===this.query.limit?d.last():null,C=Pg(this.query)&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal(function(R,O){var j=d.get(R),W=Xc(a.query,O)?O:null,le=!!j&&a.mutatedKeys.has(j.key),me=!!W&&(W.hasLocalMutations||a.mutatedKeys.has(W.key)&&W.hasCommittedMutations),Ie=!1;j&&W?j.data.isEqual(W.data)?le!==me&&(c.track({type:3,doc:W}),Ie=!0):a.yo(j,W)||(c.track({type:2,doc:W}),Ie=!0,(E&&a.lo(W,E)>0||C&&a.lo(W,C)<0)&&(b=!0)):!j&&W?(c.track({type:0,doc:W}),Ie=!0):j&&!W&&(c.track({type:1,doc:j}),Ie=!0,(E||C)&&(b=!0)),Ie&&(W?(m=m.add(W),p=me?p.add(R):p.delete(R)):(m=m.delete(R),p=p.delete(R)))}),Yc(this.query)||Pg(this.query))for(;m.size>this.query.limit;){var I=Yc(this.query)?m.last():m.first();m=m.delete(I.key),p=p.delete(I.key),c.track({type:1,doc:I})}return{fo:m,mo:c,Nn:b,mutatedKeys:p}},t.prototype.yo=function(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},t.prototype.applyChanges=function(e,i,a){var c=this,d=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var p=e.mo.jr();p.sort(function(C,I){return O=I.type,(j=function(W){switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}})(C.type)-j(O)||c.lo(C.doc,I.doc);var O,j}),this.po(a);var m=i?this.Eo():[],b=0===this.ho.size&&this.current?1:0,E=b!==this.ao;return this.ao=b,0!==p.length||E?{snapshot:new _i(this.query,e.fo,d,p,e.mutatedKeys,0===b,E,!1),To:m}:{To:m}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dt,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var i=this;e&&(e.addedDocuments.forEach(function(a){return i.uo=i.uo.add(a)}),e.modifiedDocuments.forEach(function(a){}),e.removedDocuments.forEach(function(a){return i.uo=i.uo.delete(a)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var i=this.ho;this.ho=At(),this.fo.forEach(function(c){e.Io(c.key)&&(e.ho=e.ho.add(c.key))});var a=[];return i.forEach(function(c){e.ho.has(c)||a.push(new Or(c))}),this.ho.forEach(function(c){i.has(c)||a.push(new rb(c))}),a},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=At();var i=this._o(e.documents);return this.applyChanges(i,!0)},t.prototype.Ro=function(){return _i.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),bi=function(t,e,i){this.query=t,this.targetId=e,this.view=i},ib=function(t){this.key=t,this.bo=!1},xC=function(){function t(e,i,a,c,d,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.vo={},this.Po=new wu(function(m){return s_(m)},Jc),this.Vo=new Map,this.So=new Set,this.Do=new Nn(ke.comparator),this.Co=new Map,this.No=new vm,this.xo={},this.Fo=new Map,this.ko=Od.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function ob(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,c,d,p,m;return(0,A.Jh)(this,function(b){switch(b.label){case 0:return i=Fm(t),(d=i.Po.get(e))?(i.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.Ro(),[3,4]):[3,1];case 1:return[4,rr(i.localStore,Tt(e))];case 2:return p=b.sent(),m=i.sharedClientState.addLocalQueryTarget(p.targetId),[4,Dl(i,e,p.targetId,"current"===m)];case 3:c=b.sent(),i.isPrimaryClient&&Gd(i.remoteStore,p),b.label=4;case 4:return[2,c]}})})}function Dl(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,d,p,m,b,E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:return t.Oo=function(I,R,O){return function(j,W,le,me){return(0,A.mG)(this,void 0,void 0,function(){var Ie,Te,We;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return(Ie=W.view._o(le)).Nn?[4,ym(j.localStore,W.query,!1).then(function(gt){return W.view._o(gt.documents,Ie)})]:[3,2];case 1:Ie=Oe.sent(),Oe.label=2;case 2:return Te=me&&me.targetChanges.get(W.targetId),We=W.view.applyChanges(Ie,j.isPrimaryClient,Te),[2,(Tu(j,W.targetId,We.To),We.snapshot)]}})})}(t,I,R,O)},[4,ym(t.localStore,e,!0)];case 1:return c=C.sent(),d=new Bt(e,c.Bn),p=d._o(c.documents),m=zg.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==t.onlineState),b=d.applyChanges(p,t.isPrimaryClient,m),Tu(t,i,b.To),E=new bi(e,i,d),[2,(t.Po.set(e,E),t.Vo.has(i)?t.Vo.get(i).push(e):t.Vo.set(i,[e]),b.snapshot)]}})})}function Iu(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return i=De(t),a=i.Po.get(e),(c=i.Vo.get(a.targetId)).length>1?[2,(i.Vo.set(a.targetId,c.filter(function(p){return!Jc(p,e)})),void i.Po.delete(e))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)?[3,2]:[4,Ks(i.localStore,a.targetId,!1).then(function(){i.sharedClientState.clearQueryState(a.targetId),_l(i.remoteStore,a.targetId),wi(i,a.targetId)}).catch(zs)]):[3,3];case 1:d.sent(),d.label=2;case 2:return[3,5];case 3:return wi(i,a.targetId),[4,Ks(i.localStore,a.targetId,!0)];case 4:d.sent(),d.label=5;case 5:return[2]}})})}function Cl(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:a=lb(t),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(b=a.localStore,E=e,I=De(b),R=gr.now(),O=E.reduce(function(j,W){return j.add(W.key)},At()),I.persistence.runTransaction("Locally write mutations","readwrite",function(j){return I.Mn.pn(j,O).next(function(W){C=W;for(var le=[],me=0,Ie=E;me<Ie.length;me++){var Te=Ie[me],We=nl(Te,C.get(Te.key));null!=We&&le.push(new go(Te.key,We,xg(We.value.mapValue),$n.exists(!0)))}return I._n.addMutationBatch(j,R,le,E)})}).then(function(j){return j.applyToLocalDocumentSet(C),{batchId:j.batchId,changes:C}}))];case 2:return c=m.sent(),a.sharedClientState.addPendingMutation(c.batchId),function(b,E,C){var I=b.xo[b.currentUser.toKey()];I||(I=new Nn(ht)),I=I.insert(E,C),b.xo[b.currentUser.toKey()]=I}(a,c.batchId,i),[4,zi(a,c.changes)];case 3:return m.sent(),[4,Qs(a.remoteStore)];case 4:return m.sent(),[3,6];case 5:return d=m.sent(),p=wl(d,"Failed to persist write"),i.reject(p),[3,6];case 6:return[2]}var b,E,C,I,R,O})})}function sb(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:i=De(t),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,lC(i.localStore,e)];case 2:return a=c.sent(),e.targetChanges.forEach(function(d,p){var m=i.Co.get(p);m&&(Ze(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?m.bo=!0:d.modifiedDocuments.size>0?Ze(m.bo):d.removedDocuments.size>0&&(Ze(m.bo),m.bo=!1))}),[4,zi(i,a,e)];case 3:return c.sent(),[3,6];case 4:return[4,zs(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function Jo(t,e,i){var a=De(t);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){var c=[];a.Po.forEach(function(d,p){var m=p.view.zr(e);m.snapshot&&c.push(m.snapshot)}),function(d,p){var m=De(d);m.onlineState=p;var b=!1;m.queries.forEach(function(E,C){for(var I=0,R=C.listeners;I<R.length;I++)R[I].zr(p)&&(b=!0)}),b&&bo(m)}(a.eventManager,e),c.length&&a.vo._r(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function MC(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return(a=De(t)).sharedClientState.updateQueryState(e,"rejected",i),c=a.Co.get(e),(d=c&&c.key)?(p=(p=new Nn(ke.comparator)).insert(d,Mn.newNoDocument(d,ut.min())),m=At().add(d),b=new qg(ut.min(),new Map,new pn(ht),p,m),[4,sb(a,b)]):[3,2];case 1:return E.sent(),a.Do=a.Do.remove(d),a.Co.delete(e),Yd(a),[3,4];case 2:return[4,Ks(a.localStore,e,!1).then(function(){return wi(a,e,i)}).catch(zs)];case 3:E.sent(),E.label=4;case 4:return[2]}})})}function ab(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:i=De(t),a=e.batch.batchId,d.label=1;case 1:return d.trys.push([1,4,,6]),[4,cC(i.localStore,e)];case 2:return c=d.sent(),Zd(i,a,null),Tl(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),[4,zi(i,c)];case 3:return d.sent(),[3,6];case 4:return[4,zs(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}})})}function Nm(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:a=De(t),d.label=1;case 1:return d.trys.push([1,4,,6]),[4,(p=a.localStore,m=e,b=De(p),b.persistence.runTransaction("Reject batch","readwrite-primary",function(E){var C;return b._n.lookupMutationBatch(E,m).next(function(I){return Ze(null!==I),C=I.keys(),b._n.removeMutationBatch(E,I)}).next(function(){return b._n.performConsistencyCheck(E)}).next(function(){return b.Mn.pn(E,C)})}))];case 2:return c=d.sent(),Zd(a,e,i),Tl(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),[4,zi(a,c)];case 3:return d.sent(),[3,6];case 4:return[4,zs(d.sent())];case 5:return d.sent(),[3,6];case 6:return[2]}var p,m,b})})}function Il(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:Yo((i=De(t)).remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(b=i.localStore,E=De(b),E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return E._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(a=m.sent())?[2,void e.resolve()]:((c=i.Fo.get(a)||[]).push(e),i.Fo.set(a,c),[3,4]);case 3:return d=m.sent(),p=wl(d,"Initialization of waitForPendingWrites() operation failed"),e.reject(p),[3,4];case 4:return[2]}var b,E})})}function Tl(t,e){(t.Fo.get(e)||[]).forEach(function(i){i.resolve()}),t.Fo.delete(e)}function Zd(t,e,i){var a=De(t),c=a.xo[a.currentUser.toKey()];if(c){var d=c.get(e);d&&(i?d.reject(i):d.resolve(),c=c.remove(e)),a.xo[a.currentUser.toKey()]=c}}function wi(t,e,i){void 0===i&&(i=null),t.sharedClientState.removeLocalQueryTarget(e);for(var a=0,c=t.Vo.get(e);a<c.length;a++){var d=c[a];t.Po.delete(d),i&&t.vo.Mo(d,i)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(p){t.No.containsKey(p)||ub(t,p)})}function ub(t,e){t.So.delete(e.path.canonicalString());var i=t.Do.get(e);null!==i&&(_l(t.remoteStore,i),t.Do=t.Do.remove(e),t.Co.delete(i),Yd(t))}function Tu(t,e,i){for(var a=0,c=i;a<c.length;a++){var d=c[a];d instanceof rb?(t.No.addReference(d.key,e),cb(t,d)):d instanceof Or?(be("SyncEngine","Document no longer in limbo: "+d.key),t.No.removeReference(d.key,e),t.No.containsKey(d.key)||ub(t,d.key)):Fe()}}function cb(t,e){var i=e.key,a=i.path.canonicalString();t.Do.get(i)||t.So.has(a)||(be("SyncEngine","New document in limbo: "+i),t.So.add(a),Yd(t))}function Yd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var i=new ke(bt.fromString(e)),a=t.ko.next();t.Co.set(a,new ib(i)),t.Do=t.Do.insert(i,a),Gd(t.remoteStore,new Md(Tt(Hs(i.path)),a,2,Rr.o))}}function zi(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return a=De(t),c=[],d=[],p=[],a.Po.isEmpty()?[3,3]:(a.Po.forEach(function(b,E){p.push(a.Oo(E,e,i).then(function(C){if(C){a.isPrimaryClient&&a.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),c.push(C);var I=uC.Pn(E.targetId,C);d.push(I)}}))}),[4,Promise.all(p)]);case 1:return m.sent(),a.vo._r(c),[4,function(b,E){return(0,A.mG)(this,void 0,void 0,function(){var C,I,R,O,j,W,le,Ie;return(0,A.Jh)(this,function(Te){switch(Te.label){case 0:C=De(b),Te.label=1;case 1:return Te.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(We){return _e.forEach(E,function(Oe){return _e.forEach(Oe.bn,function(gt){return C.persistence.referenceDelegate.addReference(We,Oe.targetId,gt)}).next(function(){return _e.forEach(Oe.vn,function(gt){return C.persistence.referenceDelegate.removeReference(We,Oe.targetId,gt)})})})})];case 2:return Te.sent(),[3,4];case 3:if(!pu(I=Te.sent()))throw I;return be("LocalStore","Failed to update sequence numbers: "+I),[3,4];case 4:for(R=0,O=E;R<O.length;R++)W=(j=O[R]).targetId,j.fromCache||(le=C.Fn.get(W),Ie=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion),C.Fn=C.Fn.insert(W,Ie));return[2]}})})}(a.localStore,d)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function Jd(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return(i=De(t)).currentUser.isEqual(e)?[3,3]:(be("SyncEngine","User change. New user:",e.toKey()),[4,pl(i.localStore,e)]);case 1:return a=c.sent(),i.currentUser=e,(d=i).Fo.forEach(function(m){m.forEach(function(b){b.reject(new ge(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Fo.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),[4,zi(i,a.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var d})})}function NC(t,e){var i=De(t),a=i.Co.get(e);if(a&&a.bo)return At().add(a.key);var c=At(),d=i.Vo.get(e);if(!d)return c;for(var p=0,m=d;p<m.length;p++){var E=i.Po.get(m[p]);c=c.unionWith(E.view.wo)}return c}function Om(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,ym((i=De(t)).localStore,e.query,!0)];case 1:return a=d.sent(),c=e.view.Ao(a),[2,(i.isPrimaryClient&&Tu(i,e.targetId,c.To),c)]}})})}function Pm(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){return[2,q_((e=De(t)).localStore).then(function(a){return zi(e,a)})]})})}function KT(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,(m=(c=De(t)).localStore,b=e,E=De(m),C=De(E._n),E.persistence.runTransaction("Lookup mutation documents","readonly",function(I){return C.jt(I,b).next(function(R){return R?E.Mn.pn(I,R):_e.resolve(null)})}))];case 1:return null===(d=p.sent())?[3,6]:"pending"!==i?[3,3]:[4,Qs(c.remoteStore)];case 2:return p.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(Zd(c,e,a||null),Tl(c,e),function(m,b){De(De(m)._n).Gt(b)}(c.localStore,e)):Fe(),p.label=4;case 4:return[4,zi(c,d)];case 5:return p.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+e),p.label=7;case 7:return[2]}var m,b,E,C})})}function QT(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,d,p,b,E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:return Fm(i=De(t)),lb(i),!0!==e||!0===i.$o?[3,3]:(a=i.sharedClientState.getAllActiveQueryTargets(),[4,Je(i,a.toArray())]);case 1:return c=C.sent(),i.$o=!0,[4,Rm(i.remoteStore,!0)];case 2:for(C.sent(),d=0,p=c;d<p.length;d++)Gd(i.remoteStore,p[d]);return[3,7];case 3:return!1!==e||!1===i.$o?[3,7]:(b=[],E=Promise.resolve(),i.Vo.forEach(function(I,R){i.sharedClientState.isLocalQueryTarget(R)?b.push(R):E=E.then(function(){return wi(i,R),Ks(i.localStore,R,!0)}),_l(i.remoteStore,R)}),[4,E]);case 4:return C.sent(),[4,Je(i,b)];case 5:return C.sent(),(R=De(i)).Co.forEach(function(O,j){_l(R.remoteStore,j)}),R.No.ts(),R.Co=new Map,R.Do=new Nn(ke.comparator),i.$o=!1,[4,Rm(i.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var R})})}function Je(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p,m,b,E,C,I,R,j,W,le;return(0,A.Jh)(this,function(me){switch(me.label){case 0:a=De(t),c=[],d=[],p=0,m=e,me.label=1;case 1:return p<m.length?(E=void 0,(C=a.Vo.get(b=m[p]))&&0!==C.length?[4,rr(a.localStore,Tt(C[0]))]:[3,7]):[3,13];case 2:E=me.sent(),I=0,R=C,me.label=3;case 3:return I<R.length?(j=a.Po.get(R[I]),[4,Om(a,j)]):[3,6];case 4:(W=me.sent()).snapshot&&d.push(W.snapshot),me.label=5;case 5:return I++,[3,3];case 6:return[3,11];case 7:return[4,gl(a.localStore,b)];case 8:return le=me.sent(),[4,rr(a.localStore,le)];case 9:return E=me.sent(),[4,Dl(a,OC(le),b,!1)];case 10:me.sent(),me.label=11;case 11:c.push(E),me.label=12;case 12:return p++,[3,1];case 13:return[2,(a.vo._r(d),c)]}})})}function OC(t){return Og(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sl(t){var e=De(t);return De(De(e.localStore).persistence).fn()}function PC(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,d,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return(c=De(t)).$o?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,q_(c.localStore)];case 3:return d=m.sent(),p=qg.createSynthesizedRemoteEventForCurrentChange(e,"current"===i),[4,zi(c,d,p)];case 4:return m.sent(),[3,8];case 5:return[4,Ks(c.localStore,e,!0)];case 6:return m.sent(),wi(c,e,a),[3,8];case 7:Fe(),m.label=8;case 8:return[2]}})})}function FC(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,d,p,m,b,E,C,I;return(0,A.Jh)(this,function(O){switch(O.label){case 0:if(!(a=Fm(t)).$o)return[3,10];c=0,d=e,O.label=1;case 1:return c<d.length?a.Vo.has(p=d[c])?(be("SyncEngine","Adding an already active target "+p),[3,5]):[4,gl(a.localStore,p)]:[3,6];case 2:return m=O.sent(),[4,rr(a.localStore,m)];case 3:return b=O.sent(),[4,Dl(a,OC(m),b.targetId,!1)];case 4:O.sent(),Gd(a.remoteStore,b),O.label=5;case 5:return c++,[3,1];case 6:E=function(j){return(0,A.Jh)(this,function(W){switch(W.label){case 0:return a.Vo.has(j)?[4,Ks(a.localStore,j,!1).then(function(){_l(a.remoteStore,j),wi(a,j)}).catch(zs)]:[3,2];case 1:W.sent(),W.label=2;case 2:return[2]}})},C=0,I=i,O.label=7;case 7:return C<I.length?[5,E(I[C])]:[3,10];case 8:O.sent(),O.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Fm(t){var e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.vo._r=Yr.bind(null,e.eventManager),e.vo.Mo=xm.bind(null,e.eventManager),e}function lb(t){var e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ab.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nm.bind(null,e),e}var fb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.R=yl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return Vd(this.persistence,new Zo,e.initialUser,this.R)},t.prototype.qo=function(e){return new GT(vC.bs,this.R)},t.prototype.Bo=function(e){return new ml},t.prototype.terminate=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),Pn=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).Qo=i,d.cacheSizeBytes=a,d.forceOwnership=c,d.synchronizeTabs=!1,d}return(0,A.ZT)(e,t),e.prototype.initialize=function(i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return a.sent(),[4,hC(this.localStore)];case 2:return a.sent(),[4,this.Qo.initialize(this,i)];case 3:return a.sent(),[4,lb(this.Qo.syncEngine)];case 4:return a.sent(),[4,Qs(this.Qo.remoteStore)];case 5:return a.sent(),[2]}})})},e.prototype.Ko=function(i){return Vd(this.persistence,new Zo,i.initialUser,this.R)},e.prototype.Uo=function(i){return new rC(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},e.prototype.qo=function(i){var a=Ld(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new sC(this.synchronizeTabs,a,i.clientId,c,i.asyncQueue,Q_(),$d(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(i){return new ml},e}(fb),kC=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a,!1)||this).Qo=i,c.cacheSizeBytes=a,c.synchronizeTabs=!0,c}return(0,A.ZT)(e,t),e.prototype.initialize=function(i){return(0,A.mG)(this,void 0,void 0,function(){var a,c=this;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return d.sent(),a=this.Qo.syncEngine,this.sharedClientState instanceof Bd?(this.sharedClientState.syncEngine={ui:KT.bind(null,a),ai:PC.bind(null,a),hi:FC.bind(null,a),fn:Sl.bind(null,a),ci:Pm.bind(null,a)},[4,this.sharedClientState.start()]):[3,3];case 2:d.sent(),d.label=3;case 3:return[4,this.persistence.He(function(p){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return[4,QT(this.Qo.syncEngine,p)];case 1:return m.sent(),this.gcScheduler&&(p&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):p||this.gcScheduler.stop()),[2]}})})})];case 4:return d.sent(),[2]}})})},e.prototype.Bo=function(i){var a=Q_();if(!Bd.yt(a))throw new ge(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=Ld(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Bd(a,i.asyncQueue,c,i.clientId,i.initialUser)},e}(Pn),km=function(){function t(){}return t.prototype.initialize=function(e,i){return(0,A.mG)(this,void 0,void 0,function(){var a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(d){return Jo(a.syncEngine,d,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jd.bind(null,this.syncEngine),[4,Rm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new El},t.prototype.createDatastore=function(e){var a=yl(e.databaseInfo.databaseId),c=new qT(e.databaseInfo);return new DC(e.credentials,c,a)},t.prototype.createRemoteStore=function(e){var i,a,c,d,p,m=this;return i=this.localStore,a=this.datastore,c=e.asyncQueue,d=function(b){return Jo(m.syncEngine,b,0)},p=Eu.yt()?new Eu:new Hd,new zT(i,a,c,d,p)},t.prototype.createSyncEngine=function(e,i){return E=i,C=new xC(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),E&&(C.$o=!0),C;var E,C},t.prototype.terminate=function(){return function(e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i=De(e),be("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,qi(i)];case 1:return a.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),eh=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,i){var a=this;this.muted||setTimeout(function(){a.muted||e(i)},0)},t}(),VC=(function(){function t(e,i){var a=this;this.Go=e,this.R=i,this.metadata=new On,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Jo()];case 1:return null===(e=d.sent())?[2,null]:(i=this.zo.decode(e),a=Number(i),isNaN(a)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(a)]);case 2:return c=d.sent(),[2,new tb(JSON.parse(c),e.length+a)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),i)])}})})},t.prototype.Xo=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),i)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(e=a.sent()).done||((i=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i),[2,e.done]}})})}}(),function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i,a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(d,p){return(0,A.mG)(this,void 0,void 0,function(){var m,b,E,C,I,R;return(0,A.Jh)(this,function(O){switch(O.label){case 0:return m=De(d),b=Bi(m.R)+"/documents",E={documents:p.map(function(j){return lu(m.R,j)})},[4,m.$i("BatchGetDocuments",b,E)];case 1:return C=O.sent(),I=new Map,C.forEach(function(j){var le,me,W=(le=m.R,"found"in(me=j)?function(Ie,Te){Ze(!!Te.found);var We=Gn(Ie,Te.found.name),Oe=bn(Te.found.updateTime),gt=new mr({mapValue:{fields:Te.found.fields}});return Mn.newFoundDocument(We,Oe,gt)}(le,me):"missing"in me?function(Ie,Te){Ze(!!Te.missing),Ze(!!Te.readTime);var We=Gn(Ie,Te.missing),Oe=bn(Te.readTime);return Mn.newNoDocument(We,Oe)}(le,me):Fe());I.set(W.key.toString(),W)}),R=[],[2,(p.forEach(function(j){var W=I.get(j.toString());Ze(!!W),R.push(W)}),R)]}})})}(this.datastore,e)];case 1:return[2,((i=c.sent()).forEach(function(d){return a.recordVersion(d)}),i)]}})})},t.prototype.set=function(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i=this;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(c){e.delete(c.key.toString())}),e.forEach(function(c,d){var p=ke.fromPath(d);i.mutations.push(new ol(p,i.precondition(p)))}),[4,function(c,d){return(0,A.mG)(this,void 0,void 0,function(){var p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return p=De(c),m=Bi(p.R)+"/documents",b={writes:d.map(function(C){return al(p.R,C)})},[4,p.Ni("Commit",m,b)];case 1:return E.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Fe();i=ut.min()}var a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ge(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)},t.prototype.precondition=function(e){var i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?$n.updateTime(i):$n.none()},t.prototype.preconditionForUpdate=function(e){var i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ut.min()))throw new ge(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(i)}return $n.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}()),UC=function(){function t(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new Im(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,A.mG)(e,void 0,void 0,function(){var i,a,c=this;return(0,A.Jh)(this,function(d){return i=new VC(this.datastore),(a=this.sc(i))&&a.then(function(p){c.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){c.deferred.resolve(p)}).catch(function(m){c.ic(m)})})}).catch(function(p){c.ic(p)}),[2]})})})},t.prototype.sc=function(e){try{var i=this.updateFunction(e);return!js(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},t.prototype.ic=function(e){var i=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var i=e.code;return"aborted"===i||"failed-precondition"===i||!Bg(i)}return!1},t}(),jC=function(){function t(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=_r.UNAUTHENTICATED,this.clientId=X0.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(d){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(p){switch(p.label){case 0:return be("FirestoreClient","Received user=",d.uid),[4,this.credentialListener(d)];case 1:return p.sent(),this.user=d,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var i=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(e,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:d.sent(),d.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:d.sent(),d.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return a=d.sent(),c=wl(a,"Failed to shutdown persistence"),i.reject(c),[3,6];case 6:return[2]}})})}),i.promise},t}();function db(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c=this;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return i=d.sent(),[4,e.initialize(i)];case 2:return d.sent(),a=i.initialUser,t.setCredentialChangeListener(function(p){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return a.isEqual(p)?[3,2]:[4,pl(e.localStore,p)];case 1:m.sent(),a=p,m.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function th(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Lm(t)];case 1:return i=c.sent(),be("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return a=c.sent(),[4,e.initialize(i,a)];case 3:return c.sent(),t.setCredentialChangeListener(function(d){return function(p,m){return(0,A.mG)(this,void 0,void 0,function(){var b,E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:return(b=De(p)).asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials"),E=Yo(b),b.Or.add(3),[4,qi(b)];case 1:return C.sent(),E&&b.Br.set("Unknown"),[4,b.remoteSyncer.handleCredentialChange(m)];case 2:return C.sent(),b.Or.delete(3),[4,vl(b)];case 3:return C.sent(),[2]}})})}(e.remoteStore,d)}),t.onlineComponents=e,[2]}})})}function Lm(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(be("FirestoreClient","Using default OfflineComponentProvider"),[4,db(t,new fb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function nh(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(be("FirestoreClient","Using default OnlineComponentProvider"),[4,th(t,new km)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Vm(t){return Lm(t).then(function(e){return e.persistence})}function Al(t){return Lm(t).then(function(e){return e.localStore})}function hb(t){return nh(t).then(function(e){return e.remoteStore})}function pb(t){return nh(t).then(function(e){return e.syncEngine})}function Su(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,nh(t)];case 1:return e=a.sent(),[2,((i=e.eventManager).onListen=ob.bind(null,e.syncEngine),i.onUnlisten=Iu.bind(null,e.syncEngine),i)]}})})}function gb(t,e,i){var a=this;void 0===i&&(i={});var c=new On;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(a,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return d=function(m,b,E,C,I){var R=new eh({next:function(j){b.enqueueAndForget(function(){return Ye(m,O)});var W=j.docs.has(E);!W&&j.fromCache?I.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&j.fromCache&&C&&"server"===C.source?I.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(j)},error:function(j){return I.reject(j)}}),O=new eb(Hs(E.path),R,{includeMetadataChanges:!0,so:!0});return X_(m,O)},[4,Su(t)];case 1:return[2,d.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}function mb(t,e,i){var a=this;void 0===i&&(i={});var c=new On;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(a,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return d=function(m,b,E,C,I){var R=new eh({next:function(j){b.enqueueAndForget(function(){return Ye(m,O)}),j.fromCache&&"server"===C.source?I.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(j)},error:function(j){return I.reject(j)}}),O=new eb(E,R,{includeMetadataChanges:!0,so:!0});return X_(m,O)},[4,Su(t)];case 1:return[2,d.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}var BC=function(t,e,i,a,c,d,p,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=m},rh=function(){function t(e,i){this.projectId=e,this.database=i||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yb=new Map,Au=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},vb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){this.changeListener=i,e.enqueueRetryable(function(){return i(_r.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),HC=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){var a=this;this.changeListener=i,e.enqueueRetryable(function(){return i(a.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_b=function(){function t(e){var i=this;this.currentUser=_r.UNAUTHENTICATED,this.oc=new On,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var a=function(c){be("FirebaseCredentialsProvider","Auth detected"),i.auth=c,i.auth.addAuthTokenListener(i.uc)};e.onInit(function(c){return a(c)}),setTimeout(function(){if(!i.auth){var c=e.getImmediate({optional:!0});c?a(c):(be("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,i=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return e.cc!==i?(be("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):c?(Ze("string"==typeof c.accessToken),new Au(c.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,i){var a=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(a,void 0,void 0,function(){return(0,A.Jh)(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,i(this.currentUser)];case 2:return c.sent(),this.changeListener=i,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Ze(null===e||"string"==typeof e),new _r(e)},t}(),Rl=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a,this.type="FirstParty",this.user=_r.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),YT=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a}return t.prototype.getToken=function(){return Promise.resolve(new Rl(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,i){e.enqueueRetryable(function(){return i(_r.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function ih(t,e,i){if(!i)throw new ge(ee.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Um(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ge(ee.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function bb(t,e,i,a){if(!0===e&&!0===a)throw new ge(ee.INVALID_ARGUMENT,t+" and "+i+" cannot be used together.")}function wb(t){if(!ke.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Eb(t){if(ke.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function oh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(i){if(i.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(a&&a.length>1)return a[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fe()}function wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=oh(t);throw new ge(ee.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+i)}return t}function Db(t,e){if(e<=0)throw new ge(ee.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Cb=function(){function t(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),sh=function(){function t(e,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,e instanceof rh?(this._databaseId=e,this._credentials=new vb):(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(a.options.projectId)}(e),this._credentials=new _b(i))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new vb;switch(i.type){case"gapi":var a=i.client;return Ze(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new YT(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(i=yb.get(this))&&(be("ComponentProvider","Removing Datastore"),yb.delete(this),i.terminate()),Promise.resolve();var i},t}(),Jt=function(){function t(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Pr=function(){function t(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Wi=function(t){function e(i,a,c){var d=this;return(d=t.call(this,i,a,Hs(c))||this)._path=c,d.type="collection",d}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new Jt(this.firestore,null,new ke(i))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._path)},e}(Pr);function Ib(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,_t.m9)(t),ih("collection","path",e),t instanceof sh)return Eb(i=bt.fromString.apply(bt,(0,A.ev)([e],a))),new Wi(t,null,i);if(!(t instanceof Jt||t instanceof Wi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Eb(i=bt.fromString.apply(bt,(0,A.ev)([t.path],a)).child(bt.fromString(e))),new Wi(t.firestore,null,i)}function ah(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,_t.m9)(t),1===arguments.length&&(e=X0.u()),ih("doc","path",e),t instanceof sh)return wb(i=bt.fromString.apply(bt,(0,A.ev)([e],a))),new Jt(t,null,new ke(i));if(!(t instanceof Jt||t instanceof Wi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wb(i=t._path.child(bt.fromString.apply(bt,(0,A.ev)([e],a)))),new Jt(t.firestore,t instanceof Wi?t.converter:null,new ke(i))}function Tb(t,e){return t=(0,_t.m9)(t),e=(0,_t.m9)(e),(t instanceof Jt||t instanceof Wi)&&(e instanceof Jt||e instanceof Wi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Sb(t,e){return t=(0,_t.m9)(t),e=(0,_t.m9)(e),t instanceof Pr&&e instanceof Pr&&t.firestore===e.firestore&&Jc(t._query,e._query)&&t.converter===e.converter}var $C=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Im(this,"async_queue_retry"),this.Ic=function(){var a=$d();a&&be("AsyncQueue","Visibility state changed to "+a.visibilityState),e.Zi.Gi()};var i=$d();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var i=$d();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var a=new On;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)}).then(function(){return a.promise})},t.prototype.enqueueRetryable=function(e){var i=this;this.enqueueAndForget(function(){return i.wc.push(e),i.bc()})},t.prototype.bc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i=this;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(0===this.wc.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!pu(e=a.sent()))throw e;return be("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),a.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var i=this,a=this.dc.then(function(){return i.gc=!0,e().catch(function(c){throw i.yc=c,i.gc=!1,_n("INTERNAL UNHANDLED ERROR: ",(p=(d=c).message||"",d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p)),c;var d,p}).then(function(c){return i.gc=!1,c})});return this.dc=a,a},t.prototype.enqueueAfterDelay=function(e,i,a){var c=this;this.Ac(),this.Tc.indexOf(e)>-1&&(i=0);var d=Qd.createAndSchedule(this,e,i,a,function(p){return c.vc(p)});return this.mc.push(d),d},t.prototype.Ac=function(){this.yc&&Fe()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,e=this.dc];case 1:i.sent(),i.label=2;case 2:if(e!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var i=0,a=this.mc;i<a.length;i++)if(a[i].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var i=this;return this.Pc().then(function(){i.mc.sort(function(p,m){return p.targetTimeMs-m.targetTimeMs});for(var a=0,c=i.mc;a<c.length;a++){var d=c[a];if(d.skipDelay(),"all"!==e&&d.timerId===e)break}return i.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var i=this.mc.indexOf(e);this.mc.splice(i,1)},t}();function Ru(t){return function(e,i){if("object"!=typeof e||null===e)return!1;for(var a=e,c=0,d=["next","error","complete"];c<d.length;c++){var p=d[c];if(p in a&&"function"==typeof a[p])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new On,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(e,i,a){this._progressObserver={next:e,error:i,complete:a}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,i){return this._taskCompletionResolver.promise.then(e,i)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var un=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).type="firestore",c._queue=new $C,c._persistenceKey="name"in i?i.name:"[DEFAULT]",c}return(0,A.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Fn(this),this._firestoreClient.terminate()},e}(sh);function qt(t){return t._firestoreClient||Fn(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fn(t){var e,d,m,i=t._freezeSettings(),a=(d=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new BC(t._databaseId,d,t._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));t._firestoreClient=new jC(t._credentials,t._queue,a)}function Bm(t,e,i){var a=this,c=new On;return t.asyncQueue.enqueue(function(){return(0,A.mG)(a,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),[4,db(t,i)];case 1:return p.sent(),[4,th(t,e)];case 2:return p.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=d=p.sent()).name?m.code===ee.FAILED_PRECONDITION||m.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),c.reject(d),[3,4];case 4:return[2]}var m})})}).then(function(){return c.promise})}function Jr(t){if(t._initialized||t._terminated)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xr=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var a=0;a<e.length;++a)if(0===e[a].length)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Ys=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(er.fromBase64String(e))}catch(i){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},t.fromUint8Array=function(e){return new t(er.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Xo=function(t){this._methodName=t},xl=function(){function t(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return ht(this._lat,e._lat)||ht(this._long,e._long)},t}(),Rb=/^__.*__$/,GC=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,i,this.fieldTransforms):new rl(e,this.data,i,this.fieldTransforms)},t}(),xb=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return new go(e,this.data,this.fieldMask,i,this.fieldTransforms)},t}();function Mb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}var Hm=function(){function t(e,i,a,c,d,p){this.settings=e,this.databaseId=i,this.R=a,this.ignoreUndefinedProperties=c,void 0===d&&this.Cc(),this.fieldTransforms=d||[],this.fieldMask=p||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,kc:!1});return c.$c(e),c},t.prototype.Oc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,kc:!1});return c.Cc(),c},t.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(e){return fh(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(i){return e.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return e.isPrefixOf(i.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Mb(this.Nc)&&Rb.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),qC=function(){function t(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.R=a||yl(e)}return t.prototype.Uc=function(e,i,a,c){return void 0===c&&(c=!1),new Hm({Nc:e,methodName:i,qc:a,path:qr.emptyPath(),kc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function xu(t){var e=t._freezeSettings(),i=yl(t._databaseId);return new qC(t._databaseId,!!e.ignoreUndefinedProperties,i)}function uh(t,e,i,a,c,d){void 0===d&&(d={});var p=t.Uc(d.merge||d.mergeFields?2:0,e,i,c);qm("Data must be an object, but it was:",p,a);var m,b,E=Ob(a,p);if(d.merge)m=new po(p.fieldMask),b=p.fieldTransforms;else if(d.mergeFields){for(var C=[],I=0,R=d.mergeFields;I<R.length;I++){var O=zm(e,R[I],i);if(!p.contains(O))throw new ge(ee.INVALID_ARGUMENT,"Field '"+O+"' is specified in your field mask but missing from your input data.");Fb(C,O)||C.push(O)}m=new po(C),b=p.fieldTransforms.filter(function(j){return m.covers(j.field)})}else m=null,b=p.fieldTransforms;return new GC(new mr(E),m,b)}var $m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},e.prototype.isEqual=function(i){return i instanceof e},e}(Xo);function Js(t,e,i){return new Hm({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:i},e.databaseId,e.R,e.ignoreUndefinedProperties)}var JT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){return new au(i.path,new Gs)},e.prototype.isEqual=function(i){return i instanceof e},e}(Xo),Nb=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=Js(this,i,!0),c=this.Kc.map(function(p){return Xs(p,a)}),d=new Wo(c);return new au(i.path,d)},e.prototype.isEqual=function(i){return this===i},e}(Xo),zC=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=Js(this,i,!0),c=this.Kc.map(function(p){return Xs(p,a)}),d=new qs(c);return new au(i.path,d)},e.prototype.isEqual=function(i){return this===i},e}(Xo),XT=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Qc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=new tr(i.R,c_(i.R,this.Qc));return new au(i.path,a)},e.prototype.isEqual=function(i){return this===i},e}(Xo);function ch(t,e,i,a){var c=t.Uc(1,e,i);qm("Data must be an object, but it was:",c,a);var d=[],p=mr.empty();Vs(a,function(b,E){var C=Wm(e,b,i);E=(0,_t.m9)(E);var I=c.Oc(C);if(E instanceof $m)d.push(C);else{var R=Xs(E,I);null!=R&&(d.push(C),p.set(C,R))}});var m=new po(d);return new xb(p,m,c.fieldTransforms)}function Gm(t,e,i,a,c,d){var p=t.Uc(1,e,i),m=[zm(e,a,i)],b=[c];if(d.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var E=0;E<d.length;E+=2)m.push(zm(e,d[E])),b.push(d[E+1]);for(var C=[],I=mr.empty(),R=m.length-1;R>=0;--R)if(!Fb(C,m[R])){var O=m[R],j=b[R];j=(0,_t.m9)(j);var W=p.Oc(O);if(j instanceof $m)C.push(O);else{var le=Xs(j,W);null!=le&&(C.push(O),I.set(O,le))}}var me=new po(C);return new xb(I,me,p.fieldTransforms)}function lh(t,e,i,a){return void 0===a&&(a=!1),Xs(i,t.Uc(a?4:3,e))}function Xs(t,e){if(Pb(t=(0,_t.m9)(t)))return qm("Unsupported field value:",e,t),Ob(t,e);if(t instanceof Xo)return function(i,a){if(!Mb(a.Nc))throw a.Lc(i._methodName+"() can only be used with update() and set()");if(!a.path)throw a.Lc(i._methodName+"() is not currently supported inside arrays");var c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(i,a){for(var c=[],d=0,p=0,m=i;p<m.length;p++){var b=Xs(m[p],a.Mc(d));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),d++}return{arrayValue:{values:c}}}(t,e)}return function(i,a){if(null===(i=(0,_t.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return c_(a.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var c=gr.fromDate(i);return{timestampValue:cu(a.R,c)}}if(i instanceof gr)return c=new gr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:cu(a.R,c)};if(i instanceof xl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ys)return{bytesValue:Kg(a.R,i._byteString)};if(i instanceof Jt){var d=i.firestore._databaseId;if(!d.isEqual(c=a.databaseId))throw a.Lc("Document reference is for database "+d.projectId+"/"+d.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:Id(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Lc("Unsupported field value: "+oh(i))}(t,e)}function Ob(t,e){var i={};return Us(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(t,function(a,c){var d=Xs(c,e.Fc(a));null!=d&&(i[a]=d)}),{mapValue:{fields:i}}}function Pb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof xl||t instanceof Ys||t instanceof Jt||t instanceof Xo)}function qm(t,e,i){if(!Pb(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var a=oh(i);throw e.Lc("an object"===a?t+" a custom object":t+" "+a)}var c}function zm(t,e,i){if((e=(0,_t.m9)(e))instanceof Xr)return e._internalPath;if("string"==typeof e)return Wm(t,e);throw fh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}var WC=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,i){if(e.search(WC)>=0)throw fh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,i);try{return(new(Xr.bind.apply(Xr,(0,A.ev)([void 0],e.split(".")))))._internalPath}catch(a){throw fh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,i)}}function fh(t,e,i,a,c){var d=a&&!a.isEmpty(),p=void 0!==c,m="Function "+e+"() called with invalid data";i&&(m+=" (via `toFirestore()`)");var b="";return(d||p)&&(b+=" (found",d&&(b+=" in field "+a),p&&(b+=" in document "+c),b+=")"),new ge(ee.INVALID_ARGUMENT,(m+=". ")+t+b)}function Fb(t,e){return t.some(function(i){return i.isEqual(e)})}var Ml=function(){function t(e,i,a,c,d){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=d}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new Nl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var i=this._document.data.field(Ol("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}},t}(),Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ml);function Ol(t,e){return"string"==typeof e?Wm(t,e):e instanceof Xr?e._internalPath:e._delegate._internalPath}var es=function(){function t(e,i){this.hasPendingWrites=e,this.fromCache=i}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Ki=function(t){function e(i,a,c,d,p,m){var b=this;return(b=t.call(this,i,a,c,d,m)||this)._firestore=i,b._firestoreImpl=i,b.metadata=p,b}return(0,A.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var a=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},e.prototype.get=function(i,a){if(void 0===a&&(a={}),this._document){var c=this._document.data.field(Ol("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}},e}(Ml),Mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(i){return void 0===i&&(i={}),t.prototype.data.call(this,i)},e}(Ki),wo=function(){function t(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new es(c.hasPendingWrites,c.fromCache),this.query=a}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(i){return e.push(i)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,i){var a=this;this._snapshot.docs.forEach(function(c){e.call(i,new Mu(a._firestore,a._userDataWriter,c.key,c,new es(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){var d=0;return a._snapshot.docChanges.map(function(m){return{type:"added",doc:new Mu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new es(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:d++}})}var p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(function(m){return c||3!==m.type}).map(function(m){var b=new Mu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new es(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),E=-1,C=-1;return 0!==m.type&&(E=p.indexOf(m.doc.key),p=p.delete(m.doc.key)),1!==m.type&&(C=(p=p.add(m.doc)).indexOf(m.doc.key)),{type:KC(m.type),doc:b,oldIndex:E,newIndex:C}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},t}();function KC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function kb(t,e){return t instanceof Ki&&e instanceof Ki?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof wo&&e instanceof wo&&t._firestore===e._firestore&&Sb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Lb(t){if(Pg(t)&&0===t.explicitOrderBy.length)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pl=function(){};function ts(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var a=0,c=e;a<c.length;a++){var d=c[a];t=d._apply(t)}return t}var QC=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).jc=i,d.Wc=a,d.Gc=c,d.type="where",d}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var d,m,a=xu(i.firestore),c=function(d,p,m,b,E,C,I){var R;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){Ub(I,C);for(var O=[],j=0,W=I;j<W.length;j++)O.push(Ei(b,d,W[j]));R={arrayValue:{values:O}}}else R=Ei(b,d,I)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Ub(I,C),R=lh(m,"where",I,"in"===C||"not-in"===C);var me=yr.create(E,C,R);return function(Ie,Te){if(Te.g()){var We=kg(Ie);if(null!==We&&!We.isEqual(Te.field))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+We.toString()+"' and '"+Te.field.toString()+"'");var Oe=Fg(Ie);null!==Oe&&Fl(0,Te.field,Oe)}var gt=function(Xt,Eh){for(var Hl=0,uw=Xt.filters;Hl<uw.length;Hl++){var Dh=uw[Hl];if(Eh.indexOf(Dh.op)>=0)return Dh.op}return null}(Ie,function(Xt){switch(Xt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Te.op));if(null!==gt)throw new ge(ee.INVALID_ARGUMENT,gt===Te.op?"Invalid query. You cannot use more than one '"+Te.op.toString()+"' filter.":"Invalid query. You cannot use '"+Te.op.toString()+"' filters with '"+gt.toString()+"' filters.")}(d,me),me}(i._query,0,a,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pr(i.firestore,i.converter,(m=(d=i._query).filters.concat([c]),new ji(d.path,d.collectionGroup,d.explicitOrderBy.slice(),m,d.limit,d.limitType,d.startAt,d.endAt)))},e}(Pl),ZC=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).jc=i,c.zc=a,c.type="orderBy",c}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,p,a=function(c,d,p){if(null!==c.startAt)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new Bs(d,p);return function(b,E){if(null===Fg(b)){var C=kg(b);null!==C&&Fl(0,C,E.field)}}(c,m),m}(i._query,this.jc,this.zc);return new Pr(i.firestore,i.converter,(p=(c=i._query).explicitOrderBy.concat([a]),new ji(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},e}(Pl),Nu=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).type=i,d.Hc=a,d.Jc=c,d}return(0,A.ZT)(e,t),e.prototype._apply=function(i){return new Pr(i.firestore,i.converter,Lg(i._query,this.Hc,this.Jc))},e}(Pl),Ou=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).type=i,d.Yc=a,d.Xc=c,d}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,d,a=dh(i,this.type,this.Yc,this.Xc);return new Pr(i.firestore,i.converter,(d=a,new ji((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)))},e}(Pl),Vb=function(t){function e(i,a,c){var d=this;return(d=t.call(this)||this).type=i,d.Yc=a,d.Xc=c,d}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,d,a=dh(i,this.type,this.Yc,this.Xc);return new Pr(i.firestore,i.converter,(d=a,new ji((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,d)))},e}(Pl);function dh(t,e,i,a){if(i[0]=(0,_t.m9)(i[0]),i[0]instanceof Ml)return function(d,p,m,b,E){if(!b)throw new ge(ee.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var C=[],I=0,R=su(d);I<R.length;I++){var O=R[I];if(O.field.isKeyField())C.push(eu(p,b.key));else{var j=b.data.field(O.field);if(Cg(j))throw new ge(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){var W=O.field.canonicalString();throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+W+"' (used as the orderBy) does not exist.")}C.push(j)}}return new iu(C,E)}(t._query,t.firestore._databaseId,e,i[0]._document,a);var c=xu(t.firestore);return function(d,p,m,b,E,C){var I=d.explicitOrderBy;if(E.length>I.length)throw new ge(ee.INVALID_ARGUMENT,"Too many arguments provided to "+b+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var R=[],O=0;O<E.length;O++){var j=E[O];if(I[O].field.isKeyField()){if("string"!=typeof j)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+b+"(), but got a "+typeof j);if(!_d(d)&&-1!==j.indexOf("/"))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+b+"() must be a plain document ID, but '"+j+"' contains a slash.");var W=d.path.child(bt.fromString(j));if(!ke.isDocumentKey(W))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+b+"() must result in a valid document path, but '"+W+"' is not because it contains an odd number of segments.");var le=new ke(W);R.push(eu(p,le))}else{var me=lh(m,b,j);R.push(me)}}return new iu(R,C)}(t._query,t.firestore._databaseId,c,e,i,a)}function Ei(t,e,i){if("string"==typeof(i=(0,_t.m9)(i))){if(""===i)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_d(e)&&-1!==i.indexOf("/"))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var a=e.path.child(bt.fromString(i));if(!ke.isDocumentKey(a))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");return eu(t,new ke(a))}if(i instanceof Jt)return eu(t,i._key);throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+oh(i)+".")}function Ub(t,e){if(!Array.isArray(t)||0===t.length)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Fl(t,e,i){if(!i.isEqual(e))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var Km=function(){function t(){}return t.prototype.convertValue=function(e,i){switch(void 0===i&&(i="none"),Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Fe()}},t.prototype.convertObject=function(e,i){var a=this,c={};return Vs(e.fields,function(d,p){c[d]=a.convertValue(p,i)}),c},t.prototype.convertGeoPoint=function(e){return new xl(hn(e.latitude),hn(e.longitude))},t.prototype.convertArray=function(e,i){var a=this;return(e.values||[]).map(function(c){return a.convertValue(c,i)})},t.prototype.convertServerTimestamp=function(e,i){switch(i){case"previous":var a=n_(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ya(e));default:return null}},t.prototype.convertTimestamp=function(e){var i=zo(e);return new gr(i.seconds,i.nanos)},t.prototype.convertDocumentKey=function(e,i){var a=bt.fromString(e);Ze(x_(a));var c=new rh(a.get(1),a.get(3)),d=new ke(a.popFirst(5));return c.isEqual(i)||_n("Document "+d+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),d},t}();function hh(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}var e1=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new Ys(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Jt(this.firestore,null,a)},e}(Km),Qm=function(){function t(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}return t.prototype.set=function(e,i,a){this._verifyNotCommitted();var c=Qi(e,this._firestore),d=hh(c.converter,i,a),p=uh(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,a);return this._mutations.push(p.toMutation(c._key,$n.none())),this},t.prototype.update=function(e,i,a){for(var c=[],d=3;d<arguments.length;d++)c[d-3]=arguments[d];this._verifyNotCommitted();var p,m=Qi(e,this._firestore);return p="string"==typeof(i=(0,_t.m9)(i))||i instanceof Xr?Gm(this._dataReader,"WriteBatch.update",m._key,i,a,c):ch(this._dataReader,"WriteBatch.update",m._key,i),this._mutations.push(p.toMutation(m._key,$n.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var i=Qi(e,this._firestore);return this._mutations=this._mutations.concat(new uu(i._key,$n.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ge(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Qi(t,e){if((t=(0,_t.m9)(t)).firestore!==e)throw new ge(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ns=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new Ys(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new Jt(this.firestore,null,a)},e}(Km);function ph(t,e,i){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];t=wt(t,Jt);var d=wt(t.firestore,un),p=xu(d);return kl(d,[("string"==typeof(e=(0,_t.m9)(e))||e instanceof Xr?Gm(p,"updateDoc",t._key,e,i,a):ch(p,"updateDoc",t._key,e)).toMutation(t._key,$n.exists(!0))])}function gh(t){for(var e,i,a,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];t=(0,_t.m9)(t);var p={includeMetadataChanges:!1},m=0;"object"!=typeof c[m]||Ru(c[m])||(p=c[m],m++);var b,E,C,I={includeMetadataChanges:p.includeMetadataChanges};if(Ru(c[m])){var R=c[m];c[m]=null===(e=R.next)||void 0===e?void 0:e.bind(R),c[m+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),c[m+2]=null===(a=R.complete)||void 0===a?void 0:a.bind(R)}if(t instanceof Jt)E=wt(t.firestore,un),C=Hs(t._key.path),b={next:function(W){c[m]&&c[m](Zm(E,t,W))},error:c[m+1],complete:c[m+2]};else{var O=wt(t,Pr);E=wt(O.firestore,un),C=O._query;var j=new ns(E);b={next:function(W){c[m]&&c[m](new wo(E,j,O,W))},error:c[m+1],complete:c[m+2]},Lb(t._query)}return function(W,le,me,Ie){var Te=this,We=new eh(Ie),Oe=new eb(le,We,me);return W.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Te,void 0,void 0,function(){var gt;return(0,A.Jh)(this,function(Xt){switch(Xt.label){case 0:return gt=X_,[4,Su(W)];case 1:return[2,gt.apply(void 0,[Xt.sent(),Oe])]}})})}),function(){We.Wo(),W.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Te,void 0,void 0,function(){var gt;return(0,A.Jh)(this,function(Xt){switch(Xt.label){case 0:return gt=Ye,[4,Su(W)];case 1:return[2,gt.apply(void 0,[Xt.sent(),Oe])]}})})})}}(qt(E),C,I,b)}function kl(t,e){return function(i,a){var c=this,d=new On;return i.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(c,void 0,void 0,function(){var p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return p=Cl,[4,pb(i)];case 1:return[2,p.apply(void 0,[m.sent(),a,d])]}})})}),d.promise}(qt(t),e)}function Zm(t,e,i){var a=i.docs.get(e._key),c=new ns(t);return new Ki(t,c,e._key,a,new es(i.hasPendingWrites,i.fromCache),e.converter)}var YC=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this)._firestore=i,c}return(0,A.ZT)(e,t),e.prototype.get=function(i){var a=this,c=Qi(i,this._firestore),d=new ns(this._firestore);return t.prototype.get.call(this,i).then(function(p){return new Ki(a._firestore,d,c._key,p._document,new es(!1,!1),c.converter)})},e}(function(){function t(e,i){this._firestore=e,this._transaction=i,this._dataReader=xu(e)}return t.prototype.get=function(e){var i=this,a=Qi(e,this._firestore),c=new e1(this._firestore);return this._transaction.lookup([a._key]).then(function(d){if(!d||1!==d.length)return Fe();var p=d[0];if(p.isFoundDocument())return new Ml(i._firestore,c,p.key,p,a.converter);if(p.isNoDocument())return new Ml(i._firestore,c,a._key,null,a.converter);throw Fe()})},t.prototype.set=function(e,i,a){var c=Qi(e,this._firestore),d=hh(c.converter,i,a),p=uh(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,a);return this._transaction.set(c._key,p),this},t.prototype.update=function(e,i,a){for(var c=[],d=3;d<arguments.length;d++)c[d-3]=arguments[d];var p,m=Qi(e,this._firestore);return p="string"==typeof(i=(0,_t.m9)(i))||i instanceof Xr?Gm(this._dataReader,"Transaction.update",m._key,i,a,c):ch(this._dataReader,"Transaction.update",m._key,i),this._transaction.update(m._key,p),this},t.prototype.delete=function(e){var i=Qi(e,this._firestore);return this._transaction.delete(i._key),this},t}());function jb(){if("undefined"==typeof Uint8Array)throw new ge(ee.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ym(){if("undefined"==typeof atob)throw new ge(ee.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mh=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Ym(),new t(Ys.fromBase64String(e))},t.fromUint8Array=function(e){return jb(),new t(Ys.fromUint8Array(e))},t.prototype.toBase64=function(){return Ym(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return jb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Bb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,i){return function(a,c){Jr(a=wt(a,un));var d=qt(a),p=a._freezeSettings(),m=new km;return Bm(d,m,new Pn(m,p.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(e._delegate,{forceOwnership:i})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(i){Jr(i=wt(i,un));var a=qt(i),c=i._freezeSettings(),d=new km;return Bm(a,d,new kC(d,c.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(i){var a=this;if(i._initialized&&!i._terminated)throw new ge(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new On;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(a,void 0,void 0,function(){var d;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(m){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(E){switch(E.label){case 0:return hu.yt()?[4,hu.delete(m+"main")]:[2,Promise.resolve()];case 1:return E.sent(),[2]}})})}(Ld(i._databaseId,i._persistenceKey))];case 1:return p.sent(),c.resolve(),[3,3];case 2:return d=p.sent(),c.reject(d),[3,3];case 3:return[2]}})})}),c.promise}(e._delegate)},t}(),Hb=function(){function t(e,i,a){var c=this;this._delegate=i,this.Zc=a,this.INTERNAL={delete:function(){return c.terminate()}},e instanceof rh||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var i=this._delegate._getSettings();e.merge||i.host===e.host||$c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,i,a){void 0===a&&(a={}),function(c,d,p,m){void 0===m&&(m={});var b=(c=wt(c,sh))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==d&&$c("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},b),{host:d+":"+p,ssl:!1})),m.mockUserToken){var E=(0,_t.Sg)(m.mockUserToken),C=m.mockUserToken.sub||m.mockUserToken.user_id;if(!C)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c._credentials=new HC(new Au(E,new _r(C)))}}(this._delegate,e,i,a)},t.prototype.enableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,A.mG)(i,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,Vm(e)];case 1:return a=d.sent(),[4,hb(e)];case 2:return c=d.sent(),[2,(a.setNetworkEnabled(!0),p=c,m=De(p),m.Or.delete(0),vl(m))]}var p,m})})})}(qt(wt(this._delegate,un)))},t.prototype.disableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,A.mG)(i,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return[4,Vm(e)];case 1:return a=d.sent(),[4,hb(e)];case 2:return c=d.sent(),[2,(a.setNetworkEnabled(!1),function(p){return(0,A.mG)(this,void 0,void 0,function(){var m;return(0,A.Jh)(this,function(b){switch(b.label){case 0:return(m=De(p)).Or.add(0),[4,qi(m)];case 1:return b.sent(),m.Br.set("Offline"),[2]}})})}(c))]}})})})}(qt(wt(this._delegate,un)))},t.prototype.enablePersistence=function(e){var i=!1,a=!1;return e&&bb("synchronizeTabs",i=!!e.synchronizeTabs,"experimentalForceOwningTab",a=!!e.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,a)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var i=this,a=new On;return e.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){var c;return(0,A.Jh)(this,function(d){switch(d.label){case 0:return c=Il,[4,pb(e)];case 1:return[2,c.apply(void 0,[d.sent(),a])]}})})}),a.promise}(qt(wt(this._delegate,un)))},t.prototype.onSnapshotsInSync=function(e){return a=e,function(c,d){var p=this,m=new eh(d);return c.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return b=function(C,I){De(C).Gr.add(I),I.next()},[4,Su(c)];case 1:return[2,b.apply(void 0,[E.sent(),m])]}})})}),function(){m.Wo(),c.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return b=function(C,I){De(C).Gr.delete(I)},[4,Su(c)];case 1:return[2,b.apply(void 0,[E.sent(),m])]}})})})}}(qt(wt(this._delegate,un)),Ru(a)?a:{next:a});var a},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new rs(this,Ib(this._delegate,e))}catch(i){throw zn(i,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new ea(this,ah(this._delegate,e))}catch(i){throw zn(i,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Ul(this,function(i,a){if(i=wt(i,sh),ih("collectionGroup","collection id",a),a.indexOf("/")>=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pr(i,null,(c=a,new ji(bt.emptyPath(),c)));var c}(this._delegate,e))}catch(i){throw zn(i,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var a,i=this;return function(d,p){var m=this,b=new On;return d.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(m,void 0,void 0,function(){var E;return(0,A.Jh)(this,function(C){switch(C.label){case 0:return[4,(I=d,nh(I).then(function(R){return R.datastore}))];case 1:return E=C.sent(),new UC(d.asyncQueue,E,p,b).run(),[2]}var I})})}),b.promise}(qt(a=this._delegate),function(d){return function(a){return e(new Gb(i,a))}(new YC(a,d))})},t.prototype.batch=function(){var e=this;return qt(this._delegate),new Jm(new Qm(this._delegate,function(i){return kl(e._delegate,i)}))},t.prototype.loadBundle=function(e){throw new ge(ee.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new ge(ee.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ll=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new mh(new Ys(i))},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return ea.eu(a,this.firestore,null)},e}(Km),Gb=function(){function t(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Ll(e)}return t.prototype.get=function(e){var i=this,a=ta(e);return this._delegate.get(a).then(function(c){return new wn(i._firestore,new Ki(i._firestore._delegate,i._userDataWriter,c._key,c._document,c.metadata,a.converter))})},t.prototype.set=function(e,i,a){var c=ta(e);return a?(Um("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,d=[],p=3;p<arguments.length;p++)d[p-3]=arguments[p];var m=ta(e);return 2===arguments.length?this._delegate.update(m,i):(c=this._delegate).update.apply(c,(0,A.ev)([m,i,a],d)),this},t.prototype.delete=function(e){var i=ta(e);return this._delegate.delete(i),this},t}(),Jm=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,i,a){var c=ta(e);return a?(Um("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,d=[],p=3;p<arguments.length;p++)d[p-3]=arguments[p];var m=ta(e);return 2===arguments.length?this._delegate.update(m,i):(c=this._delegate).update.apply(c,(0,A.ev)([m,i,a],d)),this},t.prototype.delete=function(e){var i=ta(e);return this._delegate.delete(i),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Vl=function(){function t(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}return t.prototype.fromFirestore=function(e,i){var a=new Mu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zi(this._firestore,a),null!=i?i:{})},t.prototype.toFirestore=function(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)},t.nu=function(e,i){var a=t.su,c=a.get(e);c||(c=new WeakMap,a.set(e,c));var d=c.get(i);return d||(d=new t(e,new Ll(e),i),c.set(i,d)),d},t}();Vl.su=new WeakMap;var ea=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Ll(e)}return t.iu=function(e,i,a){if(e.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(i,new Jt(i._delegate,a,new ke(e)))},t.eu=function(e,i,a){return new t(i,new Jt(i._delegate,a,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rs(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new rs(this.firestore,Ib(this._delegate,e))}catch(i){throw zn(i,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,_t.m9)(e))instanceof Jt&&Tb(this._delegate,e)},t.prototype.set=function(e,i){i=Um("DocumentReference.set",i);try{return function(a,c,d){a=wt(a,Jt);var p=wt(a.firestore,un),m=hh(a.converter,c,d);return kl(p,[uh(xu(p),"setDoc",a._key,m,null!==a.converter,d).toMutation(a._key,$n.none())])}(this._delegate,e,i)}catch(a){throw zn(a,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,i){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return 1===arguments.length?ph(this._delegate,e):ph.apply(void 0,(0,A.ev)([this._delegate,e,i],a))}catch(d){throw zn(d,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return kl(wt((e=this._delegate).firestore,un),[new uu(e._key,$n.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=qb(i),d=JC(i,function(p){return new wn(e.firestore,new Ki(e.firestore._delegate,e._userDataWriter,p._key,p._document,p.metadata,e._delegate.converter))});return gh(this._delegate,c,d)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=wt(a,Jt);var c=wt(a.firestore,un),d=qt(c),p=new ns(c);return function(m,b){var E=this,C=new On;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(E,void 0,void 0,function(){var I;return(0,A.Jh)(this,function(R){switch(R.label){case 0:return I=function(O,j,W){return(0,A.mG)(this,void 0,void 0,function(){var le,me;return(0,A.Jh)(this,function(Ie){switch(Ie.label){case 0:return Ie.trys.push([0,2,,3]),[4,(Te=O,We=j,Oe=De(Te),Oe.persistence.runTransaction("read document","readonly",function(gt){return Oe.Mn.mn(gt,We)}))];case 1:return(me=Ie.sent()).isFoundDocument()?W.resolve(me):me.isNoDocument()?W.resolve(null):W.reject(new ge(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return le=Ie.sent(),me=wl(le,"Failed to get document '"+j+" from cache"),W.reject(me),[3,3];case 3:return[2]}var Te,We,Oe})})},[4,Al(m)];case 1:return[2,I.apply(void 0,[R.sent(),b,C])]}})})}),C.promise}(d,a._key).then(function(m){return new Ki(c,p,a._key,m,new es(null!==m&&m.hasLocalMutations,!0),a.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=wt(a,Jt);var c=wt(a.firestore,un);return gb(qt(c),a._key,{source:"server"}).then(function(d){return Zm(c,a,d)})}(this._delegate):function(a){a=wt(a,Jt);var c=wt(a.firestore,un);return gb(qt(c),a._key).then(function(d){return Zm(c,a,d)})}(this._delegate)).then(function(a){return new wn(i.firestore,new Ki(i.firestore._delegate,i._userDataWriter,a._key,a._document,a.metadata,i._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Vl.nu(this.firestore,e):null))},t}();function zn(t,e,i){return t.message=t.message.replace(e,i),t}function qb(t){for(var e=0,i=t;e<i.length;e++){var a=i[e];if("object"==typeof a&&!Ru(a))return a}return{}}function JC(t,e){var i,a,c;return{next:function(d){c.next&&c.next(e(d))},error:null===(i=(c=Ru(t[0])?t[0]:Ru(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}var wn=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ea(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,i){return this._delegate.get(e,i)},t.prototype.isEqual=function(e){return kb(this._delegate,e._delegate)},t}(),Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(i){return this._delegate.data(i)},e}(wn),Ul=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Ll(e)}return t.prototype.where=function(e,i,a){try{return new t(this.firestore,ts(this._delegate,(p=a,m=i,b=Ol("where",c=e),new QC(b,m,p))))}catch(c){throw zn(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,p,m,b},t.prototype.orderBy=function(e,i){try{return new t(this.firestore,ts(this._delegate,function(a,c){void 0===c&&(c="asc");var d=c,p=Ol("orderBy",a);return new ZC(p,d)}(e,i)))}catch(a){throw zn(a,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ts(this._delegate,(Db("limit",i=e),new Nu("limit",i,"F"))))}catch(i){throw zn(i,"limit()","Query.limit()")}var i},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ts(this._delegate,(Db("limitToLast",i=e),new Nu("limitToLast",i,"L"))))}catch(i){throw zn(i,"limitToLast()","Query.limitToLast()")}var i},t.prototype.startAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,ts(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Ou("startAt",a,!0)}.apply(void 0,e)))}catch(a){throw zn(a,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,ts(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Ou("startAfter",a,!1)}.apply(void 0,e)))}catch(a){throw zn(a,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,ts(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Vb("endBefore",a,!0)}.apply(void 0,e)))}catch(a){throw zn(a,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,ts(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Vb("endAt",a,!1)}.apply(void 0,e)))}catch(a){throw zn(a,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return Sb(this._delegate,e._delegate)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=wt(a,Pr);var c=wt(a.firestore,un),d=qt(c),p=new ns(c);return function(m,b){var E=this,C=new On;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(E,void 0,void 0,function(){var I;return(0,A.Jh)(this,function(R){switch(R.label){case 0:return I=function(O,j,W){return(0,A.mG)(this,void 0,void 0,function(){var le,me,Ie,Te,We;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return Oe.trys.push([0,2,,3]),[4,ym(O,j,!0)];case 1:return We=Oe.sent(),le=new Bt(j,We.Bn),me=le._o(We.documents),Ie=le.applyChanges(me,!1),W.resolve(Ie.snapshot),[3,3];case 2:return Te=Oe.sent(),We=wl(Te,"Failed to execute query '"+j+" against cache"),W.reject(We),[3,3];case 3:return[2]}})})},[4,Al(m)];case 1:return[2,I.apply(void 0,[R.sent(),b,C])]}})})}),C.promise}(d,a._query).then(function(m){return new wo(c,p,a,m)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=wt(a,Pr);var c=wt(a.firestore,un),d=qt(c),p=new ns(c);return mb(d,a._query,{source:"server"}).then(function(m){return new wo(c,p,a,m)})}(this._delegate):function(a){a=wt(a,Pr);var c=wt(a.firestore,un),d=qt(c),p=new ns(c);return Lb(a._query),mb(d,a._query).then(function(m){return new wo(c,p,a,m)})}(this._delegate)).then(function(a){return new zb(i.firestore,new wo(i.firestore._delegate,i._userDataWriter,i._delegate,a._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=qb(i),d=JC(i,function(p){return new zb(e.firestore,new wo(e.firestore._delegate,e._userDataWriter,e._delegate,p._snapshot))});return gh(this._delegate,c,d)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Vl.nu(this.firestore,e):null))},t}(),XC=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Zi(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),zb=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"query",{get:function(){return new Ul(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(i){return new Zi(e._firestore,i)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var i=this;return this._delegate.docChanges(e).map(function(a){return new XC(i._firestore,a)})},t.prototype.forEach=function(e,i){var a=this;this._delegate.forEach(function(c){e.call(i,new Zi(a._firestore,c))})},t.prototype.isEqual=function(e){return kb(this._delegate,e._delegate)},t}(),rs=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).firestore=i,c._delegate=a,c}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new ea(this.firestore,i):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(i){try{return new ea(this.firestore,void 0===i?ah(this._delegate):ah(this._delegate,i))}catch(a){throw zn(a,"doc()","CollectionReference.doc()")}},e.prototype.add=function(i){var c,d,p,m,b,a=this;return(c=this._delegate,d=i,p=wt(c.firestore,un),m=ah(c),b=hh(c.converter,d),kl(p,[uh(xu(c.firestore),"addDoc",m._key,b,null!==c.converter,{}).toMutation(m._key,$n.exists(!1))]).then(function(){return m})).then(function(c){return new ea(a.firestore,c)})},e.prototype.isEqual=function(i){return Tb(this._delegate,i._delegate)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?Vl.nu(this.firestore,i):null))},e}(Ul);function ta(t){return wt(t,Jt)}var Xm=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._delegate=new(Xr.bind.apply(Xr,(0,A.ev)([void 0],e)))}return t.documentId=function(){return new t(qr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,_t.m9)(e))instanceof Xr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),eI=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new JT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $m("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return new Nb("arrayUnion",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayUnion",new t(a)},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return new zC("arrayRemove",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayRemove",new t(a)},t.increment=function(e){var i=new XT("increment",e);return i._methodName="FieldValue.increment",new t(i)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),nI=M(6034),ey={Firestore:Hb,GeoPoint:xl,Timestamp:gr,Blob:mh,Transaction:Gb,WriteBatch:Jm,DocumentReference:ea,DocumentSnapshot:wn,Query:Ul,QueryDocumentSnapshot:Zi,QuerySnapshot:zb,CollectionReference:rs,FieldPath:Xm,FieldValue:eI,setLogLevel:function(t){Gr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new nI.wA("firestore",function(a){return e=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),new Hb(e,new un(e,i),new Bb);var e,i},"PUBLIC").setServiceProps(Object.assign({},ey))),t.registerVersion("@firebase/firestore","2.3.10")}(Jv.Z),M(6682),M(7771),M(8858),M(3101);const Pu=new _.OlP("angularfire2.auth.use-emulator");function iy(t,e){return function(t,e=ZE.z){return new Si.y(i=>{let a;return null!=e?e.schedule(()=>{a=t.onSnapshot({includeMetadataChanges:!0},i)}):a=t.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(t,e)}function oy(t,e){return iy(t,e).pipe((0,it.U)(i=>({payload:i,type:"query"})))}function Bl(t,e){return oy(t,e).pipe(cf(void 0),jf(),(0,it.U)(([i,a])=>{const c=a.payload.docChanges(),d=c.map(p=>({type:p.type,payload:p}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((p,m)=>{const b=c.find(C=>C.doc.ref.isEqual(p.ref)),E=null==i?void 0:i.payload.docs.find(C=>C.ref.isEqual(p.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(p.metadata)||!b&&E&&JSON.stringify(E.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:p}})}),d}))}function nw(t,e,i){return Bl(t,i).pipe(ma((a,c)=>function(t,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bh(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return bh(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bh(t,e.oldIndex,1)}return t}(t,a))}),t}(a,c.map(d=>d.payload),e),[]),i=>i.lift(new nt(void 0,void 0)),(0,it.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function bh(t,e,i,...a){const c=t.slice();return c.splice(e,i,...a),c}function sy(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class ow{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=Bl(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,it.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe(cf(void 0),jf(),Mo(([a,c])=>c.length>0||!a),(0,it.U)(([a,c])=>c),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ma((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=sy(e);return nw(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return oy(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,on.D)(this.query.get(e)).pipe((0,ao.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new sw(this.ref.doc(e),this.afs)}}class sw{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:d}=uI(a,i);return new ow(c,d,this.afs)}snapshotChanges(){return function(t,e){return iy(t,e).pipe(cf(void 0),jf(),(0,it.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe((0,ao.QV)(this.afs.schedulers.insideAngular))}}class oI{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Bl(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),Mo(i=>i.length>0),this.afs.keepUnstableUntilFirst):Bl(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ma((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=sy(e);return nw(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return oy(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,on.D)(this.query.get(e)).pipe((0,ao.QV)(this.afs.schedulers.insideAngular))}}const wh=new _.OlP("angularfire2.enableFirestorePersistence"),aw=new _.OlP("angularfire2.firestore.persistenceSettings"),sI=new _.OlP("angularfire2.firestore.settings"),aI=new _.OlP("angularfire2.firestore.use-emulator");function uI(t,e=(i=>i)){return{query:e(t),ref:t}}let cI=(()=>{class t{constructor(i,a,c,d,p,m,b,E,C){this.schedulers=new Gt.HU(m),this.keepUnstableUntilFirst=(0,Gt.ss)(this.schedulers);const I=(0,Gt.on)(i,m,a);!di.Z.auth&&C&&(0,Gt.yq)();const R=E;[this.firestore,this.persistenceEnabled$]=(0,Gt.sI)(`${I.name}.firestore`,"AngularFirestore",I,()=>{const O=m.runOutsideAngular(()=>I.firestore());if(d&&O.settings(d),R&&O.useEmulator(...R),c&&!function(t){return"server"===t}(p)){const j=()=>{try{return(0,on.D)(O.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(W){return"undefined"!=typeof console&&console.warn(W),(0,Qe.of)(!1)}};return[O,m.runOutsideAngular(j)]}return[O,(0,Qe.of)(!1)]},[d,R,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:d,query:p}=uI(c,a),m=this.schedulers.ngZone.run(()=>d);return new ow(m,p,this)}collectionGroup(i,a){const c=a||(p=>p),d=this.firestore.collectionGroup(i);return new oI(c(d),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new sw(c,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(i){return new(i||t)(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(wh,8),_.LFG(sI,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(aw,8),_.LFG(aI,8),_.LFG(Pu,8))},t.\u0275prov=_.Yz7({factory:function(){return new t(_.LFG(Gt.Dh),_.LFG(Gt.xv,8),_.LFG(wh,8),_.LFG(sI,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(aw,8),_.LFG(aI,8),_.LFG(Pu,8))},token:t,providedIn:"any"}),t})(),i1=(()=>{class t{static enablePersistence(i){return{ngModule:t,providers:[{provide:wh,useValue:!0},{provide:aw,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[cI]}),t})();const o1=[{path:"",component:(()=>{class t{constructor(i){this.firestore=i}ngOnInit(){var i=this;return function(t){return function(){var e=this,i=arguments;return new Promise(function(a,c){var d=t.apply(e,i);function p(b){Zv(d,a,c,p,m,"next",b)}function m(b){Zv(d,a,c,p,m,"throw",b)}p(void 0)})}}(function*(){const a=yield i.firestore.collection("posts").doc("1").valueChanges().subscribe(c=>console.log(c));console.log(a)})()}}return t.\u0275fac=function(i){return new(i||t)(_.Y36(cI))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-home"]],decls:43,vars:0,consts:[[1,"row","m-0","col-12"],[1,"p-auto","text-center","ps-md-5","pe-md-5","col-12","col-md-10","m-auto"],[1,"first-text","text-white"],[1,"first-text"],[1,"col-12","row","mt-5","second","p-auto","m-auto"],[1,"col-12","col-md-6","d-flex","align-items-center","justify-content-center"],[1,"text-center","align-middle","m-auto"],[1,"col-12","col-md-6"],["src","assets/social-media-hand.png",1,"w-100"],[1,"col-12","row","mt-5","second"],["src","assets/social-media-phone.png",1,"w-100"],["src","assets/web-development.png",1,"w-100"],[1,"col-12","row","mt-5"],[1,"col-12","col-md-12"]],template:function(i,a){1&i&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"h2",2),_._uU(3,"C\xe2\u0219tig\u0103 vizibilitate \xeen mediul online prin marketing-ul digital."),_.qZA(),_.TgZ(4,"h5",3),_._uU(5," DIGITIFY este o agen\u021bie de marketing, \xeen care pasiunea, creativitatea \u0219i inovarea se reunesc pentru a creiona profilurile viitoarelor afaceri de succes. "),_._UZ(6,"br"),_._uU(7," Aloc\u0103-\u021bi timp pentru a face o schimbare \xeen organiza\u021bia ta! Alege s\u0103 cre\u0219ti \u0219i s\u0103 te men\u021bii pe pia\u021b\u0103 prin diferite canale de promovare! "),_.qZA(),_.qZA(),_.TgZ(8,"div",4),_.TgZ(9,"div",5),_.TgZ(10,"div",6),_.TgZ(11,"h4"),_._uU(12," Incepe sa cresti chiar astazi, nu mai sta pe ganduri! "),_.qZA(),_.TgZ(13,"h5"),_._uU(14," Noi te putem ajuta si iti punem la dispozi\u021bie o gam\u0103 variat\u0103 de solu\u021bii \u0219i servicii de la Google Ads, Instagram Ads, Facebook Ads, LinkedIn Ads p\xe2n\u0103 la design de produs, website-uri si aplicatii de mobil. "),_.qZA(),_.qZA(),_.qZA(),_.TgZ(15,"div",7),_._UZ(16,"img",8),_.qZA(),_.qZA(),_.TgZ(17,"div",9),_.TgZ(18,"div",7),_._UZ(19,"img",10),_.qZA(),_.TgZ(20,"div",5),_.TgZ(21,"div",6),_.TgZ(22,"h4"),_._uU(23," Vrem sa te ajutam sa iti vezi visul implinit "),_.qZA(),_.TgZ(24,"h5"),_._uU(25," Aloc\u0103-\u021bi timp pentru a face o schimbare \xeen organiza\u021bia ta! Alege s\u0103 cre\u0219ti \u0219i s\u0103 te men\u021bii pe pia\u021b\u0103! "),_._UZ(26,"br"),_._uU(27," Noi, echipa DIGITIFY, suntem aici pentru tine, e\u0219ti preg\u0103tit?! "),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",9),_.TgZ(29,"div",5),_.TgZ(30,"div",6),_.TgZ(31,"h4"),_._uU(32," Mediul online este perfect pentru tine "),_.qZA(),_.TgZ(33,"h5"),_._uU(34," De cand ne-a lovit pandemia, toate firmele, de la cele mai mici, la cele mai mari, s-au mutat in online pentru a putea fi mai aproape de clientii lor! "),_._UZ(35,"br"),_._uU(36," Vrem sa te ajutam sa fii chiar langa clientii tai, la un click distanta. "),_.qZA(),_.qZA(),_.qZA(),_.TgZ(37,"div",7),_._UZ(38,"img",11),_.qZA(),_.qZA(),_.TgZ(39,"div",12),_.TgZ(40,"h3"),_._uU(41,"Cu ce te putem ajuta noi?"),_.qZA(),_._UZ(42,"div",13),_.qZA(),_.qZA())},styles:[".first-text[_ngcontent-%COMP%]{line-height:1.6}.second[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .second[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{line-height:1.5!important}"]}),t})()}];let s1=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[Vf.forRoot(o1)],Vf]}),t})();const lI_firebaseConfig={apiKey:"AIzaSyDkZ3_ewia5BAI4xl7REt7Y7ToHdD28bUo",authDomain:"digitify-4ae4b.firebaseapp.com",databaseURL:"https://digitify-4ae4b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"digitify-4ae4b",storageBucket:"digitify-4ae4b.appspot.com",messagingSenderId:"44855302980",appId:"1:44855302980:web:fad7cb0febe70383a41511",measurementId:"G-D5B2TPH2JQ"};let a1=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=_.oAB({type:t,bootstrap:[KE]}),t.\u0275inj=_.cJS({providers:[],imports:[[Vf,Zu,s1,Gt.hO.initializeApp(lI_firebaseConfig),i1]]}),t})();(0,_.G48)(),$w().bootstrapModule(a1).catch(t=>console.error(t))},4762:(Ve,pe,M)=>{"use strict";M.d(pe,{ZT:()=>te,pi:()=>he,mG:()=>ue,Jh:()=>G,XA:()=>B,CR:()=>P,ev:()=>se});var _=function(K,J){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Q){z.__proto__=Q}||function(z,Q){for(var ye in Q)Object.prototype.hasOwnProperty.call(Q,ye)&&(z[ye]=Q[ye])})(K,J)};function te(K,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function z(){this.constructor=K}_(K,J),K.prototype=null===J?Object.create(J):(z.prototype=J.prototype,new z)}var he=function(){return(he=Object.assign||function(J){for(var z,Q=1,ye=arguments.length;Q<ye;Q++)for(var Z in z=arguments[Q])Object.prototype.hasOwnProperty.call(z,Z)&&(J[Z]=z[Z]);return J}).apply(this,arguments)};function ue(K,J,z,Q){return new(z||(z=Promise))(function(Z,Pe){function Ke(Ft){try{Ue(Q.next(Ft))}catch(et){Pe(et)}}function Ht(Ft){try{Ue(Q.throw(Ft))}catch(et){Pe(et)}}function Ue(Ft){Ft.done?Z(Ft.value):function(Z){return Z instanceof z?Z:new z(function(Pe){Pe(Z)})}(Ft.value).then(Ke,Ht)}Ue((Q=Q.apply(K,J||[])).next())})}function G(K,J){var Q,ye,Z,Pe,z={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return Pe={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Ke(Ue){return function(Ft){return function(Ue){if(Q)throw new TypeError("Generator is already executing.");for(;z;)try{if(Q=1,ye&&(Z=2&Ue[0]?ye.return:Ue[0]?ye.throw||((Z=ye.return)&&Z.call(ye),0):ye.next)&&!(Z=Z.call(ye,Ue[1])).done)return Z;switch(ye=0,Z&&(Ue=[2&Ue[0],Z.value]),Ue[0]){case 0:case 1:Z=Ue;break;case 4:return z.label++,{value:Ue[1],done:!1};case 5:z.label++,ye=Ue[1],Ue=[0];continue;case 7:Ue=z.ops.pop(),z.trys.pop();continue;default:if(!(Z=(Z=z.trys).length>0&&Z[Z.length-1])&&(6===Ue[0]||2===Ue[0])){z=0;continue}if(3===Ue[0]&&(!Z||Ue[1]>Z[0]&&Ue[1]<Z[3])){z.label=Ue[1];break}if(6===Ue[0]&&z.label<Z[1]){z.label=Z[1],Z=Ue;break}if(Z&&z.label<Z[2]){z.label=Z[2],z.ops.push(Ue);break}Z[2]&&z.ops.pop(),z.trys.pop();continue}Ue=J.call(K,z)}catch(Ft){Ue=[6,Ft],ye=0}finally{Q=Z=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,Ft])}}}function B(K){var J="function"==typeof Symbol&&Symbol.iterator,z=J&&K[J],Q=0;if(z)return z.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&Q>=K.length&&(K=void 0),{value:K&&K[Q++],done:!K}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(K,J){var z="function"==typeof Symbol&&K[Symbol.iterator];if(!z)return K;var ye,Pe,Q=z.call(K),Z=[];try{for(;(void 0===J||J-- >0)&&!(ye=Q.next()).done;)Z.push(ye.value)}catch(Ke){Pe={error:Ke}}finally{try{ye&&!ye.done&&(z=Q.return)&&z.call(Q)}finally{if(Pe)throw Pe.error}}return Z}function se(K,J,z){if(z||2===arguments.length)for(var Z,Q=0,ye=J.length;Q<ye;Q++)(Z||!(Q in J))&&(Z||(Z=Array.prototype.slice.call(J,0,Q)),Z[Q]=J[Q]);return K.concat(Z||Array.prototype.slice.call(J))}}},Ve=>{Ve(Ve.s=1905)}]);